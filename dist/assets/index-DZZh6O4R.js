var Pf=e=>{throw TypeError(e)};var Mc=(e,t,n)=>t.has(e)||Pf("Cannot "+n);var S=(e,t,n)=>(Mc(e,t,"read from private field"),n?n.call(e):t.get(e)),J=(e,t,n)=>t.has(e)?Pf("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),W=(e,t,n,r)=>(Mc(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),ae=(e,t,n)=>(Mc(e,t,"access private method"),n);var xa=(e,t,n,r)=>({set _(i){W(e,t,i,n)},get _(){return S(e,t,r)}});function Pj(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function xg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var vg={exports:{}},Gl={},wg={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var na=Symbol.for("react.element"),Rj=Symbol.for("react.portal"),Aj=Symbol.for("react.fragment"),Oj=Symbol.for("react.strict_mode"),Ij=Symbol.for("react.profiler"),Lj=Symbol.for("react.provider"),Mj=Symbol.for("react.context"),Dj=Symbol.for("react.forward_ref"),Fj=Symbol.for("react.suspense"),_j=Symbol.for("react.memo"),zj=Symbol.for("react.lazy"),Rf=Symbol.iterator;function $j(e){return e===null||typeof e!="object"?null:(e=Rf&&e[Rf]||e["@@iterator"],typeof e=="function"?e:null)}var jg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ng=Object.assign,bg={};function Ii(e,t,n){this.props=e,this.context=t,this.refs=bg,this.updater=n||jg}Ii.prototype.isReactComponent={};Ii.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ii.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Sg(){}Sg.prototype=Ii.prototype;function th(e,t,n){this.props=e,this.context=t,this.refs=bg,this.updater=n||jg}var nh=th.prototype=new Sg;nh.constructor=th;Ng(nh,Ii.prototype);nh.isPureReactComponent=!0;var Af=Array.isArray,Cg=Object.prototype.hasOwnProperty,rh={current:null},kg={key:!0,ref:!0,__self:!0,__source:!0};function Eg(e,t,n){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)Cg.call(t,r)&&!kg.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:na,type:e,key:o,ref:a,props:i,_owner:rh.current}}function Uj(e,t){return{$$typeof:na,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function sh(e){return typeof e=="object"&&e!==null&&e.$$typeof===na}function Wj(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Of=/\/+/g;function Dc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Wj(""+e.key):t.toString(36)}function Va(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case na:case Rj:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+Dc(a,0):r,Af(i)?(n="",e!=null&&(n=e.replace(Of,"$&/")+"/"),Va(i,t,n,"",function(u){return u})):i!=null&&(sh(i)&&(i=Uj(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Of,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",Af(e))for(var l=0;l<e.length;l++){o=e[l];var c=r+Dc(o,l);a+=Va(o,t,n,c,i)}else if(c=$j(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=r+Dc(o,l++),a+=Va(o,t,n,c,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function va(e,t,n){if(e==null)return e;var r=[],i=0;return Va(e,r,"","",function(o){return t.call(n,o,i++)}),r}function Bj(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Nt={current:null},Qa={transition:null},qj={ReactCurrentDispatcher:Nt,ReactCurrentBatchConfig:Qa,ReactCurrentOwner:rh};function Tg(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:va,forEach:function(e,t,n){va(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return va(e,function(){t++}),t},toArray:function(e){return va(e,function(t){return t})||[]},only:function(e){if(!sh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};le.Component=Ii;le.Fragment=Aj;le.Profiler=Ij;le.PureComponent=th;le.StrictMode=Oj;le.Suspense=Fj;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qj;le.act=Tg;le.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Ng({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=rh.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Cg.call(t,c)&&!kg.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:na,type:e.type,key:i,ref:o,props:r,_owner:a}};le.createContext=function(e){return e={$$typeof:Mj,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Lj,_context:e},e.Consumer=e};le.createElement=Eg;le.createFactory=function(e){var t=Eg.bind(null,e);return t.type=e,t};le.createRef=function(){return{current:null}};le.forwardRef=function(e){return{$$typeof:Dj,render:e}};le.isValidElement=sh;le.lazy=function(e){return{$$typeof:zj,_payload:{_status:-1,_result:e},_init:Bj}};le.memo=function(e,t){return{$$typeof:_j,type:e,compare:t===void 0?null:t}};le.startTransition=function(e){var t=Qa.transition;Qa.transition={};try{e()}finally{Qa.transition=t}};le.unstable_act=Tg;le.useCallback=function(e,t){return Nt.current.useCallback(e,t)};le.useContext=function(e){return Nt.current.useContext(e)};le.useDebugValue=function(){};le.useDeferredValue=function(e){return Nt.current.useDeferredValue(e)};le.useEffect=function(e,t){return Nt.current.useEffect(e,t)};le.useId=function(){return Nt.current.useId()};le.useImperativeHandle=function(e,t,n){return Nt.current.useImperativeHandle(e,t,n)};le.useInsertionEffect=function(e,t){return Nt.current.useInsertionEffect(e,t)};le.useLayoutEffect=function(e,t){return Nt.current.useLayoutEffect(e,t)};le.useMemo=function(e,t){return Nt.current.useMemo(e,t)};le.useReducer=function(e,t,n){return Nt.current.useReducer(e,t,n)};le.useRef=function(e){return Nt.current.useRef(e)};le.useState=function(e){return Nt.current.useState(e)};le.useSyncExternalStore=function(e,t,n){return Nt.current.useSyncExternalStore(e,t,n)};le.useTransition=function(){return Nt.current.useTransition()};le.version="18.3.1";wg.exports=le;var p=wg.exports;const Dn=xg(p),Xl=Pj({__proto__:null,default:Dn},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hj=p,Vj=Symbol.for("react.element"),Qj=Symbol.for("react.fragment"),Kj=Object.prototype.hasOwnProperty,Yj=Hj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Gj={key:!0,ref:!0,__self:!0,__source:!0};function Pg(e,t,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Kj.call(t,r)&&!Gj.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Vj,type:e,key:o,ref:a,props:i,_owner:Yj.current}}Gl.Fragment=Qj;Gl.jsx=Pg;Gl.jsxs=Pg;vg.exports=Gl;var s=vg.exports,ku={},Rg={exports:{}},qt={},Ag={exports:{}},Og={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,D){var B=R.length;R.push(D);e:for(;0<B;){var Q=B-1>>>1,ne=R[Q];if(0<i(ne,D))R[Q]=D,R[B]=ne,B=Q;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var D=R[0],B=R.pop();if(B!==D){R[0]=B;e:for(var Q=0,ne=R.length,L=ne>>>1;Q<L;){var we=2*(Q+1)-1,Dt=R[we],mt=we+1,ee=R[mt];if(0>i(Dt,B))mt<ne&&0>i(ee,Dt)?(R[Q]=ee,R[mt]=B,Q=mt):(R[Q]=Dt,R[we]=B,Q=we);else if(mt<ne&&0>i(ee,B))R[Q]=ee,R[mt]=B,Q=mt;else break e}}return D}function i(R,D){var B=R.sortIndex-D.sortIndex;return B!==0?B:R.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,g=3,j=!1,w=!1,x=!1,f=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(R){for(var D=n(u);D!==null;){if(D.callback===null)r(u);else if(D.startTime<=R)r(u),D.sortIndex=D.expirationTime,t(c,D);else break;D=n(u)}}function N(R){if(x=!1,v(R),!w)if(n(c)!==null)w=!0,G(b);else{var D=n(u);D!==null&&$(N,D.startTime-R)}}function b(R,D){w=!1,x&&(x=!1,m(P),P=-1),j=!0;var B=g;try{for(v(D),d=n(c);d!==null&&(!(d.expirationTime>D)||R&&!I());){var Q=d.callback;if(typeof Q=="function"){d.callback=null,g=d.priorityLevel;var ne=Q(d.expirationTime<=D);D=e.unstable_now(),typeof ne=="function"?d.callback=ne:d===n(c)&&r(c),v(D)}else r(c);d=n(c)}if(d!==null)var L=!0;else{var we=n(u);we!==null&&$(N,we.startTime-D),L=!1}return L}finally{d=null,g=B,j=!1}}var k=!1,C=null,P=-1,A=5,O=-1;function I(){return!(e.unstable_now()-O<A)}function M(){if(C!==null){var R=e.unstable_now();O=R;var D=!0;try{D=C(!0,R)}finally{D?Y():(k=!1,C=null)}}else k=!1}var Y;if(typeof y=="function")Y=function(){y(M)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,ce=q.port2;q.port1.onmessage=M,Y=function(){ce.postMessage(null)}}else Y=function(){f(M,0)};function G(R){C=R,k||(k=!0,Y())}function $(R,D){P=f(function(){R(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){w||j||(w=!0,G(b))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(R){switch(g){case 1:case 2:case 3:var D=3;break;default:D=g}var B=g;g=D;try{return R()}finally{g=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,D){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var B=g;g=R;try{return D()}finally{g=B}},e.unstable_scheduleCallback=function(R,D,B){var Q=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?Q+B:Q):B=Q,R){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=B+ne,R={id:h++,callback:D,priorityLevel:R,startTime:B,expirationTime:ne,sortIndex:-1},B>Q?(R.sortIndex=B,t(u,R),n(c)===null&&R===n(u)&&(x?(m(P),P=-1):x=!0,$(N,B-Q))):(R.sortIndex=ne,t(c,R),w||j||(w=!0,G(b))),R},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(R){var D=g;return function(){var B=g;g=D;try{return R.apply(this,arguments)}finally{g=B}}}})(Og);Ag.exports=Og;var Xj=Ag.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jj=p,Bt=Xj;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ig=new Set,Eo={};function Is(e,t){Ni(e,t),Ni(e+"Capture",t)}function Ni(e,t){for(Eo[e]=t,e=0;e<t.length;e++)Ig.add(t[e])}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Eu=Object.prototype.hasOwnProperty,Zj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,If={},Lf={};function e0(e){return Eu.call(Lf,e)?!0:Eu.call(If,e)?!1:Zj.test(e)?Lf[e]=!0:(If[e]=!0,!1)}function t0(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function n0(e,t,n,r){if(t===null||typeof t>"u"||t0(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function bt(e,t,n,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){tt[e]=new bt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];tt[t]=new bt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){tt[e]=new bt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){tt[e]=new bt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){tt[e]=new bt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){tt[e]=new bt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){tt[e]=new bt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){tt[e]=new bt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){tt[e]=new bt(e,5,!1,e.toLowerCase(),null,!1,!1)});var ih=/[\-:]([a-z])/g;function oh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ih,oh);tt[t]=new bt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ih,oh);tt[t]=new bt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ih,oh);tt[t]=new bt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){tt[e]=new bt(e,1,!1,e.toLowerCase(),null,!1,!1)});tt.xlinkHref=new bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){tt[e]=new bt(e,1,!1,e.toLowerCase(),null,!0,!0)});function ah(e,t,n,r){var i=tt.hasOwnProperty(t)?tt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(n0(t,n,i,r)&&(n=null),r||i===null?e0(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var nr=Jj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wa=Symbol.for("react.element"),Us=Symbol.for("react.portal"),Ws=Symbol.for("react.fragment"),lh=Symbol.for("react.strict_mode"),Tu=Symbol.for("react.profiler"),Lg=Symbol.for("react.provider"),Mg=Symbol.for("react.context"),ch=Symbol.for("react.forward_ref"),Pu=Symbol.for("react.suspense"),Ru=Symbol.for("react.suspense_list"),uh=Symbol.for("react.memo"),ur=Symbol.for("react.lazy"),Dg=Symbol.for("react.offscreen"),Mf=Symbol.iterator;function Xi(e){return e===null||typeof e!="object"?null:(e=Mf&&e[Mf]||e["@@iterator"],typeof e=="function"?e:null)}var Oe=Object.assign,Fc;function co(e){if(Fc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Fc=t&&t[1]||""}return`
`+Fc+e}var _c=!1;function zc(e,t){if(!e||_c)return"";_c=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,l=o.length-1;1<=a&&0<=l&&i[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==o[l]){var c=`
`+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{_c=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?co(e):""}function r0(e){switch(e.tag){case 5:return co(e.type);case 16:return co("Lazy");case 13:return co("Suspense");case 19:return co("SuspenseList");case 0:case 2:case 15:return e=zc(e.type,!1),e;case 11:return e=zc(e.type.render,!1),e;case 1:return e=zc(e.type,!0),e;default:return""}}function Au(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ws:return"Fragment";case Us:return"Portal";case Tu:return"Profiler";case lh:return"StrictMode";case Pu:return"Suspense";case Ru:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Mg:return(e.displayName||"Context")+".Consumer";case Lg:return(e._context.displayName||"Context")+".Provider";case ch:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case uh:return t=e.displayName||null,t!==null?t:Au(e.type)||"Memo";case ur:t=e._payload,e=e._init;try{return Au(e(t))}catch{}}return null}function s0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Au(t);case 8:return t===lh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ur(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Fg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function i0(e){var t=Fg(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ja(e){e._valueTracker||(e._valueTracker=i0(e))}function _g(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Fg(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function hl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ou(e,t){var n=t.checked;return Oe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Df(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ur(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function zg(e,t){t=t.checked,t!=null&&ah(e,"checked",t,!1)}function Iu(e,t){zg(e,t);var n=Ur(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Lu(e,t.type,n):t.hasOwnProperty("defaultValue")&&Lu(e,t.type,Ur(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ff(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Lu(e,t,n){(t!=="number"||hl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var uo=Array.isArray;function ei(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ur(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Mu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return Oe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _f(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(F(92));if(uo(n)){if(1<n.length)throw Error(F(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ur(n)}}function $g(e,t){var n=Ur(t.value),r=Ur(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function zf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ug(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Du(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ug(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Na,Wg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Na=Na||document.createElement("div"),Na.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Na.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function To(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var xo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},o0=["Webkit","ms","Moz","O"];Object.keys(xo).forEach(function(e){o0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),xo[t]=xo[e]})});function Bg(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||xo.hasOwnProperty(e)&&xo[e]?(""+t).trim():t+"px"}function qg(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Bg(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var a0=Oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fu(e,t){if(t){if(a0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function _u(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zu=null;function dh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $u=null,ti=null,ni=null;function $f(e){if(e=ia(e)){if(typeof $u!="function")throw Error(F(280));var t=e.stateNode;t&&(t=nc(t),$u(e.stateNode,e.type,t))}}function Hg(e){ti?ni?ni.push(e):ni=[e]:ti=e}function Vg(){if(ti){var e=ti,t=ni;if(ni=ti=null,$f(e),t)for(e=0;e<t.length;e++)$f(t[e])}}function Qg(e,t){return e(t)}function Kg(){}var $c=!1;function Yg(e,t,n){if($c)return e(t,n);$c=!0;try{return Qg(e,t,n)}finally{$c=!1,(ti!==null||ni!==null)&&(Kg(),Vg())}}function Po(e,t){var n=e.stateNode;if(n===null)return null;var r=nc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(F(231,t,typeof n));return n}var Uu=!1;if(Yn)try{var Ji={};Object.defineProperty(Ji,"passive",{get:function(){Uu=!0}}),window.addEventListener("test",Ji,Ji),window.removeEventListener("test",Ji,Ji)}catch{Uu=!1}function l0(e,t,n,r,i,o,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(h){this.onError(h)}}var vo=!1,fl=null,ml=!1,Wu=null,c0={onError:function(e){vo=!0,fl=e}};function u0(e,t,n,r,i,o,a,l,c){vo=!1,fl=null,l0.apply(c0,arguments)}function d0(e,t,n,r,i,o,a,l,c){if(u0.apply(this,arguments),vo){if(vo){var u=fl;vo=!1,fl=null}else throw Error(F(198));ml||(ml=!0,Wu=u)}}function Ls(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Gg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Uf(e){if(Ls(e)!==e)throw Error(F(188))}function h0(e){var t=e.alternate;if(!t){if(t=Ls(e),t===null)throw Error(F(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Uf(i),e;if(o===r)return Uf(i),t;o=o.sibling}throw Error(F(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?e:t}function Xg(e){return e=h0(e),e!==null?Jg(e):null}function Jg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Jg(e);if(t!==null)return t;e=e.sibling}return null}var Zg=Bt.unstable_scheduleCallback,Wf=Bt.unstable_cancelCallback,f0=Bt.unstable_shouldYield,m0=Bt.unstable_requestPaint,Fe=Bt.unstable_now,p0=Bt.unstable_getCurrentPriorityLevel,hh=Bt.unstable_ImmediatePriority,ey=Bt.unstable_UserBlockingPriority,pl=Bt.unstable_NormalPriority,g0=Bt.unstable_LowPriority,ty=Bt.unstable_IdlePriority,Jl=null,Tn=null;function y0(e){if(Tn&&typeof Tn.onCommitFiberRoot=="function")try{Tn.onCommitFiberRoot(Jl,e,void 0,(e.current.flags&128)===128)}catch{}}var dn=Math.clz32?Math.clz32:w0,x0=Math.log,v0=Math.LN2;function w0(e){return e>>>=0,e===0?32:31-(x0(e)/v0|0)|0}var ba=64,Sa=4194304;function ho(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?r=ho(l):(o&=a,o!==0&&(r=ho(o)))}else a=n&~i,a!==0?r=ho(a):o!==0&&(r=ho(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-dn(t),i=1<<n,r|=e[n],t&=~i;return r}function j0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function N0(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-dn(o),l=1<<a,c=i[a];c===-1?(!(l&n)||l&r)&&(i[a]=j0(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function Bu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ny(){var e=ba;return ba<<=1,!(ba&4194240)&&(ba=64),e}function Uc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ra(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-dn(t),e[t]=n}function b0(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-dn(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function fh(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-dn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var pe=0;function ry(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var sy,mh,iy,oy,ay,qu=!1,Ca=[],Pr=null,Rr=null,Ar=null,Ro=new Map,Ao=new Map,hr=[],S0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bf(e,t){switch(e){case"focusin":case"focusout":Pr=null;break;case"dragenter":case"dragleave":Rr=null;break;case"mouseover":case"mouseout":Ar=null;break;case"pointerover":case"pointerout":Ro.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ao.delete(t.pointerId)}}function Zi(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=ia(t),t!==null&&mh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function C0(e,t,n,r,i){switch(t){case"focusin":return Pr=Zi(Pr,e,t,n,r,i),!0;case"dragenter":return Rr=Zi(Rr,e,t,n,r,i),!0;case"mouseover":return Ar=Zi(Ar,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ro.set(o,Zi(Ro.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ao.set(o,Zi(Ao.get(o)||null,e,t,n,r,i)),!0}return!1}function ly(e){var t=ts(e.target);if(t!==null){var n=Ls(t);if(n!==null){if(t=n.tag,t===13){if(t=Gg(n),t!==null){e.blockedOn=t,ay(e.priority,function(){iy(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ka(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Hu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);zu=r,n.target.dispatchEvent(r),zu=null}else return t=ia(n),t!==null&&mh(t),e.blockedOn=n,!1;t.shift()}return!0}function qf(e,t,n){Ka(e)&&n.delete(t)}function k0(){qu=!1,Pr!==null&&Ka(Pr)&&(Pr=null),Rr!==null&&Ka(Rr)&&(Rr=null),Ar!==null&&Ka(Ar)&&(Ar=null),Ro.forEach(qf),Ao.forEach(qf)}function eo(e,t){e.blockedOn===t&&(e.blockedOn=null,qu||(qu=!0,Bt.unstable_scheduleCallback(Bt.unstable_NormalPriority,k0)))}function Oo(e){function t(i){return eo(i,e)}if(0<Ca.length){eo(Ca[0],e);for(var n=1;n<Ca.length;n++){var r=Ca[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Pr!==null&&eo(Pr,e),Rr!==null&&eo(Rr,e),Ar!==null&&eo(Ar,e),Ro.forEach(t),Ao.forEach(t),n=0;n<hr.length;n++)r=hr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<hr.length&&(n=hr[0],n.blockedOn===null);)ly(n),n.blockedOn===null&&hr.shift()}var ri=nr.ReactCurrentBatchConfig,yl=!0;function E0(e,t,n,r){var i=pe,o=ri.transition;ri.transition=null;try{pe=1,ph(e,t,n,r)}finally{pe=i,ri.transition=o}}function T0(e,t,n,r){var i=pe,o=ri.transition;ri.transition=null;try{pe=4,ph(e,t,n,r)}finally{pe=i,ri.transition=o}}function ph(e,t,n,r){if(yl){var i=Hu(e,t,n,r);if(i===null)Xc(e,t,r,xl,n),Bf(e,r);else if(C0(i,e,t,n,r))r.stopPropagation();else if(Bf(e,r),t&4&&-1<S0.indexOf(e)){for(;i!==null;){var o=ia(i);if(o!==null&&sy(o),o=Hu(e,t,n,r),o===null&&Xc(e,t,r,xl,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Xc(e,t,r,null,n)}}var xl=null;function Hu(e,t,n,r){if(xl=null,e=dh(r),e=ts(e),e!==null)if(t=Ls(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Gg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return xl=e,null}function cy(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(p0()){case hh:return 1;case ey:return 4;case pl:case g0:return 16;case ty:return 536870912;default:return 16}default:return 16}}var br=null,gh=null,Ya=null;function uy(){if(Ya)return Ya;var e,t=gh,n=t.length,r,i="value"in br?br.value:br.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return Ya=i.slice(e,1<r?1-r:void 0)}function Ga(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ka(){return!0}function Hf(){return!1}function Ht(e){function t(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ka:Hf,this.isPropagationStopped=Hf,this}return Oe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ka)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ka)},persist:function(){},isPersistent:ka}),t}var Li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yh=Ht(Li),sa=Oe({},Li,{view:0,detail:0}),P0=Ht(sa),Wc,Bc,to,Zl=Oe({},sa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==to&&(to&&e.type==="mousemove"?(Wc=e.screenX-to.screenX,Bc=e.screenY-to.screenY):Bc=Wc=0,to=e),Wc)},movementY:function(e){return"movementY"in e?e.movementY:Bc}}),Vf=Ht(Zl),R0=Oe({},Zl,{dataTransfer:0}),A0=Ht(R0),O0=Oe({},sa,{relatedTarget:0}),qc=Ht(O0),I0=Oe({},Li,{animationName:0,elapsedTime:0,pseudoElement:0}),L0=Ht(I0),M0=Oe({},Li,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),D0=Ht(M0),F0=Oe({},Li,{data:0}),Qf=Ht(F0),_0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},z0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function U0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$0[e])?!!t[e]:!1}function xh(){return U0}var W0=Oe({},sa,{key:function(e){if(e.key){var t=_0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ga(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?z0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xh,charCode:function(e){return e.type==="keypress"?Ga(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ga(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),B0=Ht(W0),q0=Oe({},Zl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kf=Ht(q0),H0=Oe({},sa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xh}),V0=Ht(H0),Q0=Oe({},Li,{propertyName:0,elapsedTime:0,pseudoElement:0}),K0=Ht(Q0),Y0=Oe({},Zl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),G0=Ht(Y0),X0=[9,13,27,32],vh=Yn&&"CompositionEvent"in window,wo=null;Yn&&"documentMode"in document&&(wo=document.documentMode);var J0=Yn&&"TextEvent"in window&&!wo,dy=Yn&&(!vh||wo&&8<wo&&11>=wo),Yf=" ",Gf=!1;function hy(e,t){switch(e){case"keyup":return X0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fy(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Bs=!1;function Z0(e,t){switch(e){case"compositionend":return fy(t);case"keypress":return t.which!==32?null:(Gf=!0,Yf);case"textInput":return e=t.data,e===Yf&&Gf?null:e;default:return null}}function eN(e,t){if(Bs)return e==="compositionend"||!vh&&hy(e,t)?(e=uy(),Ya=gh=br=null,Bs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return dy&&t.locale!=="ko"?null:t.data;default:return null}}var tN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!tN[e.type]:t==="textarea"}function my(e,t,n,r){Hg(r),t=vl(t,"onChange"),0<t.length&&(n=new yh("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var jo=null,Io=null;function nN(e){Cy(e,0)}function ec(e){var t=Vs(e);if(_g(t))return e}function rN(e,t){if(e==="change")return t}var py=!1;if(Yn){var Hc;if(Yn){var Vc="oninput"in document;if(!Vc){var Jf=document.createElement("div");Jf.setAttribute("oninput","return;"),Vc=typeof Jf.oninput=="function"}Hc=Vc}else Hc=!1;py=Hc&&(!document.documentMode||9<document.documentMode)}function Zf(){jo&&(jo.detachEvent("onpropertychange",gy),Io=jo=null)}function gy(e){if(e.propertyName==="value"&&ec(Io)){var t=[];my(t,Io,e,dh(e)),Yg(nN,t)}}function sN(e,t,n){e==="focusin"?(Zf(),jo=t,Io=n,jo.attachEvent("onpropertychange",gy)):e==="focusout"&&Zf()}function iN(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ec(Io)}function oN(e,t){if(e==="click")return ec(t)}function aN(e,t){if(e==="input"||e==="change")return ec(t)}function lN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fn=typeof Object.is=="function"?Object.is:lN;function Lo(e,t){if(fn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Eu.call(t,i)||!fn(e[i],t[i]))return!1}return!0}function em(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tm(e,t){var n=em(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=em(n)}}function yy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function xy(){for(var e=window,t=hl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=hl(e.document)}return t}function wh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function cN(e){var t=xy(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&yy(n.ownerDocument.documentElement,n)){if(r!==null&&wh(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=tm(n,o);var a=tm(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var uN=Yn&&"documentMode"in document&&11>=document.documentMode,qs=null,Vu=null,No=null,Qu=!1;function nm(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qu||qs==null||qs!==hl(r)||(r=qs,"selectionStart"in r&&wh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),No&&Lo(No,r)||(No=r,r=vl(Vu,"onSelect"),0<r.length&&(t=new yh("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=qs)))}function Ea(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Hs={animationend:Ea("Animation","AnimationEnd"),animationiteration:Ea("Animation","AnimationIteration"),animationstart:Ea("Animation","AnimationStart"),transitionend:Ea("Transition","TransitionEnd")},Qc={},vy={};Yn&&(vy=document.createElement("div").style,"AnimationEvent"in window||(delete Hs.animationend.animation,delete Hs.animationiteration.animation,delete Hs.animationstart.animation),"TransitionEvent"in window||delete Hs.transitionend.transition);function tc(e){if(Qc[e])return Qc[e];if(!Hs[e])return e;var t=Hs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in vy)return Qc[e]=t[n];return e}var wy=tc("animationend"),jy=tc("animationiteration"),Ny=tc("animationstart"),by=tc("transitionend"),Sy=new Map,rm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hr(e,t){Sy.set(e,t),Is(t,[e])}for(var Kc=0;Kc<rm.length;Kc++){var Yc=rm[Kc],dN=Yc.toLowerCase(),hN=Yc[0].toUpperCase()+Yc.slice(1);Hr(dN,"on"+hN)}Hr(wy,"onAnimationEnd");Hr(jy,"onAnimationIteration");Hr(Ny,"onAnimationStart");Hr("dblclick","onDoubleClick");Hr("focusin","onFocus");Hr("focusout","onBlur");Hr(by,"onTransitionEnd");Ni("onMouseEnter",["mouseout","mouseover"]);Ni("onMouseLeave",["mouseout","mouseover"]);Ni("onPointerEnter",["pointerout","pointerover"]);Ni("onPointerLeave",["pointerout","pointerover"]);Is("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Is("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Is("onBeforeInput",["compositionend","keypress","textInput","paste"]);Is("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Is("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Is("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fN=new Set("cancel close invalid load scroll toggle".split(" ").concat(fo));function sm(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,d0(r,t,void 0,e),e.currentTarget=null}function Cy(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&i.isPropagationStopped())break e;sm(i,l,u),o=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&i.isPropagationStopped())break e;sm(i,l,u),o=c}}}if(ml)throw e=Wu,ml=!1,Wu=null,e}function Ce(e,t){var n=t[Ju];n===void 0&&(n=t[Ju]=new Set);var r=e+"__bubble";n.has(r)||(ky(t,e,2,!1),n.add(r))}function Gc(e,t,n){var r=0;t&&(r|=4),ky(n,e,r,t)}var Ta="_reactListening"+Math.random().toString(36).slice(2);function Mo(e){if(!e[Ta]){e[Ta]=!0,Ig.forEach(function(n){n!=="selectionchange"&&(fN.has(n)||Gc(n,!1,e),Gc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ta]||(t[Ta]=!0,Gc("selectionchange",!1,t))}}function ky(e,t,n,r){switch(cy(t)){case 1:var i=E0;break;case 4:i=T0;break;default:i=ph}n=i.bind(null,t,n,e),i=void 0,!Uu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Xc(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=ts(l),a===null)return;if(c=a.tag,c===5||c===6){r=o=a;continue e}l=l.parentNode}}r=r.return}Yg(function(){var u=o,h=dh(n),d=[];e:{var g=Sy.get(e);if(g!==void 0){var j=yh,w=e;switch(e){case"keypress":if(Ga(n)===0)break e;case"keydown":case"keyup":j=B0;break;case"focusin":w="focus",j=qc;break;case"focusout":w="blur",j=qc;break;case"beforeblur":case"afterblur":j=qc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Vf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=A0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=V0;break;case wy:case jy:case Ny:j=L0;break;case by:j=K0;break;case"scroll":j=P0;break;case"wheel":j=G0;break;case"copy":case"cut":case"paste":j=D0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Kf}var x=(t&4)!==0,f=!x&&e==="scroll",m=x?g!==null?g+"Capture":null:g;x=[];for(var y=u,v;y!==null;){v=y;var N=v.stateNode;if(v.tag===5&&N!==null&&(v=N,m!==null&&(N=Po(y,m),N!=null&&x.push(Do(y,N,v)))),f)break;y=y.return}0<x.length&&(g=new j(g,w,null,n,h),d.push({event:g,listeners:x}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",g&&n!==zu&&(w=n.relatedTarget||n.fromElement)&&(ts(w)||w[Gn]))break e;if((j||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,j?(w=n.relatedTarget||n.toElement,j=u,w=w?ts(w):null,w!==null&&(f=Ls(w),w!==f||w.tag!==5&&w.tag!==6)&&(w=null)):(j=null,w=u),j!==w)){if(x=Vf,N="onMouseLeave",m="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(x=Kf,N="onPointerLeave",m="onPointerEnter",y="pointer"),f=j==null?g:Vs(j),v=w==null?g:Vs(w),g=new x(N,y+"leave",j,n,h),g.target=f,g.relatedTarget=v,N=null,ts(h)===u&&(x=new x(m,y+"enter",w,n,h),x.target=v,x.relatedTarget=f,N=x),f=N,j&&w)t:{for(x=j,m=w,y=0,v=x;v;v=Fs(v))y++;for(v=0,N=m;N;N=Fs(N))v++;for(;0<y-v;)x=Fs(x),y--;for(;0<v-y;)m=Fs(m),v--;for(;y--;){if(x===m||m!==null&&x===m.alternate)break t;x=Fs(x),m=Fs(m)}x=null}else x=null;j!==null&&im(d,g,j,x,!1),w!==null&&f!==null&&im(d,f,w,x,!0)}}e:{if(g=u?Vs(u):window,j=g.nodeName&&g.nodeName.toLowerCase(),j==="select"||j==="input"&&g.type==="file")var b=rN;else if(Xf(g))if(py)b=aN;else{b=iN;var k=sN}else(j=g.nodeName)&&j.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(b=oN);if(b&&(b=b(e,u))){my(d,b,n,h);break e}k&&k(e,g,u),e==="focusout"&&(k=g._wrapperState)&&k.controlled&&g.type==="number"&&Lu(g,"number",g.value)}switch(k=u?Vs(u):window,e){case"focusin":(Xf(k)||k.contentEditable==="true")&&(qs=k,Vu=u,No=null);break;case"focusout":No=Vu=qs=null;break;case"mousedown":Qu=!0;break;case"contextmenu":case"mouseup":case"dragend":Qu=!1,nm(d,n,h);break;case"selectionchange":if(uN)break;case"keydown":case"keyup":nm(d,n,h)}var C;if(vh)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Bs?hy(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(dy&&n.locale!=="ko"&&(Bs||P!=="onCompositionStart"?P==="onCompositionEnd"&&Bs&&(C=uy()):(br=h,gh="value"in br?br.value:br.textContent,Bs=!0)),k=vl(u,P),0<k.length&&(P=new Qf(P,e,null,n,h),d.push({event:P,listeners:k}),C?P.data=C:(C=fy(n),C!==null&&(P.data=C)))),(C=J0?Z0(e,n):eN(e,n))&&(u=vl(u,"onBeforeInput"),0<u.length&&(h=new Qf("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:u}),h.data=C))}Cy(d,t)})}function Do(e,t,n){return{instance:e,listener:t,currentTarget:n}}function vl(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Po(e,n),o!=null&&r.unshift(Do(e,o,i)),o=Po(e,t),o!=null&&r.push(Do(e,o,i))),e=e.return}return r}function Fs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function im(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,i?(c=Po(n,o),c!=null&&a.unshift(Do(n,c,l))):i||(c=Po(n,o),c!=null&&a.push(Do(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var mN=/\r\n?/g,pN=/\u0000|\uFFFD/g;function om(e){return(typeof e=="string"?e:""+e).replace(mN,`
`).replace(pN,"")}function Pa(e,t,n){if(t=om(t),om(e)!==t&&n)throw Error(F(425))}function wl(){}var Ku=null,Yu=null;function Gu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Xu=typeof setTimeout=="function"?setTimeout:void 0,gN=typeof clearTimeout=="function"?clearTimeout:void 0,am=typeof Promise=="function"?Promise:void 0,yN=typeof queueMicrotask=="function"?queueMicrotask:typeof am<"u"?function(e){return am.resolve(null).then(e).catch(xN)}:Xu;function xN(e){setTimeout(function(){throw e})}function Jc(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Oo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Oo(t)}function Or(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function lm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Mi=Math.random().toString(36).slice(2),Cn="__reactFiber$"+Mi,Fo="__reactProps$"+Mi,Gn="__reactContainer$"+Mi,Ju="__reactEvents$"+Mi,vN="__reactListeners$"+Mi,wN="__reactHandles$"+Mi;function ts(e){var t=e[Cn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Gn]||n[Cn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=lm(e);e!==null;){if(n=e[Cn])return n;e=lm(e)}return t}e=n,n=e.parentNode}return null}function ia(e){return e=e[Cn]||e[Gn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function nc(e){return e[Fo]||null}var Zu=[],Qs=-1;function Vr(e){return{current:e}}function ke(e){0>Qs||(e.current=Zu[Qs],Zu[Qs]=null,Qs--)}function Ne(e,t){Qs++,Zu[Qs]=e.current,e.current=t}var Wr={},ut=Vr(Wr),Pt=Vr(!1),vs=Wr;function bi(e,t){var n=e.type.contextTypes;if(!n)return Wr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Rt(e){return e=e.childContextTypes,e!=null}function jl(){ke(Pt),ke(ut)}function cm(e,t,n){if(ut.current!==Wr)throw Error(F(168));Ne(ut,t),Ne(Pt,n)}function Ey(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(F(108,s0(e)||"Unknown",i));return Oe({},n,r)}function Nl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Wr,vs=ut.current,Ne(ut,e),Ne(Pt,Pt.current),!0}function um(e,t,n){var r=e.stateNode;if(!r)throw Error(F(169));n?(e=Ey(e,t,vs),r.__reactInternalMemoizedMergedChildContext=e,ke(Pt),ke(ut),Ne(ut,e)):ke(Pt),Ne(Pt,n)}var _n=null,rc=!1,Zc=!1;function Ty(e){_n===null?_n=[e]:_n.push(e)}function jN(e){rc=!0,Ty(e)}function Qr(){if(!Zc&&_n!==null){Zc=!0;var e=0,t=pe;try{var n=_n;for(pe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}_n=null,rc=!1}catch(i){throw _n!==null&&(_n=_n.slice(e+1)),Zg(hh,Qr),i}finally{pe=t,Zc=!1}}return null}var Ks=[],Ys=0,bl=null,Sl=0,Gt=[],Xt=0,ws=null,Bn=1,qn="";function Zr(e,t){Ks[Ys++]=Sl,Ks[Ys++]=bl,bl=e,Sl=t}function Py(e,t,n){Gt[Xt++]=Bn,Gt[Xt++]=qn,Gt[Xt++]=ws,ws=e;var r=Bn;e=qn;var i=32-dn(r)-1;r&=~(1<<i),n+=1;var o=32-dn(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Bn=1<<32-dn(t)+i|n<<i|r,qn=o+e}else Bn=1<<o|n<<i|r,qn=e}function jh(e){e.return!==null&&(Zr(e,1),Py(e,1,0))}function Nh(e){for(;e===bl;)bl=Ks[--Ys],Ks[Ys]=null,Sl=Ks[--Ys],Ks[Ys]=null;for(;e===ws;)ws=Gt[--Xt],Gt[Xt]=null,qn=Gt[--Xt],Gt[Xt]=null,Bn=Gt[--Xt],Gt[Xt]=null}var Ut=null,$t=null,Pe=!1,un=null;function Ry(e,t){var n=Jt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function dm(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ut=e,$t=Or(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ut=e,$t=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ws!==null?{id:Bn,overflow:qn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Jt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ut=e,$t=null,!0):!1;default:return!1}}function ed(e){return(e.mode&1)!==0&&(e.flags&128)===0}function td(e){if(Pe){var t=$t;if(t){var n=t;if(!dm(e,t)){if(ed(e))throw Error(F(418));t=Or(n.nextSibling);var r=Ut;t&&dm(e,t)?Ry(r,n):(e.flags=e.flags&-4097|2,Pe=!1,Ut=e)}}else{if(ed(e))throw Error(F(418));e.flags=e.flags&-4097|2,Pe=!1,Ut=e}}}function hm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ut=e}function Ra(e){if(e!==Ut)return!1;if(!Pe)return hm(e),Pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Gu(e.type,e.memoizedProps)),t&&(t=$t)){if(ed(e))throw Ay(),Error(F(418));for(;t;)Ry(e,t),t=Or(t.nextSibling)}if(hm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){$t=Or(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}$t=null}}else $t=Ut?Or(e.stateNode.nextSibling):null;return!0}function Ay(){for(var e=$t;e;)e=Or(e.nextSibling)}function Si(){$t=Ut=null,Pe=!1}function bh(e){un===null?un=[e]:un.push(e)}var NN=nr.ReactCurrentBatchConfig;function no(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var l=i.refs;a===null?delete l[o]:l[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,e))}return e}function Aa(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fm(e){var t=e._init;return t(e._payload)}function Oy(e){function t(m,y){if(e){var v=m.deletions;v===null?(m.deletions=[y],m.flags|=16):v.push(y)}}function n(m,y){if(!e)return null;for(;y!==null;)t(m,y),y=y.sibling;return null}function r(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function i(m,y){return m=Dr(m,y),m.index=0,m.sibling=null,m}function o(m,y,v){return m.index=v,e?(v=m.alternate,v!==null?(v=v.index,v<y?(m.flags|=2,y):v):(m.flags|=2,y)):(m.flags|=1048576,y)}function a(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,y,v,N){return y===null||y.tag!==6?(y=ou(v,m.mode,N),y.return=m,y):(y=i(y,v),y.return=m,y)}function c(m,y,v,N){var b=v.type;return b===Ws?h(m,y,v.props.children,N,v.key):y!==null&&(y.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===ur&&fm(b)===y.type)?(N=i(y,v.props),N.ref=no(m,y,v),N.return=m,N):(N=rl(v.type,v.key,v.props,null,m.mode,N),N.ref=no(m,y,v),N.return=m,N)}function u(m,y,v,N){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=au(v,m.mode,N),y.return=m,y):(y=i(y,v.children||[]),y.return=m,y)}function h(m,y,v,N,b){return y===null||y.tag!==7?(y=gs(v,m.mode,N,b),y.return=m,y):(y=i(y,v),y.return=m,y)}function d(m,y,v){if(typeof y=="string"&&y!==""||typeof y=="number")return y=ou(""+y,m.mode,v),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case wa:return v=rl(y.type,y.key,y.props,null,m.mode,v),v.ref=no(m,null,y),v.return=m,v;case Us:return y=au(y,m.mode,v),y.return=m,y;case ur:var N=y._init;return d(m,N(y._payload),v)}if(uo(y)||Xi(y))return y=gs(y,m.mode,v,null),y.return=m,y;Aa(m,y)}return null}function g(m,y,v,N){var b=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return b!==null?null:l(m,y,""+v,N);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case wa:return v.key===b?c(m,y,v,N):null;case Us:return v.key===b?u(m,y,v,N):null;case ur:return b=v._init,g(m,y,b(v._payload),N)}if(uo(v)||Xi(v))return b!==null?null:h(m,y,v,N,null);Aa(m,v)}return null}function j(m,y,v,N,b){if(typeof N=="string"&&N!==""||typeof N=="number")return m=m.get(v)||null,l(y,m,""+N,b);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case wa:return m=m.get(N.key===null?v:N.key)||null,c(y,m,N,b);case Us:return m=m.get(N.key===null?v:N.key)||null,u(y,m,N,b);case ur:var k=N._init;return j(m,y,v,k(N._payload),b)}if(uo(N)||Xi(N))return m=m.get(v)||null,h(y,m,N,b,null);Aa(y,N)}return null}function w(m,y,v,N){for(var b=null,k=null,C=y,P=y=0,A=null;C!==null&&P<v.length;P++){C.index>P?(A=C,C=null):A=C.sibling;var O=g(m,C,v[P],N);if(O===null){C===null&&(C=A);break}e&&C&&O.alternate===null&&t(m,C),y=o(O,y,P),k===null?b=O:k.sibling=O,k=O,C=A}if(P===v.length)return n(m,C),Pe&&Zr(m,P),b;if(C===null){for(;P<v.length;P++)C=d(m,v[P],N),C!==null&&(y=o(C,y,P),k===null?b=C:k.sibling=C,k=C);return Pe&&Zr(m,P),b}for(C=r(m,C);P<v.length;P++)A=j(C,m,P,v[P],N),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?P:A.key),y=o(A,y,P),k===null?b=A:k.sibling=A,k=A);return e&&C.forEach(function(I){return t(m,I)}),Pe&&Zr(m,P),b}function x(m,y,v,N){var b=Xi(v);if(typeof b!="function")throw Error(F(150));if(v=b.call(v),v==null)throw Error(F(151));for(var k=b=null,C=y,P=y=0,A=null,O=v.next();C!==null&&!O.done;P++,O=v.next()){C.index>P?(A=C,C=null):A=C.sibling;var I=g(m,C,O.value,N);if(I===null){C===null&&(C=A);break}e&&C&&I.alternate===null&&t(m,C),y=o(I,y,P),k===null?b=I:k.sibling=I,k=I,C=A}if(O.done)return n(m,C),Pe&&Zr(m,P),b;if(C===null){for(;!O.done;P++,O=v.next())O=d(m,O.value,N),O!==null&&(y=o(O,y,P),k===null?b=O:k.sibling=O,k=O);return Pe&&Zr(m,P),b}for(C=r(m,C);!O.done;P++,O=v.next())O=j(C,m,P,O.value,N),O!==null&&(e&&O.alternate!==null&&C.delete(O.key===null?P:O.key),y=o(O,y,P),k===null?b=O:k.sibling=O,k=O);return e&&C.forEach(function(M){return t(m,M)}),Pe&&Zr(m,P),b}function f(m,y,v,N){if(typeof v=="object"&&v!==null&&v.type===Ws&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case wa:e:{for(var b=v.key,k=y;k!==null;){if(k.key===b){if(b=v.type,b===Ws){if(k.tag===7){n(m,k.sibling),y=i(k,v.props.children),y.return=m,m=y;break e}}else if(k.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===ur&&fm(b)===k.type){n(m,k.sibling),y=i(k,v.props),y.ref=no(m,k,v),y.return=m,m=y;break e}n(m,k);break}else t(m,k);k=k.sibling}v.type===Ws?(y=gs(v.props.children,m.mode,N,v.key),y.return=m,m=y):(N=rl(v.type,v.key,v.props,null,m.mode,N),N.ref=no(m,y,v),N.return=m,m=N)}return a(m);case Us:e:{for(k=v.key;y!==null;){if(y.key===k)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){n(m,y.sibling),y=i(y,v.children||[]),y.return=m,m=y;break e}else{n(m,y);break}else t(m,y);y=y.sibling}y=au(v,m.mode,N),y.return=m,m=y}return a(m);case ur:return k=v._init,f(m,y,k(v._payload),N)}if(uo(v))return w(m,y,v,N);if(Xi(v))return x(m,y,v,N);Aa(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,y!==null&&y.tag===6?(n(m,y.sibling),y=i(y,v),y.return=m,m=y):(n(m,y),y=ou(v,m.mode,N),y.return=m,m=y),a(m)):n(m,y)}return f}var Ci=Oy(!0),Iy=Oy(!1),Cl=Vr(null),kl=null,Gs=null,Sh=null;function Ch(){Sh=Gs=kl=null}function kh(e){var t=Cl.current;ke(Cl),e._currentValue=t}function nd(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function si(e,t){kl=e,Sh=Gs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Tt=!0),e.firstContext=null)}function en(e){var t=e._currentValue;if(Sh!==e)if(e={context:e,memoizedValue:t,next:null},Gs===null){if(kl===null)throw Error(F(308));Gs=e,kl.dependencies={lanes:0,firstContext:e}}else Gs=Gs.next=e;return t}var ns=null;function Eh(e){ns===null?ns=[e]:ns.push(e)}function Ly(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Eh(t)):(n.next=i.next,i.next=n),t.interleaved=n,Xn(e,r)}function Xn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var dr=!1;function Th(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function My(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Hn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ir(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,he&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Xn(e,n)}return i=r.interleaved,i===null?(t.next=t,Eh(r)):(t.next=i.next,i.next=t),r.interleaved=t,Xn(e,n)}function Xa(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,fh(e,n)}}function mm(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function El(e,t,n,r){var i=e.updateQueue;dr=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?o=u:a.next=u,a=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==a&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(o!==null){var d=i.baseState;a=0,h=u=c=null,l=o;do{var g=l.lane,j=l.eventTime;if((r&g)===g){h!==null&&(h=h.next={eventTime:j,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,x=l;switch(g=t,j=n,x.tag){case 1:if(w=x.payload,typeof w=="function"){d=w.call(j,d,g);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=x.payload,g=typeof w=="function"?w.call(j,d,g):w,g==null)break e;d=Oe({},d,g);break e;case 2:dr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,g=i.effects,g===null?i.effects=[l]:g.push(l))}else j={eventTime:j,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=j,c=d):h=h.next=j,a|=g;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;g=l,l=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(h===null&&(c=d),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=h,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Ns|=a,e.lanes=a,e.memoizedState=d}}function pm(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(F(191,i));i.call(r)}}}var oa={},Pn=Vr(oa),_o=Vr(oa),zo=Vr(oa);function rs(e){if(e===oa)throw Error(F(174));return e}function Ph(e,t){switch(Ne(zo,t),Ne(_o,e),Ne(Pn,oa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Du(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Du(t,e)}ke(Pn),Ne(Pn,t)}function ki(){ke(Pn),ke(_o),ke(zo)}function Dy(e){rs(zo.current);var t=rs(Pn.current),n=Du(t,e.type);t!==n&&(Ne(_o,e),Ne(Pn,n))}function Rh(e){_o.current===e&&(ke(Pn),ke(_o))}var Re=Vr(0);function Tl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var eu=[];function Ah(){for(var e=0;e<eu.length;e++)eu[e]._workInProgressVersionPrimary=null;eu.length=0}var Ja=nr.ReactCurrentDispatcher,tu=nr.ReactCurrentBatchConfig,js=0,Ae=null,We=null,Qe=null,Pl=!1,bo=!1,$o=0,bN=0;function st(){throw Error(F(321))}function Oh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!fn(e[n],t[n]))return!1;return!0}function Ih(e,t,n,r,i,o){if(js=o,Ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ja.current=e===null||e.memoizedState===null?EN:TN,e=n(r,i),bo){o=0;do{if(bo=!1,$o=0,25<=o)throw Error(F(301));o+=1,Qe=We=null,t.updateQueue=null,Ja.current=PN,e=n(r,i)}while(bo)}if(Ja.current=Rl,t=We!==null&&We.next!==null,js=0,Qe=We=Ae=null,Pl=!1,t)throw Error(F(300));return e}function Lh(){var e=$o!==0;return $o=0,e}function jn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?Ae.memoizedState=Qe=e:Qe=Qe.next=e,Qe}function tn(){if(We===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=We.next;var t=Qe===null?Ae.memoizedState:Qe.next;if(t!==null)Qe=t,We=e;else{if(e===null)throw Error(F(310));We=e,e={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Qe===null?Ae.memoizedState=Qe=e:Qe=Qe.next=e}return Qe}function Uo(e,t){return typeof t=="function"?t(e):t}function nu(e){var t=tn(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var r=We,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=a=null,c=null,u=o;do{var h=u.lane;if((js&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,a=r):c=c.next=d,Ae.lanes|=h,Ns|=h}u=u.next}while(u!==null&&u!==o);c===null?a=r:c.next=l,fn(r,t.memoizedState)||(Tt=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Ae.lanes|=o,Ns|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ru(e){var t=tn(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);fn(o,t.memoizedState)||(Tt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Fy(){}function _y(e,t){var n=Ae,r=tn(),i=t(),o=!fn(r.memoizedState,i);if(o&&(r.memoizedState=i,Tt=!0),r=r.queue,Mh(Uy.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Qe!==null&&Qe.memoizedState.tag&1){if(n.flags|=2048,Wo(9,$y.bind(null,n,r,i,t),void 0,null),Ye===null)throw Error(F(349));js&30||zy(n,t,i)}return i}function zy(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function $y(e,t,n,r){t.value=n,t.getSnapshot=r,Wy(t)&&By(e)}function Uy(e,t,n){return n(function(){Wy(t)&&By(e)})}function Wy(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!fn(e,n)}catch{return!0}}function By(e){var t=Xn(e,1);t!==null&&hn(t,e,1,-1)}function gm(e){var t=jn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uo,lastRenderedState:e},t.queue=e,e=e.dispatch=kN.bind(null,Ae,e),[t.memoizedState,e]}function Wo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ae.updateQueue,t===null?(t={lastEffect:null,stores:null},Ae.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function qy(){return tn().memoizedState}function Za(e,t,n,r){var i=jn();Ae.flags|=e,i.memoizedState=Wo(1|t,n,void 0,r===void 0?null:r)}function sc(e,t,n,r){var i=tn();r=r===void 0?null:r;var o=void 0;if(We!==null){var a=We.memoizedState;if(o=a.destroy,r!==null&&Oh(r,a.deps)){i.memoizedState=Wo(t,n,o,r);return}}Ae.flags|=e,i.memoizedState=Wo(1|t,n,o,r)}function ym(e,t){return Za(8390656,8,e,t)}function Mh(e,t){return sc(2048,8,e,t)}function Hy(e,t){return sc(4,2,e,t)}function Vy(e,t){return sc(4,4,e,t)}function Qy(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ky(e,t,n){return n=n!=null?n.concat([e]):null,sc(4,4,Qy.bind(null,t,e),n)}function Dh(){}function Yy(e,t){var n=tn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Oh(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Gy(e,t){var n=tn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Oh(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xy(e,t,n){return js&21?(fn(n,t)||(n=ny(),Ae.lanes|=n,Ns|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Tt=!0),e.memoizedState=n)}function SN(e,t){var n=pe;pe=n!==0&&4>n?n:4,e(!0);var r=tu.transition;tu.transition={};try{e(!1),t()}finally{pe=n,tu.transition=r}}function Jy(){return tn().memoizedState}function CN(e,t,n){var r=Mr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Zy(e))ex(t,n);else if(n=Ly(e,t,n,r),n!==null){var i=vt();hn(n,e,r,i),tx(n,t,r)}}function kN(e,t,n){var r=Mr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Zy(e))ex(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,l=o(a,n);if(i.hasEagerState=!0,i.eagerState=l,fn(l,a)){var c=t.interleaved;c===null?(i.next=i,Eh(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=Ly(e,t,i,r),n!==null&&(i=vt(),hn(n,e,r,i),tx(n,t,r))}}function Zy(e){var t=e.alternate;return e===Ae||t!==null&&t===Ae}function ex(e,t){bo=Pl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function tx(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,fh(e,n)}}var Rl={readContext:en,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},EN={readContext:en,useCallback:function(e,t){return jn().memoizedState=[e,t===void 0?null:t],e},useContext:en,useEffect:ym,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Za(4194308,4,Qy.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Za(4194308,4,e,t)},useInsertionEffect:function(e,t){return Za(4,2,e,t)},useMemo:function(e,t){var n=jn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=jn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=CN.bind(null,Ae,e),[r.memoizedState,e]},useRef:function(e){var t=jn();return e={current:e},t.memoizedState=e},useState:gm,useDebugValue:Dh,useDeferredValue:function(e){return jn().memoizedState=e},useTransition:function(){var e=gm(!1),t=e[0];return e=SN.bind(null,e[1]),jn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ae,i=jn();if(Pe){if(n===void 0)throw Error(F(407));n=n()}else{if(n=t(),Ye===null)throw Error(F(349));js&30||zy(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,ym(Uy.bind(null,r,o,e),[e]),r.flags|=2048,Wo(9,$y.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=jn(),t=Ye.identifierPrefix;if(Pe){var n=qn,r=Bn;n=(r&~(1<<32-dn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=$o++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=bN++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},TN={readContext:en,useCallback:Yy,useContext:en,useEffect:Mh,useImperativeHandle:Ky,useInsertionEffect:Hy,useLayoutEffect:Vy,useMemo:Gy,useReducer:nu,useRef:qy,useState:function(){return nu(Uo)},useDebugValue:Dh,useDeferredValue:function(e){var t=tn();return Xy(t,We.memoizedState,e)},useTransition:function(){var e=nu(Uo)[0],t=tn().memoizedState;return[e,t]},useMutableSource:Fy,useSyncExternalStore:_y,useId:Jy,unstable_isNewReconciler:!1},PN={readContext:en,useCallback:Yy,useContext:en,useEffect:Mh,useImperativeHandle:Ky,useInsertionEffect:Hy,useLayoutEffect:Vy,useMemo:Gy,useReducer:ru,useRef:qy,useState:function(){return ru(Uo)},useDebugValue:Dh,useDeferredValue:function(e){var t=tn();return We===null?t.memoizedState=e:Xy(t,We.memoizedState,e)},useTransition:function(){var e=ru(Uo)[0],t=tn().memoizedState;return[e,t]},useMutableSource:Fy,useSyncExternalStore:_y,useId:Jy,unstable_isNewReconciler:!1};function sn(e,t){if(e&&e.defaultProps){t=Oe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function rd(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Oe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ic={isMounted:function(e){return(e=e._reactInternals)?Ls(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=vt(),i=Mr(e),o=Hn(r,i);o.payload=t,n!=null&&(o.callback=n),t=Ir(e,o,i),t!==null&&(hn(t,e,i,r),Xa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=vt(),i=Mr(e),o=Hn(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Ir(e,o,i),t!==null&&(hn(t,e,i,r),Xa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=vt(),r=Mr(e),i=Hn(n,r);i.tag=2,t!=null&&(i.callback=t),t=Ir(e,i,r),t!==null&&(hn(t,e,r,n),Xa(t,e,r))}};function xm(e,t,n,r,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!Lo(n,r)||!Lo(i,o):!0}function nx(e,t,n){var r=!1,i=Wr,o=t.contextType;return typeof o=="object"&&o!==null?o=en(o):(i=Rt(t)?vs:ut.current,r=t.contextTypes,o=(r=r!=null)?bi(e,i):Wr),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ic,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function vm(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ic.enqueueReplaceState(t,t.state,null)}function sd(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Th(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=en(o):(o=Rt(t)?vs:ut.current,i.context=bi(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(rd(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ic.enqueueReplaceState(i,i.state,null),El(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ei(e,t){try{var n="",r=t;do n+=r0(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function su(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function id(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var RN=typeof WeakMap=="function"?WeakMap:Map;function rx(e,t,n){n=Hn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ol||(Ol=!0,pd=r),id(e,t)},n}function sx(e,t,n){n=Hn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){id(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){id(e,t),typeof r!="function"&&(Lr===null?Lr=new Set([this]):Lr.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function wm(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new RN;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=qN.bind(null,e,t,n),t.then(e,e))}function jm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Nm(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Hn(-1,1),t.tag=2,Ir(n,t,1))),n.lanes|=1),e)}var AN=nr.ReactCurrentOwner,Tt=!1;function yt(e,t,n,r){t.child=e===null?Iy(t,null,n,r):Ci(t,e.child,n,r)}function bm(e,t,n,r,i){n=n.render;var o=t.ref;return si(t,i),r=Ih(e,t,n,r,o,i),n=Lh(),e!==null&&!Tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Jn(e,t,i)):(Pe&&n&&jh(t),t.flags|=1,yt(e,t,r,i),t.child)}function Sm(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!qh(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,ix(e,t,o,r,i)):(e=rl(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Lo,n(a,r)&&e.ref===t.ref)return Jn(e,t,i)}return t.flags|=1,e=Dr(o,r),e.ref=t.ref,e.return=t,t.child=e}function ix(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Lo(o,r)&&e.ref===t.ref)if(Tt=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Tt=!0);else return t.lanes=e.lanes,Jn(e,t,i)}return od(e,t,n,r,i)}function ox(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(Js,_t),_t|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ne(Js,_t),_t|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ne(Js,_t),_t|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ne(Js,_t),_t|=r;return yt(e,t,i,n),t.child}function ax(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function od(e,t,n,r,i){var o=Rt(n)?vs:ut.current;return o=bi(t,o),si(t,i),n=Ih(e,t,n,r,o,i),r=Lh(),e!==null&&!Tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Jn(e,t,i)):(Pe&&r&&jh(t),t.flags|=1,yt(e,t,n,i),t.child)}function Cm(e,t,n,r,i){if(Rt(n)){var o=!0;Nl(t)}else o=!1;if(si(t,i),t.stateNode===null)el(e,t),nx(t,n,r),sd(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=en(u):(u=Rt(n)?vs:ut.current,u=bi(t,u));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&vm(t,a,r,u),dr=!1;var g=t.memoizedState;a.state=g,El(t,r,a,i),c=t.memoizedState,l!==r||g!==c||Pt.current||dr?(typeof h=="function"&&(rd(t,n,h,r),c=t.memoizedState),(l=dr||xm(t,n,l,r,g,c,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,My(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:sn(t.type,l),a.props=u,d=t.pendingProps,g=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=en(c):(c=Rt(n)?vs:ut.current,c=bi(t,c));var j=n.getDerivedStateFromProps;(h=typeof j=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==d||g!==c)&&vm(t,a,r,c),dr=!1,g=t.memoizedState,a.state=g,El(t,r,a,i);var w=t.memoizedState;l!==d||g!==w||Pt.current||dr?(typeof j=="function"&&(rd(t,n,j,r),w=t.memoizedState),(u=dr||xm(t,n,u,r,g,w,c)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,w,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,w,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),a.props=r,a.state=w,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return ad(e,t,n,r,o,i)}function ad(e,t,n,r,i,o){ax(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&um(t,n,!1),Jn(e,t,o);r=t.stateNode,AN.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Ci(t,e.child,null,o),t.child=Ci(t,null,l,o)):yt(e,t,l,o),t.memoizedState=r.state,i&&um(t,n,!0),t.child}function lx(e){var t=e.stateNode;t.pendingContext?cm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&cm(e,t.context,!1),Ph(e,t.containerInfo)}function km(e,t,n,r,i){return Si(),bh(i),t.flags|=256,yt(e,t,n,r),t.child}var ld={dehydrated:null,treeContext:null,retryLane:0};function cd(e){return{baseLanes:e,cachePool:null,transitions:null}}function cx(e,t,n){var r=t.pendingProps,i=Re.current,o=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ne(Re,i&1),e===null)return td(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=lc(a,r,0,null),e=gs(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=cd(n),t.memoizedState=ld,e):Fh(t,a));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return ON(e,t,a,r,l,i,n);if(o){o=r.fallback,a=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Dr(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=Dr(l,o):(o=gs(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?cd(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=ld,r}return o=e.child,e=o.sibling,r=Dr(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Fh(e,t){return t=lc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Oa(e,t,n,r){return r!==null&&bh(r),Ci(t,e.child,null,n),e=Fh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ON(e,t,n,r,i,o,a){if(n)return t.flags&256?(t.flags&=-257,r=su(Error(F(422))),Oa(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=lc({mode:"visible",children:r.children},i,0,null),o=gs(o,i,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Ci(t,e.child,null,a),t.child.memoizedState=cd(a),t.memoizedState=ld,o);if(!(t.mode&1))return Oa(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(F(419)),r=su(o,r,void 0),Oa(e,t,a,r)}if(l=(a&e.childLanes)!==0,Tt||l){if(r=Ye,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Xn(e,i),hn(r,e,i,-1))}return Bh(),r=su(Error(F(421))),Oa(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=HN.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,$t=Or(i.nextSibling),Ut=t,Pe=!0,un=null,e!==null&&(Gt[Xt++]=Bn,Gt[Xt++]=qn,Gt[Xt++]=ws,Bn=e.id,qn=e.overflow,ws=t),t=Fh(t,r.children),t.flags|=4096,t)}function Em(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),nd(e.return,t,n)}function iu(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function ux(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(yt(e,t,r.children,n),r=Re.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Em(e,n,t);else if(e.tag===19)Em(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ne(Re,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Tl(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),iu(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Tl(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}iu(t,!0,n,null,o);break;case"together":iu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function el(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Jn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ns|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,n=Dr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Dr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function IN(e,t,n){switch(t.tag){case 3:lx(t),Si();break;case 5:Dy(t);break;case 1:Rt(t.type)&&Nl(t);break;case 4:Ph(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ne(Cl,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ne(Re,Re.current&1),t.flags|=128,null):n&t.child.childLanes?cx(e,t,n):(Ne(Re,Re.current&1),e=Jn(e,t,n),e!==null?e.sibling:null);Ne(Re,Re.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return ux(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ne(Re,Re.current),r)break;return null;case 22:case 23:return t.lanes=0,ox(e,t,n)}return Jn(e,t,n)}var dx,ud,hx,fx;dx=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ud=function(){};hx=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,rs(Pn.current);var o=null;switch(n){case"input":i=Ou(e,i),r=Ou(e,r),o=[];break;case"select":i=Oe({},i,{value:void 0}),r=Oe({},r,{value:void 0}),o=[];break;case"textarea":i=Mu(e,i),r=Mu(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=wl)}Fu(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Eo.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Eo.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ce("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};fx=function(e,t,n,r){n!==r&&(t.flags|=4)};function ro(e,t){if(!Pe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function it(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function LN(e,t,n){var r=t.pendingProps;switch(Nh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(t),null;case 1:return Rt(t.type)&&jl(),it(t),null;case 3:return r=t.stateNode,ki(),ke(Pt),ke(ut),Ah(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ra(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,un!==null&&(xd(un),un=null))),ud(e,t),it(t),null;case 5:Rh(t);var i=rs(zo.current);if(n=t.type,e!==null&&t.stateNode!=null)hx(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(F(166));return it(t),null}if(e=rs(Pn.current),Ra(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Cn]=t,r[Fo]=o,e=(t.mode&1)!==0,n){case"dialog":Ce("cancel",r),Ce("close",r);break;case"iframe":case"object":case"embed":Ce("load",r);break;case"video":case"audio":for(i=0;i<fo.length;i++)Ce(fo[i],r);break;case"source":Ce("error",r);break;case"img":case"image":case"link":Ce("error",r),Ce("load",r);break;case"details":Ce("toggle",r);break;case"input":Df(r,o),Ce("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ce("invalid",r);break;case"textarea":_f(r,o),Ce("invalid",r)}Fu(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Pa(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Pa(r.textContent,l,e),i=["children",""+l]):Eo.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Ce("scroll",r)}switch(n){case"input":ja(r),Ff(r,o,!0);break;case"textarea":ja(r),zf(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=wl)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ug(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Cn]=t,e[Fo]=r,dx(e,t,!1,!1),t.stateNode=e;e:{switch(a=_u(n,r),n){case"dialog":Ce("cancel",e),Ce("close",e),i=r;break;case"iframe":case"object":case"embed":Ce("load",e),i=r;break;case"video":case"audio":for(i=0;i<fo.length;i++)Ce(fo[i],e);i=r;break;case"source":Ce("error",e),i=r;break;case"img":case"image":case"link":Ce("error",e),Ce("load",e),i=r;break;case"details":Ce("toggle",e),i=r;break;case"input":Df(e,r),i=Ou(e,r),Ce("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Oe({},r,{value:void 0}),Ce("invalid",e);break;case"textarea":_f(e,r),i=Mu(e,r),Ce("invalid",e);break;default:i=r}Fu(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?qg(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Wg(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&To(e,c):typeof c=="number"&&To(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Eo.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Ce("scroll",e):c!=null&&ah(e,o,c,a))}switch(n){case"input":ja(e),Ff(e,r,!1);break;case"textarea":ja(e),zf(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ur(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?ei(e,!!r.multiple,o,!1):r.defaultValue!=null&&ei(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=wl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return it(t),null;case 6:if(e&&t.stateNode!=null)fx(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(F(166));if(n=rs(zo.current),rs(Pn.current),Ra(t)){if(r=t.stateNode,n=t.memoizedProps,r[Cn]=t,(o=r.nodeValue!==n)&&(e=Ut,e!==null))switch(e.tag){case 3:Pa(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Pa(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Cn]=t,t.stateNode=r}return it(t),null;case 13:if(ke(Re),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Pe&&$t!==null&&t.mode&1&&!(t.flags&128))Ay(),Si(),t.flags|=98560,o=!1;else if(o=Ra(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(F(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(F(317));o[Cn]=t}else Si(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;it(t),o=!1}else un!==null&&(xd(un),un=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Re.current&1?qe===0&&(qe=3):Bh())),t.updateQueue!==null&&(t.flags|=4),it(t),null);case 4:return ki(),ud(e,t),e===null&&Mo(t.stateNode.containerInfo),it(t),null;case 10:return kh(t.type._context),it(t),null;case 17:return Rt(t.type)&&jl(),it(t),null;case 19:if(ke(Re),o=t.memoizedState,o===null)return it(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)ro(o,!1);else{if(qe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Tl(e),a!==null){for(t.flags|=128,ro(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ne(Re,Re.current&1|2),t.child}e=e.sibling}o.tail!==null&&Fe()>Ti&&(t.flags|=128,r=!0,ro(o,!1),t.lanes=4194304)}else{if(!r)if(e=Tl(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ro(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Pe)return it(t),null}else 2*Fe()-o.renderingStartTime>Ti&&n!==1073741824&&(t.flags|=128,r=!0,ro(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Fe(),t.sibling=null,n=Re.current,Ne(Re,r?n&1|2:n&1),t):(it(t),null);case 22:case 23:return Wh(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?_t&1073741824&&(it(t),t.subtreeFlags&6&&(t.flags|=8192)):it(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function MN(e,t){switch(Nh(t),t.tag){case 1:return Rt(t.type)&&jl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ki(),ke(Pt),ke(ut),Ah(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Rh(t),null;case 13:if(ke(Re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));Si()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ke(Re),null;case 4:return ki(),null;case 10:return kh(t.type._context),null;case 22:case 23:return Wh(),null;case 24:return null;default:return null}}var Ia=!1,ot=!1,DN=typeof WeakSet=="function"?WeakSet:Set,K=null;function Xs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Me(e,t,r)}else n.current=null}function dd(e,t,n){try{n()}catch(r){Me(e,t,r)}}var Tm=!1;function FN(e,t){if(Ku=yl,e=xy(),wh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,g=null;t:for(;;){for(var j;d!==n||i!==0&&d.nodeType!==3||(l=a+i),d!==o||r!==0&&d.nodeType!==3||(c=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(j=d.firstChild)!==null;)g=d,d=j;for(;;){if(d===e)break t;if(g===n&&++u===i&&(l=a),g===o&&++h===r&&(c=a),(j=d.nextSibling)!==null)break;d=g,g=d.parentNode}d=j}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yu={focusedElem:e,selectionRange:n},yl=!1,K=t;K!==null;)if(t=K,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,K=e;else for(;K!==null;){t=K;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var x=w.memoizedProps,f=w.memoizedState,m=t.stateNode,y=m.getSnapshotBeforeUpdate(t.elementType===t.type?x:sn(t.type,x),f);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(N){Me(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,K=e;break}K=t.return}return w=Tm,Tm=!1,w}function So(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&dd(t,n,o)}i=i.next}while(i!==r)}}function oc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function hd(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function mx(e){var t=e.alternate;t!==null&&(e.alternate=null,mx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Cn],delete t[Fo],delete t[Ju],delete t[vN],delete t[wN])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function px(e){return e.tag===5||e.tag===3||e.tag===4}function Pm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||px(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fd(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=wl));else if(r!==4&&(e=e.child,e!==null))for(fd(e,t,n),e=e.sibling;e!==null;)fd(e,t,n),e=e.sibling}function md(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(md(e,t,n),e=e.sibling;e!==null;)md(e,t,n),e=e.sibling}var Xe=null,ln=!1;function sr(e,t,n){for(n=n.child;n!==null;)gx(e,t,n),n=n.sibling}function gx(e,t,n){if(Tn&&typeof Tn.onCommitFiberUnmount=="function")try{Tn.onCommitFiberUnmount(Jl,n)}catch{}switch(n.tag){case 5:ot||Xs(n,t);case 6:var r=Xe,i=ln;Xe=null,sr(e,t,n),Xe=r,ln=i,Xe!==null&&(ln?(e=Xe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Xe.removeChild(n.stateNode));break;case 18:Xe!==null&&(ln?(e=Xe,n=n.stateNode,e.nodeType===8?Jc(e.parentNode,n):e.nodeType===1&&Jc(e,n),Oo(e)):Jc(Xe,n.stateNode));break;case 4:r=Xe,i=ln,Xe=n.stateNode.containerInfo,ln=!0,sr(e,t,n),Xe=r,ln=i;break;case 0:case 11:case 14:case 15:if(!ot&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&dd(n,t,a),i=i.next}while(i!==r)}sr(e,t,n);break;case 1:if(!ot&&(Xs(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Me(n,t,l)}sr(e,t,n);break;case 21:sr(e,t,n);break;case 22:n.mode&1?(ot=(r=ot)||n.memoizedState!==null,sr(e,t,n),ot=r):sr(e,t,n);break;default:sr(e,t,n)}}function Rm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new DN),t.forEach(function(r){var i=VN.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function nn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:Xe=l.stateNode,ln=!1;break e;case 3:Xe=l.stateNode.containerInfo,ln=!0;break e;case 4:Xe=l.stateNode.containerInfo,ln=!0;break e}l=l.return}if(Xe===null)throw Error(F(160));gx(o,a,i),Xe=null,ln=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Me(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)yx(t,e),t=t.sibling}function yx(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(nn(t,e),vn(e),r&4){try{So(3,e,e.return),oc(3,e)}catch(x){Me(e,e.return,x)}try{So(5,e,e.return)}catch(x){Me(e,e.return,x)}}break;case 1:nn(t,e),vn(e),r&512&&n!==null&&Xs(n,n.return);break;case 5:if(nn(t,e),vn(e),r&512&&n!==null&&Xs(n,n.return),e.flags&32){var i=e.stateNode;try{To(i,"")}catch(x){Me(e,e.return,x)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&zg(i,o),_u(l,a);var u=_u(l,o);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];h==="style"?qg(i,d):h==="dangerouslySetInnerHTML"?Wg(i,d):h==="children"?To(i,d):ah(i,h,d,u)}switch(l){case"input":Iu(i,o);break;case"textarea":$g(i,o);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var j=o.value;j!=null?ei(i,!!o.multiple,j,!1):g!==!!o.multiple&&(o.defaultValue!=null?ei(i,!!o.multiple,o.defaultValue,!0):ei(i,!!o.multiple,o.multiple?[]:"",!1))}i[Fo]=o}catch(x){Me(e,e.return,x)}}break;case 6:if(nn(t,e),vn(e),r&4){if(e.stateNode===null)throw Error(F(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(x){Me(e,e.return,x)}}break;case 3:if(nn(t,e),vn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Oo(t.containerInfo)}catch(x){Me(e,e.return,x)}break;case 4:nn(t,e),vn(e);break;case 13:nn(t,e),vn(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||($h=Fe())),r&4&&Rm(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(ot=(u=ot)||h,nn(t,e),ot=u):nn(t,e),vn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(K=e,h=e.child;h!==null;){for(d=K=h;K!==null;){switch(g=K,j=g.child,g.tag){case 0:case 11:case 14:case 15:So(4,g,g.return);break;case 1:Xs(g,g.return);var w=g.stateNode;if(typeof w.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(x){Me(r,n,x)}}break;case 5:Xs(g,g.return);break;case 22:if(g.memoizedState!==null){Om(d);continue}}j!==null?(j.return=g,K=j):Om(d)}h=h.sibling}e:for(h=null,d=e;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=d.stateNode,c=d.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Bg("display",a))}catch(x){Me(e,e.return,x)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(x){Me(e,e.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:nn(t,e),vn(e),r&4&&Rm(e);break;case 21:break;default:nn(t,e),vn(e)}}function vn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(px(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(To(i,""),r.flags&=-33);var o=Pm(e);md(e,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,l=Pm(e);fd(e,l,a);break;default:throw Error(F(161))}}catch(c){Me(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _N(e,t,n){K=e,xx(e)}function xx(e,t,n){for(var r=(e.mode&1)!==0;K!==null;){var i=K,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Ia;if(!a){var l=i.alternate,c=l!==null&&l.memoizedState!==null||ot;l=Ia;var u=ot;if(Ia=a,(ot=c)&&!u)for(K=i;K!==null;)a=K,c=a.child,a.tag===22&&a.memoizedState!==null?Im(i):c!==null?(c.return=a,K=c):Im(i);for(;o!==null;)K=o,xx(o),o=o.sibling;K=i,Ia=l,ot=u}Am(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,K=o):Am(e)}}function Am(e){for(;K!==null;){var t=K;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ot||oc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ot)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:sn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&pm(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}pm(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Oo(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}ot||t.flags&512&&hd(t)}catch(g){Me(t,t.return,g)}}if(t===e){K=null;break}if(n=t.sibling,n!==null){n.return=t.return,K=n;break}K=t.return}}function Om(e){for(;K!==null;){var t=K;if(t===e){K=null;break}var n=t.sibling;if(n!==null){n.return=t.return,K=n;break}K=t.return}}function Im(e){for(;K!==null;){var t=K;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{oc(4,t)}catch(c){Me(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){Me(t,i,c)}}var o=t.return;try{hd(t)}catch(c){Me(t,o,c)}break;case 5:var a=t.return;try{hd(t)}catch(c){Me(t,a,c)}}}catch(c){Me(t,t.return,c)}if(t===e){K=null;break}var l=t.sibling;if(l!==null){l.return=t.return,K=l;break}K=t.return}}var zN=Math.ceil,Al=nr.ReactCurrentDispatcher,_h=nr.ReactCurrentOwner,Zt=nr.ReactCurrentBatchConfig,he=0,Ye=null,ze=null,et=0,_t=0,Js=Vr(0),qe=0,Bo=null,Ns=0,ac=0,zh=0,Co=null,kt=null,$h=0,Ti=1/0,Fn=null,Ol=!1,pd=null,Lr=null,La=!1,Sr=null,Il=0,ko=0,gd=null,tl=-1,nl=0;function vt(){return he&6?Fe():tl!==-1?tl:tl=Fe()}function Mr(e){return e.mode&1?he&2&&et!==0?et&-et:NN.transition!==null?(nl===0&&(nl=ny()),nl):(e=pe,e!==0||(e=window.event,e=e===void 0?16:cy(e.type)),e):1}function hn(e,t,n,r){if(50<ko)throw ko=0,gd=null,Error(F(185));ra(e,n,r),(!(he&2)||e!==Ye)&&(e===Ye&&(!(he&2)&&(ac|=n),qe===4&&fr(e,et)),At(e,r),n===1&&he===0&&!(t.mode&1)&&(Ti=Fe()+500,rc&&Qr()))}function At(e,t){var n=e.callbackNode;N0(e,t);var r=gl(e,e===Ye?et:0);if(r===0)n!==null&&Wf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Wf(n),t===1)e.tag===0?jN(Lm.bind(null,e)):Ty(Lm.bind(null,e)),yN(function(){!(he&6)&&Qr()}),n=null;else{switch(ry(r)){case 1:n=hh;break;case 4:n=ey;break;case 16:n=pl;break;case 536870912:n=ty;break;default:n=pl}n=kx(n,vx.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function vx(e,t){if(tl=-1,nl=0,he&6)throw Error(F(327));var n=e.callbackNode;if(ii()&&e.callbackNode!==n)return null;var r=gl(e,e===Ye?et:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ll(e,r);else{t=r;var i=he;he|=2;var o=jx();(Ye!==e||et!==t)&&(Fn=null,Ti=Fe()+500,ps(e,t));do try{WN();break}catch(l){wx(e,l)}while(!0);Ch(),Al.current=o,he=i,ze!==null?t=0:(Ye=null,et=0,t=qe)}if(t!==0){if(t===2&&(i=Bu(e),i!==0&&(r=i,t=yd(e,i))),t===1)throw n=Bo,ps(e,0),fr(e,r),At(e,Fe()),n;if(t===6)fr(e,r);else{if(i=e.current.alternate,!(r&30)&&!$N(i)&&(t=Ll(e,r),t===2&&(o=Bu(e),o!==0&&(r=o,t=yd(e,o))),t===1))throw n=Bo,ps(e,0),fr(e,r),At(e,Fe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(F(345));case 2:es(e,kt,Fn);break;case 3:if(fr(e,r),(r&130023424)===r&&(t=$h+500-Fe(),10<t)){if(gl(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){vt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Xu(es.bind(null,e,kt,Fn),t);break}es(e,kt,Fn);break;case 4:if(fr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-dn(r);o=1<<a,a=t[a],a>i&&(i=a),r&=~o}if(r=i,r=Fe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*zN(r/1960))-r,10<r){e.timeoutHandle=Xu(es.bind(null,e,kt,Fn),r);break}es(e,kt,Fn);break;case 5:es(e,kt,Fn);break;default:throw Error(F(329))}}}return At(e,Fe()),e.callbackNode===n?vx.bind(null,e):null}function yd(e,t){var n=Co;return e.current.memoizedState.isDehydrated&&(ps(e,t).flags|=256),e=Ll(e,t),e!==2&&(t=kt,kt=n,t!==null&&xd(t)),e}function xd(e){kt===null?kt=e:kt.push.apply(kt,e)}function $N(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!fn(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fr(e,t){for(t&=~zh,t&=~ac,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-dn(t),r=1<<n;e[n]=-1,t&=~r}}function Lm(e){if(he&6)throw Error(F(327));ii();var t=gl(e,0);if(!(t&1))return At(e,Fe()),null;var n=Ll(e,t);if(e.tag!==0&&n===2){var r=Bu(e);r!==0&&(t=r,n=yd(e,r))}if(n===1)throw n=Bo,ps(e,0),fr(e,t),At(e,Fe()),n;if(n===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,es(e,kt,Fn),At(e,Fe()),null}function Uh(e,t){var n=he;he|=1;try{return e(t)}finally{he=n,he===0&&(Ti=Fe()+500,rc&&Qr())}}function bs(e){Sr!==null&&Sr.tag===0&&!(he&6)&&ii();var t=he;he|=1;var n=Zt.transition,r=pe;try{if(Zt.transition=null,pe=1,e)return e()}finally{pe=r,Zt.transition=n,he=t,!(he&6)&&Qr()}}function Wh(){_t=Js.current,ke(Js)}function ps(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,gN(n)),ze!==null)for(n=ze.return;n!==null;){var r=n;switch(Nh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jl();break;case 3:ki(),ke(Pt),ke(ut),Ah();break;case 5:Rh(r);break;case 4:ki();break;case 13:ke(Re);break;case 19:ke(Re);break;case 10:kh(r.type._context);break;case 22:case 23:Wh()}n=n.return}if(Ye=e,ze=e=Dr(e.current,null),et=_t=t,qe=0,Bo=null,zh=ac=Ns=0,kt=Co=null,ns!==null){for(t=0;t<ns.length;t++)if(n=ns[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}ns=null}return e}function wx(e,t){do{var n=ze;try{if(Ch(),Ja.current=Rl,Pl){for(var r=Ae.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Pl=!1}if(js=0,Qe=We=Ae=null,bo=!1,$o=0,_h.current=null,n===null||n.return===null){qe=1,Bo=t,ze=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=et,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var g=h.alternate;g?(h.updateQueue=g.updateQueue,h.memoizedState=g.memoizedState,h.lanes=g.lanes):(h.updateQueue=null,h.memoizedState=null)}var j=jm(a);if(j!==null){j.flags&=-257,Nm(j,a,l,o,t),j.mode&1&&wm(o,u,t),t=j,c=u;var w=t.updateQueue;if(w===null){var x=new Set;x.add(c),t.updateQueue=x}else w.add(c);break e}else{if(!(t&1)){wm(o,u,t),Bh();break e}c=Error(F(426))}}else if(Pe&&l.mode&1){var f=jm(a);if(f!==null){!(f.flags&65536)&&(f.flags|=256),Nm(f,a,l,o,t),bh(Ei(c,l));break e}}o=c=Ei(c,l),qe!==4&&(qe=2),Co===null?Co=[o]:Co.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var m=rx(o,c,t);mm(o,m);break e;case 1:l=c;var y=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Lr===null||!Lr.has(v)))){o.flags|=65536,t&=-t,o.lanes|=t;var N=sx(o,l,t);mm(o,N);break e}}o=o.return}while(o!==null)}bx(n)}catch(b){t=b,ze===n&&n!==null&&(ze=n=n.return);continue}break}while(!0)}function jx(){var e=Al.current;return Al.current=Rl,e===null?Rl:e}function Bh(){(qe===0||qe===3||qe===2)&&(qe=4),Ye===null||!(Ns&268435455)&&!(ac&268435455)||fr(Ye,et)}function Ll(e,t){var n=he;he|=2;var r=jx();(Ye!==e||et!==t)&&(Fn=null,ps(e,t));do try{UN();break}catch(i){wx(e,i)}while(!0);if(Ch(),he=n,Al.current=r,ze!==null)throw Error(F(261));return Ye=null,et=0,qe}function UN(){for(;ze!==null;)Nx(ze)}function WN(){for(;ze!==null&&!f0();)Nx(ze)}function Nx(e){var t=Cx(e.alternate,e,_t);e.memoizedProps=e.pendingProps,t===null?bx(e):ze=t,_h.current=null}function bx(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=MN(n,t),n!==null){n.flags&=32767,ze=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{qe=6,ze=null;return}}else if(n=LN(n,t,_t),n!==null){ze=n;return}if(t=t.sibling,t!==null){ze=t;return}ze=t=e}while(t!==null);qe===0&&(qe=5)}function es(e,t,n){var r=pe,i=Zt.transition;try{Zt.transition=null,pe=1,BN(e,t,n,r)}finally{Zt.transition=i,pe=r}return null}function BN(e,t,n,r){do ii();while(Sr!==null);if(he&6)throw Error(F(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(b0(e,o),e===Ye&&(ze=Ye=null,et=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||La||(La=!0,kx(pl,function(){return ii(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Zt.transition,Zt.transition=null;var a=pe;pe=1;var l=he;he|=4,_h.current=null,FN(e,n),yx(n,e),cN(Yu),yl=!!Ku,Yu=Ku=null,e.current=n,_N(n),m0(),he=l,pe=a,Zt.transition=o}else e.current=n;if(La&&(La=!1,Sr=e,Il=i),o=e.pendingLanes,o===0&&(Lr=null),y0(n.stateNode),At(e,Fe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ol)throw Ol=!1,e=pd,pd=null,e;return Il&1&&e.tag!==0&&ii(),o=e.pendingLanes,o&1?e===gd?ko++:(ko=0,gd=e):ko=0,Qr(),null}function ii(){if(Sr!==null){var e=ry(Il),t=Zt.transition,n=pe;try{if(Zt.transition=null,pe=16>e?16:e,Sr===null)var r=!1;else{if(e=Sr,Sr=null,Il=0,he&6)throw Error(F(331));var i=he;for(he|=4,K=e.current;K!==null;){var o=K,a=o.child;if(K.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(K=u;K!==null;){var h=K;switch(h.tag){case 0:case 11:case 15:So(8,h,o)}var d=h.child;if(d!==null)d.return=h,K=d;else for(;K!==null;){h=K;var g=h.sibling,j=h.return;if(mx(h),h===u){K=null;break}if(g!==null){g.return=j,K=g;break}K=j}}}var w=o.alternate;if(w!==null){var x=w.child;if(x!==null){w.child=null;do{var f=x.sibling;x.sibling=null,x=f}while(x!==null)}}K=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,K=a;else e:for(;K!==null;){if(o=K,o.flags&2048)switch(o.tag){case 0:case 11:case 15:So(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,K=m;break e}K=o.return}}var y=e.current;for(K=y;K!==null;){a=K;var v=a.child;if(a.subtreeFlags&2064&&v!==null)v.return=a,K=v;else e:for(a=y;K!==null;){if(l=K,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:oc(9,l)}}catch(b){Me(l,l.return,b)}if(l===a){K=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,K=N;break e}K=l.return}}if(he=i,Qr(),Tn&&typeof Tn.onPostCommitFiberRoot=="function")try{Tn.onPostCommitFiberRoot(Jl,e)}catch{}r=!0}return r}finally{pe=n,Zt.transition=t}}return!1}function Mm(e,t,n){t=Ei(n,t),t=rx(e,t,1),e=Ir(e,t,1),t=vt(),e!==null&&(ra(e,1,t),At(e,t))}function Me(e,t,n){if(e.tag===3)Mm(e,e,n);else for(;t!==null;){if(t.tag===3){Mm(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Lr===null||!Lr.has(r))){e=Ei(n,e),e=sx(t,e,1),t=Ir(t,e,1),e=vt(),t!==null&&(ra(t,1,e),At(t,e));break}}t=t.return}}function qN(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=vt(),e.pingedLanes|=e.suspendedLanes&n,Ye===e&&(et&n)===n&&(qe===4||qe===3&&(et&130023424)===et&&500>Fe()-$h?ps(e,0):zh|=n),At(e,t)}function Sx(e,t){t===0&&(e.mode&1?(t=Sa,Sa<<=1,!(Sa&130023424)&&(Sa=4194304)):t=1);var n=vt();e=Xn(e,t),e!==null&&(ra(e,t,n),At(e,n))}function HN(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Sx(e,n)}function VN(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(t),Sx(e,n)}var Cx;Cx=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Pt.current)Tt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Tt=!1,IN(e,t,n);Tt=!!(e.flags&131072)}else Tt=!1,Pe&&t.flags&1048576&&Py(t,Sl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;el(e,t),e=t.pendingProps;var i=bi(t,ut.current);si(t,n),i=Ih(null,t,r,e,i,n);var o=Lh();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rt(r)?(o=!0,Nl(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Th(t),i.updater=ic,t.stateNode=i,i._reactInternals=t,sd(t,r,e,n),t=ad(null,t,r,!0,o,n)):(t.tag=0,Pe&&o&&jh(t),yt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(el(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=KN(r),e=sn(r,e),i){case 0:t=od(null,t,r,e,n);break e;case 1:t=Cm(null,t,r,e,n);break e;case 11:t=bm(null,t,r,e,n);break e;case 14:t=Sm(null,t,r,sn(r.type,e),n);break e}throw Error(F(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:sn(r,i),od(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:sn(r,i),Cm(e,t,r,i,n);case 3:e:{if(lx(t),e===null)throw Error(F(387));r=t.pendingProps,o=t.memoizedState,i=o.element,My(e,t),El(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Ei(Error(F(423)),t),t=km(e,t,r,n,i);break e}else if(r!==i){i=Ei(Error(F(424)),t),t=km(e,t,r,n,i);break e}else for($t=Or(t.stateNode.containerInfo.firstChild),Ut=t,Pe=!0,un=null,n=Iy(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Si(),r===i){t=Jn(e,t,n);break e}yt(e,t,r,n)}t=t.child}return t;case 5:return Dy(t),e===null&&td(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,Gu(r,i)?a=null:o!==null&&Gu(r,o)&&(t.flags|=32),ax(e,t),yt(e,t,a,n),t.child;case 6:return e===null&&td(t),null;case 13:return cx(e,t,n);case 4:return Ph(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ci(t,null,r,n):yt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:sn(r,i),bm(e,t,r,i,n);case 7:return yt(e,t,t.pendingProps,n),t.child;case 8:return yt(e,t,t.pendingProps.children,n),t.child;case 12:return yt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Ne(Cl,r._currentValue),r._currentValue=a,o!==null)if(fn(o.value,a)){if(o.children===i.children&&!Pt.current){t=Jn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=Hn(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),nd(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(F(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),nd(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}yt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,si(t,n),i=en(i),r=r(i),t.flags|=1,yt(e,t,r,n),t.child;case 14:return r=t.type,i=sn(r,t.pendingProps),i=sn(r.type,i),Sm(e,t,r,i,n);case 15:return ix(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:sn(r,i),el(e,t),t.tag=1,Rt(r)?(e=!0,Nl(t)):e=!1,si(t,n),nx(t,r,i),sd(t,r,i,n),ad(null,t,r,!0,e,n);case 19:return ux(e,t,n);case 22:return ox(e,t,n)}throw Error(F(156,t.tag))};function kx(e,t){return Zg(e,t)}function QN(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(e,t,n,r){return new QN(e,t,n,r)}function qh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function KN(e){if(typeof e=="function")return qh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ch)return 11;if(e===uh)return 14}return 2}function Dr(e,t){var n=e.alternate;return n===null?(n=Jt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function rl(e,t,n,r,i,o){var a=2;if(r=e,typeof e=="function")qh(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Ws:return gs(n.children,i,o,t);case lh:a=8,i|=8;break;case Tu:return e=Jt(12,n,t,i|2),e.elementType=Tu,e.lanes=o,e;case Pu:return e=Jt(13,n,t,i),e.elementType=Pu,e.lanes=o,e;case Ru:return e=Jt(19,n,t,i),e.elementType=Ru,e.lanes=o,e;case Dg:return lc(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Lg:a=10;break e;case Mg:a=9;break e;case ch:a=11;break e;case uh:a=14;break e;case ur:a=16,r=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=Jt(a,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function gs(e,t,n,r){return e=Jt(7,e,r,t),e.lanes=n,e}function lc(e,t,n,r){return e=Jt(22,e,r,t),e.elementType=Dg,e.lanes=n,e.stateNode={isHidden:!1},e}function ou(e,t,n){return e=Jt(6,e,null,t),e.lanes=n,e}function au(e,t,n){return t=Jt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function YN(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Uc(0),this.expirationTimes=Uc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Hh(e,t,n,r,i,o,a,l,c){return e=new YN(e,t,n,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Jt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Th(o),e}function GN(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Us,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Ex(e){if(!e)return Wr;e=e._reactInternals;e:{if(Ls(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Rt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var n=e.type;if(Rt(n))return Ey(e,n,t)}return t}function Tx(e,t,n,r,i,o,a,l,c){return e=Hh(n,r,!0,e,i,o,a,l,c),e.context=Ex(null),n=e.current,r=vt(),i=Mr(n),o=Hn(r,i),o.callback=t??null,Ir(n,o,i),e.current.lanes=i,ra(e,i,r),At(e,r),e}function cc(e,t,n,r){var i=t.current,o=vt(),a=Mr(i);return n=Ex(n),t.context===null?t.context=n:t.pendingContext=n,t=Hn(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ir(i,t,a),e!==null&&(hn(e,i,a,o),Xa(e,i,a)),a}function Ml(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Dm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Vh(e,t){Dm(e,t),(e=e.alternate)&&Dm(e,t)}function XN(){return null}var Px=typeof reportError=="function"?reportError:function(e){console.error(e)};function Qh(e){this._internalRoot=e}uc.prototype.render=Qh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));cc(e,t,null,null)};uc.prototype.unmount=Qh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;bs(function(){cc(null,e,null,null)}),t[Gn]=null}};function uc(e){this._internalRoot=e}uc.prototype.unstable_scheduleHydration=function(e){if(e){var t=oy();e={blockedOn:null,target:e,priority:t};for(var n=0;n<hr.length&&t!==0&&t<hr[n].priority;n++);hr.splice(n,0,e),n===0&&ly(e)}};function Kh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function dc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Fm(){}function JN(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Ml(a);o.call(u)}}var a=Tx(t,r,e,0,null,!1,!1,"",Fm);return e._reactRootContainer=a,e[Gn]=a.current,Mo(e.nodeType===8?e.parentNode:e),bs(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=Ml(c);l.call(u)}}var c=Hh(e,0,!1,null,null,!1,!1,"",Fm);return e._reactRootContainer=c,e[Gn]=c.current,Mo(e.nodeType===8?e.parentNode:e),bs(function(){cc(t,c,n,r)}),c}function hc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var l=i;i=function(){var c=Ml(a);l.call(c)}}cc(t,a,e,i)}else a=JN(n,t,e,i,r);return Ml(a)}sy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ho(t.pendingLanes);n!==0&&(fh(t,n|1),At(t,Fe()),!(he&6)&&(Ti=Fe()+500,Qr()))}break;case 13:bs(function(){var r=Xn(e,1);if(r!==null){var i=vt();hn(r,e,1,i)}}),Vh(e,1)}};mh=function(e){if(e.tag===13){var t=Xn(e,134217728);if(t!==null){var n=vt();hn(t,e,134217728,n)}Vh(e,134217728)}};iy=function(e){if(e.tag===13){var t=Mr(e),n=Xn(e,t);if(n!==null){var r=vt();hn(n,e,t,r)}Vh(e,t)}};oy=function(){return pe};ay=function(e,t){var n=pe;try{return pe=e,t()}finally{pe=n}};$u=function(e,t,n){switch(t){case"input":if(Iu(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=nc(r);if(!i)throw Error(F(90));_g(r),Iu(r,i)}}}break;case"textarea":$g(e,n);break;case"select":t=n.value,t!=null&&ei(e,!!n.multiple,t,!1)}};Qg=Uh;Kg=bs;var ZN={usingClientEntryPoint:!1,Events:[ia,Vs,nc,Hg,Vg,Uh]},so={findFiberByHostInstance:ts,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eb={bundleType:so.bundleType,version:so.version,rendererPackageName:so.rendererPackageName,rendererConfig:so.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:nr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Xg(e),e===null?null:e.stateNode},findFiberByHostInstance:so.findFiberByHostInstance||XN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ma=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ma.isDisabled&&Ma.supportsFiber)try{Jl=Ma.inject(eb),Tn=Ma}catch{}}qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZN;qt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kh(t))throw Error(F(200));return GN(e,t,null,n)};qt.createRoot=function(e,t){if(!Kh(e))throw Error(F(299));var n=!1,r="",i=Px;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Hh(e,1,!1,null,null,n,!1,r,i),e[Gn]=t.current,Mo(e.nodeType===8?e.parentNode:e),new Qh(t)};qt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=Xg(t),e=e===null?null:e.stateNode,e};qt.flushSync=function(e){return bs(e)};qt.hydrate=function(e,t,n){if(!dc(t))throw Error(F(200));return hc(null,e,t,!0,n)};qt.hydrateRoot=function(e,t,n){if(!Kh(e))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=Px;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Tx(t,null,e,1,n??null,i,!1,o,a),e[Gn]=t.current,Mo(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new uc(t)};qt.render=function(e,t,n){if(!dc(t))throw Error(F(200));return hc(null,e,t,!1,n)};qt.unmountComponentAtNode=function(e){if(!dc(e))throw Error(F(40));return e._reactRootContainer?(bs(function(){hc(null,null,e,!1,function(){e._reactRootContainer=null,e[Gn]=null})}),!0):!1};qt.unstable_batchedUpdates=Uh;qt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!dc(n))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return hc(e,t,n,!1,r)};qt.version="18.3.1-next-f1338f8080-20240426";function Rx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Rx)}catch(e){console.error(e)}}Rx(),Rg.exports=qt;var Di=Rg.exports;const tb=xg(Di);var _m=Di;ku.createRoot=_m.createRoot,ku.hydrateRoot=_m.hydrateRoot;var Fi=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},nb={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},mr,eh,ag,rb=(ag=class{constructor(){J(this,mr,nb);J(this,eh,!1)}setTimeoutProvider(e){W(this,mr,e)}setTimeout(e,t){return S(this,mr).setTimeout(e,t)}clearTimeout(e){S(this,mr).clearTimeout(e)}setInterval(e,t){return S(this,mr).setInterval(e,t)}clearInterval(e){S(this,mr).clearInterval(e)}},mr=new WeakMap,eh=new WeakMap,ag),ss=new rb;function sb(e){setTimeout(e,0)}var Ss=typeof window>"u"||"Deno"in globalThis;function xt(){}function ib(e,t){return typeof e=="function"?e(t):e}function vd(e){return typeof e=="number"&&e>=0&&e!==1/0}function Ax(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Fr(e,t){return typeof e=="function"?e(t):e}function Yt(e,t){return typeof e=="function"?e(t):e}function zm(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:a,stale:l}=e;if(a){if(r){if(t.queryHash!==Yh(a,t.options))return!1}else if(!qo(t.queryKey,a))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||o&&!o(t))}function $m(e,t){const{exact:n,status:r,predicate:i,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(Cs(t.options.mutationKey)!==Cs(o))return!1}else if(!qo(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function Yh(e,t){return((t==null?void 0:t.queryKeyHashFn)||Cs)(e)}function Cs(e){return JSON.stringify(e,(t,n)=>wd(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function qo(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>qo(e[n],t[n])):!1}var ob=Object.prototype.hasOwnProperty;function Ox(e,t){if(e===t)return e;const n=Um(e)&&Um(t);if(!n&&!(wd(e)&&wd(t)))return t;const i=(n?e:Object.keys(e)).length,o=n?t:Object.keys(t),a=o.length,l=n?new Array(a):{};let c=0;for(let u=0;u<a;u++){const h=n?u:o[u],d=e[h],g=t[h];if(d===g){l[h]=d,(n?u<i:ob.call(e,h))&&c++;continue}if(d===null||g===null||typeof d!="object"||typeof g!="object"){l[h]=g;continue}const j=Ox(d,g);l[h]=j,j===d&&c++}return i===a&&c===i?e:l}function Dl(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Um(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function wd(e){if(!Wm(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Wm(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Wm(e){return Object.prototype.toString.call(e)==="[object Object]"}function ab(e){return new Promise(t=>{ss.setTimeout(t,e)})}function jd(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?Ox(e,t):t}function lb(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function cb(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Gh=Symbol();function Ix(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Gh?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Lx(e,t){return typeof e=="function"?e(...t):!!e}var os,pr,ui,lg,ub=(lg=class extends Fi{constructor(){super();J(this,os);J(this,pr);J(this,ui);W(this,ui,t=>{if(!Ss&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){S(this,pr)||this.setEventListener(S(this,ui))}onUnsubscribe(){var t;this.hasListeners()||((t=S(this,pr))==null||t.call(this),W(this,pr,void 0))}setEventListener(t){var n;W(this,ui,t),(n=S(this,pr))==null||n.call(this),W(this,pr,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){S(this,os)!==t&&(W(this,os,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof S(this,os)=="boolean"?S(this,os):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},os=new WeakMap,pr=new WeakMap,ui=new WeakMap,lg),Xh=new ub;function Nd(){let e,t;const n=new Promise((i,o)=>{e=i,t=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}var db=sb;function hb(){let e=[],t=0,n=l=>{l()},r=l=>{l()},i=db;const o=l=>{t?e.push(l):i(()=>{n(l)})},a=()=>{const l=e;e=[],l.length&&i(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||a()}return c},batchCalls:l=>(...c)=>{o(()=>{l(...c)})},schedule:o,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var Be=hb(),di,gr,hi,cg,fb=(cg=class extends Fi{constructor(){super();J(this,di,!0);J(this,gr);J(this,hi);W(this,hi,t=>{if(!Ss&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){S(this,gr)||this.setEventListener(S(this,hi))}onUnsubscribe(){var t;this.hasListeners()||((t=S(this,gr))==null||t.call(this),W(this,gr,void 0))}setEventListener(t){var n;W(this,hi,t),(n=S(this,gr))==null||n.call(this),W(this,gr,t(this.setOnline.bind(this)))}setOnline(t){S(this,di)!==t&&(W(this,di,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return S(this,di)}},di=new WeakMap,gr=new WeakMap,hi=new WeakMap,cg),Fl=new fb;function mb(e){return Math.min(1e3*2**e,3e4)}function Mx(e){return(e??"online")==="online"?Fl.isOnline():!0}var bd=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Dx(e){let t=!1,n=0,r;const i=Nd(),o=()=>i.status!=="pending",a=x=>{var f;if(!o()){const m=new bd(x);g(m),(f=e.onCancel)==null||f.call(e,m)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>Xh.isFocused()&&(e.networkMode==="always"||Fl.isOnline())&&e.canRun(),h=()=>Mx(e.networkMode)&&e.canRun(),d=x=>{o()||(r==null||r(),i.resolve(x))},g=x=>{o()||(r==null||r(),i.reject(x))},j=()=>new Promise(x=>{var f;r=m=>{(o()||u())&&x(m)},(f=e.onPause)==null||f.call(e)}).then(()=>{var x;r=void 0,o()||(x=e.onContinue)==null||x.call(e)}),w=()=>{if(o())return;let x;const f=n===0?e.initialPromise:void 0;try{x=f??e.fn()}catch(m){x=Promise.reject(m)}Promise.resolve(x).then(d).catch(m=>{var k;if(o())return;const y=e.retry??(Ss?0:3),v=e.retryDelay??mb,N=typeof v=="function"?v(n,m):v,b=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,m);if(t||!b){g(m);return}n++,(k=e.onFail)==null||k.call(e,n,m),ab(N).then(()=>u()?void 0:j()).then(()=>{t?g(m):w()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(r==null||r(),i),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?w():j().then(w),i)}}var as,ug,Fx=(ug=class{constructor(){J(this,as)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),vd(this.gcTime)&&W(this,as,ss.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ss?1/0:5*60*1e3))}clearGcTimeout(){S(this,as)&&(ss.clearTimeout(S(this,as)),W(this,as,void 0))}},as=new WeakMap,ug),ls,fi,Qt,cs,Ve,Xo,us,on,Mn,dg,pb=(dg=class extends Fx{constructor(t){super();J(this,on);J(this,ls);J(this,fi);J(this,Qt);J(this,cs);J(this,Ve);J(this,Xo);J(this,us);W(this,us,!1),W(this,Xo,t.defaultOptions),this.setOptions(t.options),this.observers=[],W(this,cs,t.client),W(this,Qt,S(this,cs).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,W(this,ls,qm(this.options)),this.state=t.state??S(this,ls),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=S(this,Ve))==null?void 0:t.promise}setOptions(t){if(this.options={...S(this,Xo),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=qm(this.options);n.data!==void 0&&(this.setState(Bm(n.data,n.dataUpdatedAt)),W(this,ls,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&S(this,Qt).remove(this)}setData(t,n){const r=jd(this.state.data,t,this.options);return ae(this,on,Mn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){ae(this,on,Mn).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=S(this,Ve))==null?void 0:r.promise;return(i=S(this,Ve))==null||i.cancel(t),n?n.then(xt).catch(xt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(S(this,ls))}isActive(){return this.observers.some(t=>Yt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Gh||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Fr(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Ax(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=S(this,Ve))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=S(this,Ve))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),S(this,Qt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(S(this,Ve)&&(S(this,us)?S(this,Ve).cancel({revert:!0}):S(this,Ve).cancelRetry()),this.scheduleGc()),S(this,Qt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ae(this,on,Mn).call(this,{type:"invalidate"})}async fetch(t,n){var c,u,h,d,g,j,w,x,f,m,y,v;if(this.state.fetchStatus!=="idle"&&((c=S(this,Ve))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(S(this,Ve))return S(this,Ve).continueRetry(),S(this,Ve).promise}if(t&&this.setOptions(t),!this.options.queryFn){const N=this.observers.find(b=>b.options.queryFn);N&&this.setOptions(N.options)}const r=new AbortController,i=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(W(this,us,!0),r.signal)})},o=()=>{const N=Ix(this.options,n),k=(()=>{const C={client:S(this,cs),queryKey:this.queryKey,meta:this.meta};return i(C),C})();return W(this,us,!1),this.options.persister?this.options.persister(N,k,this):N(k)},l=(()=>{const N={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:S(this,cs),state:this.state,fetchFn:o};return i(N),N})();(u=this.options.behavior)==null||u.onFetch(l,this),W(this,fi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&ae(this,on,Mn).call(this,{type:"fetch",meta:(d=l.fetchOptions)==null?void 0:d.meta}),W(this,Ve,Dx({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,onCancel:N=>{N instanceof bd&&N.revert&&this.setState({...S(this,fi),fetchStatus:"idle"}),r.abort()},onFail:(N,b)=>{ae(this,on,Mn).call(this,{type:"failed",failureCount:N,error:b})},onPause:()=>{ae(this,on,Mn).call(this,{type:"pause"})},onContinue:()=>{ae(this,on,Mn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const N=await S(this,Ve).start();if(N===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(N),(j=(g=S(this,Qt).config).onSuccess)==null||j.call(g,N,this),(x=(w=S(this,Qt).config).onSettled)==null||x.call(w,N,this.state.error,this),N}catch(N){if(N instanceof bd){if(N.silent)return S(this,Ve).promise;if(N.revert){if(this.state.data===void 0)throw N;return this.state.data}}throw ae(this,on,Mn).call(this,{type:"error",error:N}),(m=(f=S(this,Qt).config).onError)==null||m.call(f,N,this),(v=(y=S(this,Qt).config).onSettled)==null||v.call(y,this.state.data,N,this),N}finally{this.scheduleGc()}}},ls=new WeakMap,fi=new WeakMap,Qt=new WeakMap,cs=new WeakMap,Ve=new WeakMap,Xo=new WeakMap,us=new WeakMap,on=new WeakSet,Mn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,..._x(r.data,this.options),fetchMeta:t.meta??null};case"success":const i={...r,...Bm(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return W(this,fi,t.manual?i:void 0),i;case"error":const o=t.error;return{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Be.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),S(this,Qt).notify({query:this,type:"updated",action:t})})},dg);function _x(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Mx(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Bm(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function qm(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var St,de,Jo,pt,ds,mi,zn,yr,Zo,pi,gi,hs,fs,xr,yi,me,mo,Sd,Cd,kd,Ed,Td,Pd,Rd,zx,hg,gb=(hg=class extends Fi{constructor(t,n){super();J(this,me);J(this,St);J(this,de);J(this,Jo);J(this,pt);J(this,ds);J(this,mi);J(this,zn);J(this,yr);J(this,Zo);J(this,pi);J(this,gi);J(this,hs);J(this,fs);J(this,xr);J(this,yi,new Set);this.options=n,W(this,St,t),W(this,yr,null),W(this,zn,Nd()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(S(this,de).addObserver(this),Hm(S(this,de),this.options)?ae(this,me,mo).call(this):this.updateResult(),ae(this,me,Ed).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ad(S(this,de),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ad(S(this,de),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ae(this,me,Td).call(this),ae(this,me,Pd).call(this),S(this,de).removeObserver(this)}setOptions(t){const n=this.options,r=S(this,de);if(this.options=S(this,St).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Yt(this.options.enabled,S(this,de))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ae(this,me,Rd).call(this),S(this,de).setOptions(this.options),n._defaulted&&!Dl(this.options,n)&&S(this,St).getQueryCache().notify({type:"observerOptionsUpdated",query:S(this,de),observer:this});const i=this.hasListeners();i&&Vm(S(this,de),r,this.options,n)&&ae(this,me,mo).call(this),this.updateResult(),i&&(S(this,de)!==r||Yt(this.options.enabled,S(this,de))!==Yt(n.enabled,S(this,de))||Fr(this.options.staleTime,S(this,de))!==Fr(n.staleTime,S(this,de)))&&ae(this,me,Sd).call(this);const o=ae(this,me,Cd).call(this);i&&(S(this,de)!==r||Yt(this.options.enabled,S(this,de))!==Yt(n.enabled,S(this,de))||o!==S(this,xr))&&ae(this,me,kd).call(this,o)}getOptimisticResult(t){const n=S(this,St).getQueryCache().build(S(this,St),t),r=this.createResult(n,t);return xb(this,r)&&(W(this,pt,r),W(this,mi,this.options),W(this,ds,S(this,de).state)),r}getCurrentResult(){return S(this,pt)}trackResult(t,n){return new Proxy(t,{get:(r,i)=>(this.trackProp(i),n==null||n(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&S(this,zn).status==="pending"&&S(this,zn).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,i))})}trackProp(t){S(this,yi).add(t)}getCurrentQuery(){return S(this,de)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=S(this,St).defaultQueryOptions(t),r=S(this,St).getQueryCache().build(S(this,St),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return ae(this,me,mo).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),S(this,pt)))}createResult(t,n){var A;const r=S(this,de),i=this.options,o=S(this,pt),a=S(this,ds),l=S(this,mi),u=t!==r?t.state:S(this,Jo),{state:h}=t;let d={...h},g=!1,j;if(n._optimisticResults){const O=this.hasListeners(),I=!O&&Hm(t,n),M=O&&Vm(t,r,n,i);(I||M)&&(d={...d,..._x(h.data,t.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:w,errorUpdatedAt:x,status:f}=d;j=d.data;let m=!1;if(n.placeholderData!==void 0&&j===void 0&&f==="pending"){let O;o!=null&&o.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(O=o.data,m=!0):O=typeof n.placeholderData=="function"?n.placeholderData((A=S(this,gi))==null?void 0:A.state.data,S(this,gi)):n.placeholderData,O!==void 0&&(f="success",j=jd(o==null?void 0:o.data,O,n),g=!0)}if(n.select&&j!==void 0&&!m)if(o&&j===(a==null?void 0:a.data)&&n.select===S(this,Zo))j=S(this,pi);else try{W(this,Zo,n.select),j=n.select(j),j=jd(o==null?void 0:o.data,j,n),W(this,pi,j),W(this,yr,null)}catch(O){W(this,yr,O)}S(this,yr)&&(w=S(this,yr),j=S(this,pi),x=Date.now(),f="error");const y=d.fetchStatus==="fetching",v=f==="pending",N=f==="error",b=v&&y,k=j!==void 0,P={status:f,fetchStatus:d.fetchStatus,isPending:v,isSuccess:f==="success",isError:N,isInitialLoading:b,isLoading:b,data:j,dataUpdatedAt:d.dataUpdatedAt,error:w,errorUpdatedAt:x,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!v,isLoadingError:N&&!k,isPaused:d.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:N&&k,isStale:Jh(t,n),refetch:this.refetch,promise:S(this,zn),isEnabled:Yt(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const O=Y=>{P.status==="error"?Y.reject(P.error):P.data!==void 0&&Y.resolve(P.data)},I=()=>{const Y=W(this,zn,P.promise=Nd());O(Y)},M=S(this,zn);switch(M.status){case"pending":t.queryHash===r.queryHash&&O(M);break;case"fulfilled":(P.status==="error"||P.data!==M.value)&&I();break;case"rejected":(P.status!=="error"||P.error!==M.reason)&&I();break}}return P}updateResult(){const t=S(this,pt),n=this.createResult(S(this,de),this.options);if(W(this,ds,S(this,de).state),W(this,mi,this.options),S(this,ds).data!==void 0&&W(this,gi,S(this,de)),Dl(n,t))return;W(this,pt,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,o=typeof i=="function"?i():i;if(o==="all"||!o&&!S(this,yi).size)return!0;const a=new Set(o??S(this,yi));return this.options.throwOnError&&a.add("error"),Object.keys(S(this,pt)).some(l=>{const c=l;return S(this,pt)[c]!==t[c]&&a.has(c)})};ae(this,me,zx).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ae(this,me,Ed).call(this)}},St=new WeakMap,de=new WeakMap,Jo=new WeakMap,pt=new WeakMap,ds=new WeakMap,mi=new WeakMap,zn=new WeakMap,yr=new WeakMap,Zo=new WeakMap,pi=new WeakMap,gi=new WeakMap,hs=new WeakMap,fs=new WeakMap,xr=new WeakMap,yi=new WeakMap,me=new WeakSet,mo=function(t){ae(this,me,Rd).call(this);let n=S(this,de).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(xt)),n},Sd=function(){ae(this,me,Td).call(this);const t=Fr(this.options.staleTime,S(this,de));if(Ss||S(this,pt).isStale||!vd(t))return;const r=Ax(S(this,pt).dataUpdatedAt,t)+1;W(this,hs,ss.setTimeout(()=>{S(this,pt).isStale||this.updateResult()},r))},Cd=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(S(this,de)):this.options.refetchInterval)??!1},kd=function(t){ae(this,me,Pd).call(this),W(this,xr,t),!(Ss||Yt(this.options.enabled,S(this,de))===!1||!vd(S(this,xr))||S(this,xr)===0)&&W(this,fs,ss.setInterval(()=>{(this.options.refetchIntervalInBackground||Xh.isFocused())&&ae(this,me,mo).call(this)},S(this,xr)))},Ed=function(){ae(this,me,Sd).call(this),ae(this,me,kd).call(this,ae(this,me,Cd).call(this))},Td=function(){S(this,hs)&&(ss.clearTimeout(S(this,hs)),W(this,hs,void 0))},Pd=function(){S(this,fs)&&(ss.clearInterval(S(this,fs)),W(this,fs,void 0))},Rd=function(){const t=S(this,St).getQueryCache().build(S(this,St),this.options);if(t===S(this,de))return;const n=S(this,de);W(this,de,t),W(this,Jo,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},zx=function(t){Be.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(S(this,pt))}),S(this,St).getQueryCache().notify({query:S(this,de),type:"observerResultsUpdated"})})},hg);function yb(e,t){return Yt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Hm(e,t){return yb(e,t)||e.state.data!==void 0&&Ad(e,t,t.refetchOnMount)}function Ad(e,t,n){if(Yt(t.enabled,e)!==!1&&Fr(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Jh(e,t)}return!1}function Vm(e,t,n,r){return(e!==t||Yt(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Jh(e,n)}function Jh(e,t){return Yt(t.enabled,e)!==!1&&e.isStaleByTime(Fr(t.staleTime,e))}function xb(e,t){return!Dl(e.getCurrentResult(),t)}function Qm(e){return{onFetch:(t,n)=>{var h,d,g,j,w;const r=t.options,i=(g=(d=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:d.fetchMore)==null?void 0:g.direction,o=((j=t.state.data)==null?void 0:j.pages)||[],a=((w=t.state.data)==null?void 0:w.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let x=!1;const f=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},m=Ix(t.options,t.fetchOptions),y=async(v,N,b)=>{if(x)return Promise.reject();if(N==null&&v.pages.length)return Promise.resolve(v);const C=(()=>{const I={client:t.client,queryKey:t.queryKey,pageParam:N,direction:b?"backward":"forward",meta:t.options.meta};return f(I),I})(),P=await m(C),{maxPages:A}=t.options,O=b?cb:lb;return{pages:O(v.pages,P,A),pageParams:O(v.pageParams,N,A)}};if(i&&o.length){const v=i==="backward",N=v?vb:Km,b={pages:o,pageParams:a},k=N(r,b);l=await y(b,k,v)}else{const v=e??o.length;do{const N=c===0?a[0]??r.initialPageParam:Km(r,l);if(c>0&&N==null)break;l=await y(l,N),c++}while(c<v)}return l};t.options.persister?t.fetchFn=()=>{var x,f;return(f=(x=t.options).persister)==null?void 0:f.call(x,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function Km(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function vb(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var ea,Nn,gt,ms,bn,lr,fg,wb=(fg=class extends Fx{constructor(t){super();J(this,bn);J(this,ea);J(this,Nn);J(this,gt);J(this,ms);W(this,ea,t.client),this.mutationId=t.mutationId,W(this,gt,t.mutationCache),W(this,Nn,[]),this.state=t.state||$x(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){S(this,Nn).includes(t)||(S(this,Nn).push(t),this.clearGcTimeout(),S(this,gt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){W(this,Nn,S(this,Nn).filter(n=>n!==t)),this.scheduleGc(),S(this,gt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){S(this,Nn).length||(this.state.status==="pending"?this.scheduleGc():S(this,gt).remove(this))}continue(){var t;return((t=S(this,ms))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,l,c,u,h,d,g,j,w,x,f,m,y,v,N,b,k,C,P,A;const n=()=>{ae(this,bn,lr).call(this,{type:"continue"})},r={client:S(this,ea),meta:this.options.meta,mutationKey:this.options.mutationKey};W(this,ms,Dx({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(O,I)=>{ae(this,bn,lr).call(this,{type:"failed",failureCount:O,error:I})},onPause:()=>{ae(this,bn,lr).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>S(this,gt).canRun(this)}));const i=this.state.status==="pending",o=!S(this,ms).canStart();try{if(i)n();else{ae(this,bn,lr).call(this,{type:"pending",variables:t,isPaused:o}),await((l=(a=S(this,gt).config).onMutate)==null?void 0:l.call(a,t,this,r));const I=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t,r));I!==this.state.context&&ae(this,bn,lr).call(this,{type:"pending",context:I,variables:t,isPaused:o})}const O=await S(this,ms).start();return await((d=(h=S(this,gt).config).onSuccess)==null?void 0:d.call(h,O,t,this.state.context,this,r)),await((j=(g=this.options).onSuccess)==null?void 0:j.call(g,O,t,this.state.context,r)),await((x=(w=S(this,gt).config).onSettled)==null?void 0:x.call(w,O,null,this.state.variables,this.state.context,this,r)),await((m=(f=this.options).onSettled)==null?void 0:m.call(f,O,null,t,this.state.context,r)),ae(this,bn,lr).call(this,{type:"success",data:O}),O}catch(O){try{throw await((v=(y=S(this,gt).config).onError)==null?void 0:v.call(y,O,t,this.state.context,this,r)),await((b=(N=this.options).onError)==null?void 0:b.call(N,O,t,this.state.context,r)),await((C=(k=S(this,gt).config).onSettled)==null?void 0:C.call(k,void 0,O,this.state.variables,this.state.context,this,r)),await((A=(P=this.options).onSettled)==null?void 0:A.call(P,void 0,O,t,this.state.context,r)),O}finally{ae(this,bn,lr).call(this,{type:"error",error:O})}}finally{S(this,gt).runNext(this)}}},ea=new WeakMap,Nn=new WeakMap,gt=new WeakMap,ms=new WeakMap,bn=new WeakSet,lr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Be.batch(()=>{S(this,Nn).forEach(r=>{r.onMutationUpdate(t)}),S(this,gt).notify({mutation:this,type:"updated",action:t})})},fg);function $x(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var $n,an,ta,mg,jb=(mg=class extends Fi{constructor(t={}){super();J(this,$n);J(this,an);J(this,ta);this.config=t,W(this,$n,new Set),W(this,an,new Map),W(this,ta,0)}build(t,n,r){const i=new wb({client:t,mutationCache:this,mutationId:++xa(this,ta)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){S(this,$n).add(t);const n=Da(t);if(typeof n=="string"){const r=S(this,an).get(n);r?r.push(t):S(this,an).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(S(this,$n).delete(t)){const n=Da(t);if(typeof n=="string"){const r=S(this,an).get(n);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&S(this,an).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Da(t);if(typeof n=="string"){const r=S(this,an).get(n),i=r==null?void 0:r.find(o=>o.state.status==="pending");return!i||i===t}else return!0}runNext(t){var r;const n=Da(t);if(typeof n=="string"){const i=(r=S(this,an).get(n))==null?void 0:r.find(o=>o!==t&&o.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Be.batch(()=>{S(this,$n).forEach(t=>{this.notify({type:"removed",mutation:t})}),S(this,$n).clear(),S(this,an).clear()})}getAll(){return Array.from(S(this,$n))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>$m(n,r))}findAll(t={}){return this.getAll().filter(n=>$m(t,n))}notify(t){Be.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Be.batch(()=>Promise.all(t.map(n=>n.continue().catch(xt))))}},$n=new WeakMap,an=new WeakMap,ta=new WeakMap,mg);function Da(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Un,vr,Ct,Wn,Kn,sl,Od,pg,Nb=(pg=class extends Fi{constructor(n,r){super();J(this,Kn);J(this,Un);J(this,vr);J(this,Ct);J(this,Wn);W(this,Un,n),this.setOptions(r),this.bindMethods(),ae(this,Kn,sl).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=S(this,Un).defaultMutationOptions(n),Dl(this.options,r)||S(this,Un).getMutationCache().notify({type:"observerOptionsUpdated",mutation:S(this,Ct),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Cs(r.mutationKey)!==Cs(this.options.mutationKey)?this.reset():((i=S(this,Ct))==null?void 0:i.state.status)==="pending"&&S(this,Ct).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=S(this,Ct))==null||n.removeObserver(this)}onMutationUpdate(n){ae(this,Kn,sl).call(this),ae(this,Kn,Od).call(this,n)}getCurrentResult(){return S(this,vr)}reset(){var n;(n=S(this,Ct))==null||n.removeObserver(this),W(this,Ct,void 0),ae(this,Kn,sl).call(this),ae(this,Kn,Od).call(this)}mutate(n,r){var i;return W(this,Wn,r),(i=S(this,Ct))==null||i.removeObserver(this),W(this,Ct,S(this,Un).getMutationCache().build(S(this,Un),this.options)),S(this,Ct).addObserver(this),S(this,Ct).execute(n)}},Un=new WeakMap,vr=new WeakMap,Ct=new WeakMap,Wn=new WeakMap,Kn=new WeakSet,sl=function(){var r;const n=((r=S(this,Ct))==null?void 0:r.state)??$x();W(this,vr,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Od=function(n){Be.batch(()=>{var r,i,o,a,l,c,u,h;if(S(this,Wn)&&this.hasListeners()){const d=S(this,vr).variables,g=S(this,vr).context,j={client:S(this,Un),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((i=(r=S(this,Wn)).onSuccess)==null||i.call(r,n.data,d,g,j),(a=(o=S(this,Wn)).onSettled)==null||a.call(o,n.data,null,d,g,j)):(n==null?void 0:n.type)==="error"&&((c=(l=S(this,Wn)).onError)==null||c.call(l,n.error,d,g,j),(h=(u=S(this,Wn)).onSettled)==null||h.call(u,void 0,n.error,d,g,j))}this.listeners.forEach(d=>{d(S(this,vr))})})},pg),Sn,gg,bb=(gg=class extends Fi{constructor(t={}){super();J(this,Sn);this.config=t,W(this,Sn,new Map)}build(t,n,r){const i=n.queryKey,o=n.queryHash??Yh(i,n);let a=this.get(o);return a||(a=new pb({client:t,queryKey:i,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(a)),a}add(t){S(this,Sn).has(t.queryHash)||(S(this,Sn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=S(this,Sn).get(t.queryHash);n&&(t.destroy(),n===t&&S(this,Sn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Be.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return S(this,Sn).get(t)}getAll(){return[...S(this,Sn).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>zm(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>zm(t,r)):n}notify(t){Be.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Be.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Be.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Sn=new WeakMap,gg),Le,wr,jr,xi,vi,Nr,wi,ji,yg,Sb=(yg=class{constructor(e={}){J(this,Le);J(this,wr);J(this,jr);J(this,xi);J(this,vi);J(this,Nr);J(this,wi);J(this,ji);W(this,Le,e.queryCache||new bb),W(this,wr,e.mutationCache||new jb),W(this,jr,e.defaultOptions||{}),W(this,xi,new Map),W(this,vi,new Map),W(this,Nr,0)}mount(){xa(this,Nr)._++,S(this,Nr)===1&&(W(this,wi,Xh.subscribe(async e=>{e&&(await this.resumePausedMutations(),S(this,Le).onFocus())})),W(this,ji,Fl.subscribe(async e=>{e&&(await this.resumePausedMutations(),S(this,Le).onOnline())})))}unmount(){var e,t;xa(this,Nr)._--,S(this,Nr)===0&&((e=S(this,wi))==null||e.call(this),W(this,wi,void 0),(t=S(this,ji))==null||t.call(this),W(this,ji,void 0))}isFetching(e){return S(this,Le).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return S(this,wr).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=S(this,Le).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=S(this,Le).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Fr(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return S(this,Le).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=S(this,Le).get(r.queryHash),o=i==null?void 0:i.state.data,a=ib(t,o);if(a!==void 0)return S(this,Le).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return Be.batch(()=>S(this,Le).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=S(this,Le).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=S(this,Le);Be.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=S(this,Le);return Be.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Be.batch(()=>S(this,Le).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(xt).catch(xt)}invalidateQueries(e,t={}){return Be.batch(()=>(S(this,Le).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Be.batch(()=>S(this,Le).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(xt)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(xt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=S(this,Le).build(this,t);return n.isStaleByTime(Fr(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(xt).catch(xt)}fetchInfiniteQuery(e){return e.behavior=Qm(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(xt).catch(xt)}ensureInfiniteQueryData(e){return e.behavior=Qm(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Fl.isOnline()?S(this,wr).resumePausedMutations():Promise.resolve()}getQueryCache(){return S(this,Le)}getMutationCache(){return S(this,wr)}getDefaultOptions(){return S(this,jr)}setDefaultOptions(e){W(this,jr,e)}setQueryDefaults(e,t){S(this,xi).set(Cs(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...S(this,xi).values()],n={};return t.forEach(r=>{qo(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){S(this,vi).set(Cs(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...S(this,vi).values()],n={};return t.forEach(r=>{qo(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...S(this,jr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Yh(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Gh&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...S(this,jr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){S(this,Le).clear(),S(this,wr).clear()}},Le=new WeakMap,wr=new WeakMap,jr=new WeakMap,xi=new WeakMap,vi=new WeakMap,Nr=new WeakMap,wi=new WeakMap,ji=new WeakMap,yg),Ux=p.createContext(void 0),Ue=e=>{const t=p.useContext(Ux);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Cb=({client:e,children:t})=>(p.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(Ux.Provider,{value:e,children:t})),Wx=p.createContext(!1),kb=()=>p.useContext(Wx);Wx.Provider;function Eb(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Tb=p.createContext(Eb()),Pb=()=>p.useContext(Tb),Rb=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Ab=e=>{p.useEffect(()=>{e.clearReset()},[e])},Ob=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||Lx(n,[e.error,r])),Ib=e=>{if(e.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Lb=(e,t)=>e.isLoading&&e.isFetching&&!t,Mb=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Ym=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Db(e,t,n){var d,g,j,w,x;const r=kb(),i=Pb(),o=Ue(),a=o.defaultQueryOptions(e);(g=(d=o.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||g.call(d,a),a._optimisticResults=r?"isRestoring":"optimistic",Ib(a),Rb(a,i),Ab(i);const l=!o.getQueryCache().get(a.queryHash),[c]=p.useState(()=>new t(o,a)),u=c.getOptimisticResult(a),h=!r&&e.subscribed!==!1;if(p.useSyncExternalStore(p.useCallback(f=>{const m=h?c.subscribe(Be.batchCalls(f)):xt;return c.updateResult(),m},[c,h]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),p.useEffect(()=>{c.setOptions(a)},[a,c]),Mb(a,u))throw Ym(a,c,i);if(Ob({result:u,errorResetBoundary:i,throwOnError:a.throwOnError,query:o.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw u.error;if((w=(j=o.getDefaultOptions().queries)==null?void 0:j._experimental_afterQuery)==null||w.call(j,a,u),a.experimental_prefetchInRender&&!Ss&&Lb(u,r)){const f=l?Ym(a,c,i):(x=o.getQueryCache().get(a.queryHash))==null?void 0:x.promise;f==null||f.catch(xt).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?u:c.trackResult(u)}function re(e,t){return Db(e,gb)}function te(e,t){const n=Ue(),[r]=p.useState(()=>new Nb(n,e));p.useEffect(()=>{r.setOptions(e)},[r,e]);const i=p.useSyncExternalStore(p.useCallback(a=>r.subscribe(Be.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=p.useCallback((a,l)=>{r.mutate(a,l).catch(xt)},[r]);if(i.error&&Lx(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:o,mutateAsync:i.mutate}}/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ho(){return Ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ho.apply(this,arguments)}var Cr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Cr||(Cr={}));const Gm="popstate";function Fb(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:a,hash:l}=r.location;return Id("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:_l(i)}return zb(t,n,null,e)}function $e(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Zh(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function _b(){return Math.random().toString(36).substr(2,8)}function Xm(e,t){return{usr:e.state,key:e.key,idx:t}}function Id(e,t,n,r){return n===void 0&&(n=null),Ho({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?_i(t):t,{state:n,key:t&&t.key||r||_b()})}function _l(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function _i(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function zb(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,l=Cr.Pop,c=null,u=h();u==null&&(u=0,a.replaceState(Ho({},a.state,{idx:u}),""));function h(){return(a.state||{idx:null}).idx}function d(){l=Cr.Pop;let f=h(),m=f==null?null:f-u;u=f,c&&c({action:l,location:x.location,delta:m})}function g(f,m){l=Cr.Push;let y=Id(x.location,f,m);u=h()+1;let v=Xm(y,u),N=x.createHref(y);try{a.pushState(v,"",N)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;i.location.assign(N)}o&&c&&c({action:l,location:x.location,delta:1})}function j(f,m){l=Cr.Replace;let y=Id(x.location,f,m);u=h();let v=Xm(y,u),N=x.createHref(y);a.replaceState(v,"",N),o&&c&&c({action:l,location:x.location,delta:0})}function w(f){let m=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof f=="string"?f:_l(f);return y=y.replace(/ $/,"%20"),$e(m,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,m)}let x={get action(){return l},get location(){return e(i,a)},listen(f){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Gm,d),c=f,()=>{i.removeEventListener(Gm,d),c=null}},createHref(f){return t(i,f)},createURL:w,encodeLocation(f){let m=w(f);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:g,replace:j,go(f){return a.go(f)}};return x}var Jm;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Jm||(Jm={}));function $b(e,t,n){return n===void 0&&(n="/"),Ub(e,t,n)}function Ub(e,t,n,r){let i=typeof t=="string"?_i(t):t,o=ef(i.pathname||"/",n);if(o==null)return null;let a=Bx(e);Wb(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=e1(o);l=Xb(a[c],u)}return l}function Bx(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};c.relativePath.startsWith("/")&&($e(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=_r([r,c.relativePath]),h=n.concat(c);o.children&&o.children.length>0&&($e(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Bx(o.children,t,h,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:Yb(u,o.index),routesMeta:h})};return e.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,a);else for(let c of qx(o.path))i(o,a,c)}),t}function qx(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=qx(r.join("/")),l=[];return l.push(...a.map(c=>c===""?o:[o,c].join("/"))),i&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Wb(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Gb(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Bb=/^:[\w-]+$/,qb=3,Hb=2,Vb=1,Qb=10,Kb=-2,Zm=e=>e==="*";function Yb(e,t){let n=e.split("/"),r=n.length;return n.some(Zm)&&(r+=Kb),t&&(r+=Hb),n.filter(i=>!Zm(i)).reduce((i,o)=>i+(Bb.test(o)?qb:o===""?Vb:Qb),r)}function Gb(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Xb(e,t,n){let{routesMeta:r}=e,i={},o="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,h=o==="/"?t:t.slice(o.length)||"/",d=Jb({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),g=c.route;if(!d)return null;Object.assign(i,d.params),a.push({params:i,pathname:_r([o,d.pathname]),pathnameBase:i1(_r([o,d.pathnameBase])),route:g}),d.pathnameBase!=="/"&&(o=_r([o,d.pathnameBase]))}return a}function Jb(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Zb(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,h,d)=>{let{paramName:g,isOptional:j}=h;if(g==="*"){let x=l[d]||"";a=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const w=l[d];return j&&!w?u[g]=void 0:u[g]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:e}}function Zb(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Zh(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function e1(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Zh(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ef(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const t1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,n1=e=>t1.test(e);function r1(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?_i(e):e,o;if(n)if(n1(n))o=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),Zh(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?o=ep(n.substring(1),"/"):o=ep(n,t)}else o=t;return{pathname:o,search:o1(r),hash:a1(i)}}function ep(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function lu(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function s1(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Hx(e,t){let n=s1(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Vx(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=_i(e):(i=Ho({},e),$e(!i.pathname||!i.pathname.includes("?"),lu("?","pathname","search",i)),$e(!i.pathname||!i.pathname.includes("#"),lu("#","pathname","hash",i)),$e(!i.search||!i.search.includes("#"),lu("#","search","hash",i)));let o=e===""||i.pathname==="",a=o?"/":i.pathname,l;if(a==null)l=n;else{let d=t.length-1;if(!r&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),d-=1;i.pathname=g.join("/")}l=d>=0?t[d]:"/"}let c=r1(i,l),u=a&&a!=="/"&&a.endsWith("/"),h=(o||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const _r=e=>e.join("/").replace(/\/\/+/g,"/"),i1=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),o1=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,a1=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function l1(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Qx=["post","put","patch","delete"];new Set(Qx);const c1=["get",...Qx];new Set(c1);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vo(){return Vo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vo.apply(this,arguments)}const tf=p.createContext(null),u1=p.createContext(null),Ms=p.createContext(null),fc=p.createContext(null),Kr=p.createContext({outlet:null,matches:[],isDataRoute:!1}),Kx=p.createContext(null);function d1(e,t){let{relative:n}=t===void 0?{}:t;aa()||$e(!1);let{basename:r,navigator:i}=p.useContext(Ms),{hash:o,pathname:a,search:l}=Gx(e,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:_r([r,a])),i.createHref({pathname:c,search:l,hash:o})}function aa(){return p.useContext(fc)!=null}function zi(){return aa()||$e(!1),p.useContext(fc).location}function Yx(e){p.useContext(Ms).static||p.useLayoutEffect(e)}function nt(){let{isDataRoute:e}=p.useContext(Kr);return e?S1():h1()}function h1(){aa()||$e(!1);let e=p.useContext(tf),{basename:t,future:n,navigator:r}=p.useContext(Ms),{matches:i}=p.useContext(Kr),{pathname:o}=zi(),a=JSON.stringify(Hx(i,n.v7_relativeSplatPath)),l=p.useRef(!1);return Yx(()=>{l.current=!0}),p.useCallback(function(u,h){if(h===void 0&&(h={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let d=Vx(u,JSON.parse(a),o,h.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:_r([t,d.pathname])),(h.replace?r.replace:r.push)(d,h.state,h)},[t,r,a,o,e])}function gn(){let{matches:e}=p.useContext(Kr),t=e[e.length-1];return t?t.params:{}}function Gx(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=p.useContext(Ms),{matches:i}=p.useContext(Kr),{pathname:o}=zi(),a=JSON.stringify(Hx(i,r.v7_relativeSplatPath));return p.useMemo(()=>Vx(e,JSON.parse(a),o,n==="path"),[e,a,o,n])}function f1(e,t){return m1(e,t)}function m1(e,t,n,r){aa()||$e(!1);let{navigator:i}=p.useContext(Ms),{matches:o}=p.useContext(Kr),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=zi(),h;if(t){var d;let f=typeof t=="string"?_i(t):t;c==="/"||(d=f.pathname)!=null&&d.startsWith(c)||$e(!1),h=f}else h=u;let g=h.pathname||"/",j=g;if(c!=="/"){let f=c.replace(/^\//,"").split("/");j="/"+g.replace(/^\//,"").split("/").slice(f.length).join("/")}let w=$b(e,{pathname:j}),x=v1(w&&w.map(f=>Object.assign({},f,{params:Object.assign({},l,f.params),pathname:_r([c,i.encodeLocation?i.encodeLocation(f.pathname).pathname:f.pathname]),pathnameBase:f.pathnameBase==="/"?c:_r([c,i.encodeLocation?i.encodeLocation(f.pathnameBase).pathname:f.pathnameBase])})),o,n,r);return t&&x?p.createElement(fc.Provider,{value:{location:Vo({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Cr.Pop}},x):x}function p1(){let e=b1(),t=l1(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),n?p.createElement("pre",{style:i},n):null,null)}const g1=p.createElement(p1,null);class y1 extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?p.createElement(Kr.Provider,{value:this.props.routeContext},p.createElement(Kx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function x1(e){let{routeContext:t,match:n,children:r}=e,i=p.useContext(tf);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(Kr.Provider,{value:t},r)}function v1(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let h=a.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);h>=0||$e(!1),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<a.length;h++){let d=a[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=h),d.route.id){let{loaderData:g,errors:j}=n,w=d.route.loader&&g[d.route.id]===void 0&&(!j||j[d.route.id]===void 0);if(d.route.lazy||w){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((h,d,g)=>{let j,w=!1,x=null,f=null;n&&(j=l&&d.route.id?l[d.route.id]:void 0,x=d.route.errorElement||g1,c&&(u<0&&g===0?(C1("route-fallback"),w=!0,f=null):u===g&&(w=!0,f=d.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,g+1)),y=()=>{let v;return j?v=x:w?v=f:d.route.Component?v=p.createElement(d.route.Component,null):d.route.element?v=d.route.element:v=h,p.createElement(x1,{match:d,routeContext:{outlet:h,matches:m,isDataRoute:n!=null},children:v})};return n&&(d.route.ErrorBoundary||d.route.errorElement||g===0)?p.createElement(y1,{location:n.location,revalidation:n.revalidation,component:x,error:j,children:y(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):y()},null)}var Xx=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Xx||{}),Jx=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Jx||{});function w1(e){let t=p.useContext(tf);return t||$e(!1),t}function j1(e){let t=p.useContext(u1);return t||$e(!1),t}function N1(e){let t=p.useContext(Kr);return t||$e(!1),t}function Zx(e){let t=N1(),n=t.matches[t.matches.length-1];return n.route.id||$e(!1),n.route.id}function b1(){var e;let t=p.useContext(Kx),n=j1(),r=Zx();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function S1(){let{router:e}=w1(Xx.UseNavigateStable),t=Zx(Jx.UseNavigateStable),n=p.useRef(!1);return Yx(()=>{n.current=!0}),p.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Vo({fromRouteId:t},o)))},[e,t])}const tp={};function C1(e,t,n){tp[e]||(tp[e]=!0)}function k1(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ue(e){$e(!1)}function E1(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Cr.Pop,navigator:o,static:a=!1,future:l}=e;aa()&&$e(!1);let c=t.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:o,static:a,future:Vo({v7_relativeSplatPath:!1},l)}),[c,l,o,a]);typeof r=="string"&&(r=_i(r));let{pathname:h="/",search:d="",hash:g="",state:j=null,key:w="default"}=r,x=p.useMemo(()=>{let f=ef(h,c);return f==null?null:{location:{pathname:f,search:d,hash:g,state:j,key:w},navigationType:i}},[c,h,d,g,j,w,i]);return x==null?null:p.createElement(Ms.Provider,{value:u},p.createElement(fc.Provider,{children:n,value:x}))}function T1(e){let{children:t,location:n}=e;return f1(Ld(t),n)}new Promise(()=>{});function Ld(e,t){t===void 0&&(t=[]);let n=[];return p.Children.forEach(e,(r,i)=>{if(!p.isValidElement(r))return;let o=[...t,i];if(r.type===p.Fragment){n.push.apply(n,Ld(r.props.children,o));return}r.type!==ue&&$e(!1),!r.props.index||!r.props.children||$e(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Ld(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Md(){return Md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Md.apply(this,arguments)}function P1(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function R1(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function A1(e,t){return e.button===0&&(!t||t==="_self")&&!R1(e)}const O1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],I1="6";try{window.__reactRouterVersion=I1}catch{}const L1="startTransition",np=Xl[L1];function M1(e){let{basename:t,children:n,future:r,window:i}=e,o=p.useRef();o.current==null&&(o.current=Fb({window:i,v5Compat:!0}));let a=o.current,[l,c]=p.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},h=p.useCallback(d=>{u&&np?np(()=>c(d)):c(d)},[c,u]);return p.useLayoutEffect(()=>a.listen(h),[a,h]),p.useEffect(()=>k1(r),[r]),p.createElement(E1,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const D1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",F1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,X=p.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:l,target:c,to:u,preventScrollReset:h,viewTransition:d}=t,g=P1(t,O1),{basename:j}=p.useContext(Ms),w,x=!1;if(typeof u=="string"&&F1.test(u)&&(w=u,D1))try{let v=new URL(window.location.href),N=u.startsWith("//")?new URL(v.protocol+u):new URL(u),b=ef(N.pathname,j);N.origin===v.origin&&b!=null?u=b+N.search+N.hash:x=!0}catch{}let f=d1(u,{relative:i}),m=_1(u,{replace:a,state:l,target:c,preventScrollReset:h,relative:i,viewTransition:d});function y(v){r&&r(v),v.defaultPrevented||m(v)}return p.createElement("a",Md({},g,{href:w||f,onClick:x||o?r:y,ref:n,target:c}))});var rp;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(rp||(rp={}));var sp;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(sp||(sp={}));function _1(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,viewTransition:l}=t===void 0?{}:t,c=nt(),u=zi(),h=Gx(e,{relative:a});return p.useCallback(d=>{if(A1(d,n)){d.preventDefault();let g=r!==void 0?r:_l(u)===_l(h);c(e,{replace:g,state:i,preventScrollReset:o,relative:a,viewTransition:l})}},[u,c,h,r,i,n,e,o,a,l])}/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var z1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),se=(e,t)=>{const n=p.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:l="",children:c,...u},h)=>p.createElement("svg",{ref:h,...z1,width:i,height:i,stroke:r,strokeWidth:a?Number(o)*24/Number(i):o,className:["lucide",`lucide-${$1(e)}`,l].join(" "),...u},[...t.map(([d,g])=>p.createElement(d,g)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=se("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=se("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=se("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=se("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=se("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=se("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=se("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=se("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=se("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=se("Feather",[["path",{d:"M20.24 12.24a6 6 0 0 0-8.49-8.49L5 10.5V19h8.5z",key:"u4sw5n"}],["line",{x1:"16",x2:"2",y1:"8",y2:"22",key:"1c47m2"}],["line",{x1:"17.5",x2:"9",y1:"15",y2:"15",key:"2fj3pr"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=se("FileAudio",[["path",{d:"M17.5 22h.5c.5 0 1-.2 1.4-.6.4-.4.6-.9.6-1.4V7.5L14.5 2H6c-.5 0-1 .2-1.4.6C4.2 3 4 3.5 4 4v3",key:"1013sb"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M10 20v-1a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0Z",key:"gqt63y"}],["path",{d:"M6 20v-1a2 2 0 1 0-4 0v1a2 2 0 1 0 4 0Z",key:"cf7lqx"}],["path",{d:"M2 19v-3a6 6 0 0 1 12 0v3",key:"1acxgf"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=se("FileJson",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=se("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=se("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=se("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=se("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=se("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=se("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=se("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=se("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=se("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=se("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=se("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=se("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=se("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=se("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=se("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=se("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=se("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=se("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=se("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=se("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=se("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=se("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=se("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=se("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=se("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function rv(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=rv(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function sv(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=rv(e))&&(r&&(r+=" "),r+=t);return r}const af="-",G1=e=>{const t=J1(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const l=a.split(af);return l[0]===""&&l.length!==1&&l.shift(),iv(l,t)||X1(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&r[a]?[...c,...r[a]]:c}}},iv=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?iv(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const o=e.join(af);return(a=t.validators.find(({validator:l})=>l(o)))==null?void 0:a.classGroupId},op=/^\[(.+)\]$/,X1=e=>{if(op.test(e)){const t=op.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},J1=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return eS(Object.entries(e.classGroups),n).forEach(([o,a])=>{Dd(a,r,o,t)}),r},Dd=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const o=i===""?t:ap(t,i);o.classGroupId=n;return}if(typeof i=="function"){if(Z1(i)){Dd(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,a])=>{Dd(a,ap(t,o),n,r)})})},ap=(e,t)=>{let n=e;return t.split(af).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Z1=e=>e.isThemeGetter,eS=(e,t)=>t?e.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([a,l])=>[t+a,l])):o);return[n,i]}):e,tS=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(o,a)=>{n.set(o,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return i(o,a),a},set(o,a){n.has(o)?n.set(o,a):i(o,a)}}},ov="!",nS=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],o=t.length,a=l=>{const c=[];let u=0,h=0,d;for(let f=0;f<l.length;f++){let m=l[f];if(u===0){if(m===i&&(r||l.slice(f,f+o)===t)){c.push(l.slice(h,f)),h=f+o;continue}if(m==="/"){d=f;continue}}m==="["?u++:m==="]"&&u--}const g=c.length===0?l:l.substring(h),j=g.startsWith(ov),w=j?g.substring(1):g,x=d&&d>h?d-h:void 0;return{modifiers:c,hasImportantModifier:j,baseClassName:w,maybePostfixModifierPosition:x}};return n?l=>n({className:l,parseClassName:a}):a},rS=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},sS=e=>({cache:tS(e.cacheSize),parseClassName:nS(e),...G1(e)}),iS=/\s+/,oS=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,o=[],a=e.trim().split(iS);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:h,hasImportantModifier:d,baseClassName:g,maybePostfixModifierPosition:j}=n(u);let w=!!j,x=r(w?g.substring(0,j):g);if(!x){if(!w){l=u+(l.length>0?" "+l:l);continue}if(x=r(g),!x){l=u+(l.length>0?" "+l:l);continue}w=!1}const f=rS(h).join(":"),m=d?f+ov:f,y=m+x;if(o.includes(y))continue;o.push(y);const v=i(x,w);for(let N=0;N<v.length;++N){const b=v[N];o.push(m+b)}l=u+(l.length>0?" "+l:l)}return l};function aS(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=av(t))&&(r&&(r+=" "),r+=n);return r}const av=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=av(e[r]))&&(n&&(n+=" "),n+=t);return n};function lS(e,...t){let n,r,i,o=a;function a(c){const u=t.reduce((h,d)=>d(h),e());return n=sS(u),r=n.cache.get,i=n.cache.set,o=l,l(c)}function l(c){const u=r(c);if(u)return u;const h=oS(c,n);return i(c,h),h}return function(){return o(aS.apply(null,arguments))}}const Se=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},lv=/^\[(?:([a-z-]+):)?(.+)\]$/i,cS=/^\d+\/\d+$/,uS=new Set(["px","full","screen"]),dS=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,hS=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fS=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,mS=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,pS=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ln=e=>ai(e)||uS.has(e)||cS.test(e),ir=e=>Wi(e,"length",bS),ai=e=>!!e&&!Number.isNaN(Number(e)),cu=e=>Wi(e,"number",ai),io=e=>!!e&&Number.isInteger(Number(e)),gS=e=>e.endsWith("%")&&ai(e.slice(0,-1)),oe=e=>lv.test(e),or=e=>dS.test(e),yS=new Set(["length","size","percentage"]),xS=e=>Wi(e,yS,cv),vS=e=>Wi(e,"position",cv),wS=new Set(["image","url"]),jS=e=>Wi(e,wS,CS),NS=e=>Wi(e,"",SS),oo=()=>!0,Wi=(e,t,n)=>{const r=lv.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},bS=e=>hS.test(e)&&!fS.test(e),cv=()=>!1,SS=e=>mS.test(e),CS=e=>pS.test(e),kS=()=>{const e=Se("colors"),t=Se("spacing"),n=Se("blur"),r=Se("brightness"),i=Se("borderColor"),o=Se("borderRadius"),a=Se("borderSpacing"),l=Se("borderWidth"),c=Se("contrast"),u=Se("grayscale"),h=Se("hueRotate"),d=Se("invert"),g=Se("gap"),j=Se("gradientColorStops"),w=Se("gradientColorStopPositions"),x=Se("inset"),f=Se("margin"),m=Se("opacity"),y=Se("padding"),v=Se("saturate"),N=Se("scale"),b=Se("sepia"),k=Se("skew"),C=Se("space"),P=Se("translate"),A=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",oe,t],M=()=>[oe,t],Y=()=>["",Ln,ir],q=()=>["auto",ai,oe],ce=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],G=()=>["solid","dashed","dotted","double","none"],$=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",oe],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[ai,oe];return{cacheSize:500,separator:":",theme:{colors:[oo],spacing:[Ln,ir],blur:["none","",or,oe],brightness:Q(),borderColor:[e],borderRadius:["none","","full",or,oe],borderSpacing:M(),borderWidth:Y(),contrast:Q(),grayscale:D(),hueRotate:Q(),invert:D(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[gS,ir],inset:I(),margin:I(),opacity:Q(),padding:M(),saturate:Q(),scale:Q(),sepia:D(),skew:Q(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",oe]}],container:["container"],columns:[{columns:[or]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ce(),oe]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",io,oe]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",oe]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",io,oe]}],"grid-cols":[{"grid-cols":[oo]}],"col-start-end":[{col:["auto",{span:["full",io,oe]},oe]}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":[oo]}],"row-start-end":[{row:["auto",{span:[io,oe]},oe]}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",oe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",oe]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[f]}],mx:[{mx:[f]}],my:[{my:[f]}],ms:[{ms:[f]}],me:[{me:[f]}],mt:[{mt:[f]}],mr:[{mr:[f]}],mb:[{mb:[f]}],ml:[{ml:[f]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",oe,t]}],"min-w":[{"min-w":[oe,t,"min","max","fit"]}],"max-w":[{"max-w":[oe,t,"none","full","min","max","fit","prose",{screen:[or]},or]}],h:[{h:[oe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[oe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[oe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[oe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",or,ir]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",cu]}],"font-family":[{font:[oo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",oe]}],"line-clamp":[{"line-clamp":["none",ai,cu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ln,oe]}],"list-image":[{"list-image":["none",oe]}],"list-style-type":[{list:["none","disc","decimal",oe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[m]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[m]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ln,ir]}],"underline-offset":[{"underline-offset":["auto",Ln,oe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",oe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",oe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[m]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ce(),vS]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",xS]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},jS]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[j]}],"gradient-via":[{via:[j]}],"gradient-to":[{to:[j]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[m]}],"border-style":[{border:[...G(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[m]}],"divide-style":[{divide:G()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...G()]}],"outline-offset":[{"outline-offset":[Ln,oe]}],"outline-w":[{outline:[Ln,ir]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[m]}],"ring-offset-w":[{"ring-offset":[Ln,ir]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",or,NS]}],"shadow-color":[{shadow:[oo]}],opacity:[{opacity:[m]}],"mix-blend":[{"mix-blend":[...$(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":$()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",or,oe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[d]}],saturate:[{saturate:[v]}],sepia:[{sepia:[b]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[m]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[b]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",oe]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",oe]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",oe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[io,oe]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",oe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",oe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",oe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ln,ir,cu]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ES=lS(kS);function Ie(...e){return ES(sv(e))}function xe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function lp(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ca(...e){return t=>{let n=!1;const r=e.map(i=>{const o=lp(i,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():lp(e[i],null)}}}}function De(...e){return p.useCallback(ca(...e),e)}function ua(e,t=[]){let n=[];function r(o,a){const l=p.createContext(a),c=n.length;n=[...n,a];const u=d=>{var m;const{scope:g,children:j,...w}=d,x=((m=g==null?void 0:g[e])==null?void 0:m[c])||l,f=p.useMemo(()=>w,Object.values(w));return s.jsx(x.Provider,{value:f,children:j})};u.displayName=o+"Provider";function h(d,g){var x;const j=((x=g==null?void 0:g[e])==null?void 0:x[c])||l,w=p.useContext(j);if(w)return w;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${o}\``)}return[u,h]}const i=()=>{const o=n.map(a=>p.createContext(a));return function(l){const c=(l==null?void 0:l[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[r,TS(i,...t)]}function TS(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const a=r.reduce((l,{useScope:c,scopeName:u})=>{const d=c(o)[`__scope${u}`];return{...l,...d}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function PS(e){const t=RS(e),n=p.forwardRef((r,i)=>{const{children:o,...a}=r,l=p.Children.toArray(o),c=l.find(OS);if(c){const u=c.props.children,h=l.map(d=>d===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:d);return s.jsx(t,{...a,ref:i,children:p.isValidElement(u)?p.cloneElement(u,void 0,h):null})}return s.jsx(t,{...a,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function RS(e){const t=p.forwardRef((n,r)=>{const{children:i,...o}=n;if(p.isValidElement(i)){const a=LS(i),l=IS(o,i.props);return i.type!==p.Fragment&&(l.ref=r?ca(r,a):a),p.cloneElement(i,l)}return p.Children.count(i)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var AS=Symbol("radix.slottable");function OS(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===AS}function IS(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...l)=>{const c=o(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function LS(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var MS=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Te=MS.reduce((e,t)=>{const n=PS(`Primitive.${t}`),r=p.forwardRef((i,o)=>{const{asChild:a,...l}=i,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function DS(e,t){e&&Di.flushSync(()=>e.dispatchEvent(t))}function Ts(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function FS(e,t=globalThis==null?void 0:globalThis.document){const n=Ts(e);p.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var _S="DismissableLayer",Fd="dismissableLayer.update",zS="dismissableLayer.pointerDownOutside",$S="dismissableLayer.focusOutside",cp,uv=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),lf=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...c}=e,u=p.useContext(uv),[h,d]=p.useState(null),g=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,j]=p.useState({}),w=De(t,C=>d(C)),x=Array.from(u.layers),[f]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),m=x.indexOf(f),y=h?x.indexOf(h):-1,v=u.layersWithOutsidePointerEventsDisabled.size>0,N=y>=m,b=BS(C=>{const P=C.target,A=[...u.branches].some(O=>O.contains(P));!N||A||(i==null||i(C),a==null||a(C),C.defaultPrevented||l==null||l())},g),k=qS(C=>{const P=C.target;[...u.branches].some(O=>O.contains(P))||(o==null||o(C),a==null||a(C),C.defaultPrevented||l==null||l())},g);return FS(C=>{y===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},g),p.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(cp=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),up(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=cp)}},[h,g,n,u]),p.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),up())},[h,u]),p.useEffect(()=>{const C=()=>j({});return document.addEventListener(Fd,C),()=>document.removeEventListener(Fd,C)},[]),s.jsx(Te.div,{...c,ref:w,style:{pointerEvents:v?N?"auto":"none":void 0,...e.style},onFocusCapture:xe(e.onFocusCapture,k.onFocusCapture),onBlurCapture:xe(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:xe(e.onPointerDownCapture,b.onPointerDownCapture)})});lf.displayName=_S;var US="DismissableLayerBranch",WS=p.forwardRef((e,t)=>{const n=p.useContext(uv),r=p.useRef(null),i=De(t,r);return p.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),s.jsx(Te.div,{...e,ref:i})});WS.displayName=US;function BS(e,t=globalThis==null?void 0:globalThis.document){const n=Ts(e),r=p.useRef(!1),i=p.useRef(()=>{});return p.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let c=function(){dv(zS,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function qS(e,t=globalThis==null?void 0:globalThis.document){const n=Ts(e),r=p.useRef(!1);return p.useEffect(()=>{const i=o=>{o.target&&!r.current&&dv($S,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function up(){const e=new CustomEvent(Fd);document.dispatchEvent(e)}function dv(e,t,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?DS(i,o):i.dispatchEvent(o)}var ft=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},HS=Xl[" useId ".trim().toString()]||(()=>{}),VS=0;function pc(e){const[t,n]=p.useState(HS());return ft(()=>{n(r=>r??String(VS++))},[e]),t?`radix-${t}`:""}const QS=["top","right","bottom","left"],Br=Math.min,zt=Math.max,Ul=Math.round,Fa=Math.floor,Rn=e=>({x:e,y:e}),KS={left:"right",right:"left",bottom:"top",top:"bottom"},YS={start:"end",end:"start"};function _d(e,t,n){return zt(e,Br(t,n))}function er(e,t){return typeof e=="function"?e(t):e}function tr(e){return e.split("-")[0]}function Bi(e){return e.split("-")[1]}function cf(e){return e==="x"?"y":"x"}function uf(e){return e==="y"?"height":"width"}const GS=new Set(["top","bottom"]);function En(e){return GS.has(tr(e))?"y":"x"}function df(e){return cf(En(e))}function XS(e,t,n){n===void 0&&(n=!1);const r=Bi(e),i=df(e),o=uf(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=Wl(a)),[a,Wl(a)]}function JS(e){const t=Wl(e);return[zd(e),t,zd(t)]}function zd(e){return e.replace(/start|end/g,t=>YS[t])}const dp=["left","right"],hp=["right","left"],ZS=["top","bottom"],eC=["bottom","top"];function tC(e,t,n){switch(e){case"top":case"bottom":return n?t?hp:dp:t?dp:hp;case"left":case"right":return t?ZS:eC;default:return[]}}function nC(e,t,n,r){const i=Bi(e);let o=tC(tr(e),n==="start",r);return i&&(o=o.map(a=>a+"-"+i),t&&(o=o.concat(o.map(zd)))),o}function Wl(e){return e.replace(/left|right|bottom|top/g,t=>KS[t])}function rC(e){return{top:0,right:0,bottom:0,left:0,...e}}function hv(e){return typeof e!="number"?rC(e):{top:e,right:e,bottom:e,left:e}}function Bl(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function fp(e,t,n){let{reference:r,floating:i}=e;const o=En(t),a=df(t),l=uf(a),c=tr(t),u=o==="y",h=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,g=r[l]/2-i[l]/2;let j;switch(c){case"top":j={x:h,y:r.y-i.height};break;case"bottom":j={x:h,y:r.y+r.height};break;case"right":j={x:r.x+r.width,y:d};break;case"left":j={x:r.x-i.width,y:d};break;default:j={x:r.x,y:r.y}}switch(Bi(t)){case"start":j[a]-=g*(n&&u?-1:1);break;case"end":j[a]+=g*(n&&u?-1:1);break}return j}const sC=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,l=o.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:h,y:d}=fp(u,r,c),g=r,j={},w=0;for(let x=0;x<l.length;x++){const{name:f,fn:m}=l[x],{x:y,y:v,data:N,reset:b}=await m({x:h,y:d,initialPlacement:r,placement:g,strategy:i,middlewareData:j,rects:u,platform:a,elements:{reference:e,floating:t}});h=y??h,d=v??d,j={...j,[f]:{...j[f],...N}},b&&w<=50&&(w++,typeof b=="object"&&(b.placement&&(g=b.placement),b.rects&&(u=b.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):b.rects),{x:h,y:d}=fp(u,g,c)),x=-1)}return{x:h,y:d,placement:g,strategy:i,middlewareData:j}};async function Ko(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:a,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:d="floating",altBoundary:g=!1,padding:j=0}=er(t,e),w=hv(j),f=l[g?d==="floating"?"reference":"floating":d],m=Bl(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(f)))==null||n?f:f.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:c})),y=d==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,v=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),N=await(o.isElement==null?void 0:o.isElement(v))?await(o.getScale==null?void 0:o.getScale(v))||{x:1,y:1}:{x:1,y:1},b=Bl(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:v,strategy:c}):y);return{top:(m.top-b.top+w.top)/N.y,bottom:(b.bottom-m.bottom+w.bottom)/N.y,left:(m.left-b.left+w.left)/N.x,right:(b.right-m.right+w.right)/N.x}}const iC=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:a,elements:l,middlewareData:c}=t,{element:u,padding:h=0}=er(e,t)||{};if(u==null)return{};const d=hv(h),g={x:n,y:r},j=df(i),w=uf(j),x=await a.getDimensions(u),f=j==="y",m=f?"top":"left",y=f?"bottom":"right",v=f?"clientHeight":"clientWidth",N=o.reference[w]+o.reference[j]-g[j]-o.floating[w],b=g[j]-o.reference[j],k=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let C=k?k[v]:0;(!C||!await(a.isElement==null?void 0:a.isElement(k)))&&(C=l.floating[v]||o.floating[w]);const P=N/2-b/2,A=C/2-x[w]/2-1,O=Br(d[m],A),I=Br(d[y],A),M=O,Y=C-x[w]-I,q=C/2-x[w]/2+P,ce=_d(M,q,Y),G=!c.arrow&&Bi(i)!=null&&q!==ce&&o.reference[w]/2-(q<M?O:I)-x[w]/2<0,$=G?q<M?q-M:q-Y:0;return{[j]:g[j]+$,data:{[j]:ce,centerOffset:q-ce-$,...G&&{alignmentOffset:$}},reset:G}}}),oC=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:a,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:h=!0,crossAxis:d=!0,fallbackPlacements:g,fallbackStrategy:j="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:x=!0,...f}=er(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const m=tr(i),y=En(l),v=tr(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(u.floating)),b=g||(v||!x?[Wl(l)]:JS(l)),k=w!=="none";!g&&k&&b.push(...nC(l,x,w,N));const C=[l,...b],P=await Ko(t,f),A=[];let O=((r=o.flip)==null?void 0:r.overflows)||[];if(h&&A.push(P[m]),d){const q=XS(i,a,N);A.push(P[q[0]],P[q[1]])}if(O=[...O,{placement:i,overflows:A}],!A.every(q=>q<=0)){var I,M;const q=(((I=o.flip)==null?void 0:I.index)||0)+1,ce=C[q];if(ce&&(!(d==="alignment"?y!==En(ce):!1)||O.every(R=>En(R.placement)===y?R.overflows[0]>0:!0)))return{data:{index:q,overflows:O},reset:{placement:ce}};let G=(M=O.filter($=>$.overflows[0]<=0).sort(($,R)=>$.overflows[1]-R.overflows[1])[0])==null?void 0:M.placement;if(!G)switch(j){case"bestFit":{var Y;const $=(Y=O.filter(R=>{if(k){const D=En(R.placement);return D===y||D==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(D=>D>0).reduce((D,B)=>D+B,0)]).sort((R,D)=>R[1]-D[1])[0])==null?void 0:Y[0];$&&(G=$);break}case"initialPlacement":G=l;break}if(i!==G)return{reset:{placement:G}}}return{}}}};function mp(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function pp(e){return QS.some(t=>e[t]>=0)}const aC=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=er(e,t);switch(r){case"referenceHidden":{const o=await Ko(t,{...i,elementContext:"reference"}),a=mp(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:pp(a)}}}case"escaped":{const o=await Ko(t,{...i,altBoundary:!0}),a=mp(o,n.floating);return{data:{escapedOffsets:a,escaped:pp(a)}}}default:return{}}}}},fv=new Set(["left","top"]);async function lC(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=tr(n),l=Bi(n),c=En(n)==="y",u=fv.has(a)?-1:1,h=o&&c?-1:1,d=er(t,e);let{mainAxis:g,crossAxis:j,alignmentAxis:w}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof w=="number"&&(j=l==="end"?w*-1:w),c?{x:j*h,y:g*u}:{x:g*u,y:j*h}}const cC=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:a,middlewareData:l}=t,c=await lC(t,e);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:o+c.y,data:{...c,placement:a}}}}},uC=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:l={fn:f=>{let{x:m,y}=f;return{x:m,y}}},...c}=er(e,t),u={x:n,y:r},h=await Ko(t,c),d=En(tr(i)),g=cf(d);let j=u[g],w=u[d];if(o){const f=g==="y"?"top":"left",m=g==="y"?"bottom":"right",y=j+h[f],v=j-h[m];j=_d(y,j,v)}if(a){const f=d==="y"?"top":"left",m=d==="y"?"bottom":"right",y=w+h[f],v=w-h[m];w=_d(y,w,v)}const x=l.fn({...t,[g]:j,[d]:w});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[g]:o,[d]:a}}}}}},dC=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:a}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=er(e,t),h={x:n,y:r},d=En(i),g=cf(d);let j=h[g],w=h[d];const x=er(l,t),f=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const v=g==="y"?"height":"width",N=o.reference[g]-o.floating[v]+f.mainAxis,b=o.reference[g]+o.reference[v]-f.mainAxis;j<N?j=N:j>b&&(j=b)}if(u){var m,y;const v=g==="y"?"width":"height",N=fv.has(tr(i)),b=o.reference[d]-o.floating[v]+(N&&((m=a.offset)==null?void 0:m[d])||0)+(N?0:f.crossAxis),k=o.reference[d]+o.reference[v]+(N?0:((y=a.offset)==null?void 0:y[d])||0)-(N?f.crossAxis:0);w<b?w=b:w>k&&(w=k)}return{[g]:j,[d]:w}}}},hC=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:o,platform:a,elements:l}=t,{apply:c=()=>{},...u}=er(e,t),h=await Ko(t,u),d=tr(i),g=Bi(i),j=En(i)==="y",{width:w,height:x}=o.floating;let f,m;d==="top"||d==="bottom"?(f=d,m=g===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(m=d,f=g==="end"?"top":"bottom");const y=x-h.top-h.bottom,v=w-h.left-h.right,N=Br(x-h[f],y),b=Br(w-h[m],v),k=!t.middlewareData.shift;let C=N,P=b;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(P=v),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=y),k&&!g){const O=zt(h.left,0),I=zt(h.right,0),M=zt(h.top,0),Y=zt(h.bottom,0);j?P=w-2*(O!==0||I!==0?O+I:zt(h.left,h.right)):C=x-2*(M!==0||Y!==0?M+Y:zt(h.top,h.bottom))}await c({...t,availableWidth:P,availableHeight:C});const A=await a.getDimensions(l.floating);return w!==A.width||x!==A.height?{reset:{rects:!0}}:{}}}};function gc(){return typeof window<"u"}function qi(e){return mv(e)?(e.nodeName||"").toLowerCase():"#document"}function Wt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function In(e){var t;return(t=(mv(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function mv(e){return gc()?e instanceof Node||e instanceof Wt(e).Node:!1}function mn(e){return gc()?e instanceof Element||e instanceof Wt(e).Element:!1}function An(e){return gc()?e instanceof HTMLElement||e instanceof Wt(e).HTMLElement:!1}function gp(e){return!gc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Wt(e).ShadowRoot}const fC=new Set(["inline","contents"]);function da(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=pn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!fC.has(i)}const mC=new Set(["table","td","th"]);function pC(e){return mC.has(qi(e))}const gC=[":popover-open",":modal"];function yc(e){return gC.some(t=>{try{return e.matches(t)}catch{return!1}})}const yC=["transform","translate","scale","rotate","perspective"],xC=["transform","translate","scale","rotate","perspective","filter"],vC=["paint","layout","strict","content"];function hf(e){const t=ff(),n=mn(e)?pn(e):e;return yC.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||xC.some(r=>(n.willChange||"").includes(r))||vC.some(r=>(n.contain||"").includes(r))}function wC(e){let t=qr(e);for(;An(t)&&!Ri(t);){if(hf(t))return t;if(yc(t))return null;t=qr(t)}return null}function ff(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const jC=new Set(["html","body","#document"]);function Ri(e){return jC.has(qi(e))}function pn(e){return Wt(e).getComputedStyle(e)}function xc(e){return mn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function qr(e){if(qi(e)==="html")return e;const t=e.assignedSlot||e.parentNode||gp(e)&&e.host||In(e);return gp(t)?t.host:t}function pv(e){const t=qr(e);return Ri(t)?e.ownerDocument?e.ownerDocument.body:e.body:An(t)&&da(t)?t:pv(t)}function Yo(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=pv(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),a=Wt(i);if(o){const l=$d(a);return t.concat(a,a.visualViewport||[],da(i)?i:[],l&&n?Yo(l):[])}return t.concat(i,Yo(i,[],n))}function $d(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function gv(e){const t=pn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=An(e),o=i?e.offsetWidth:n,a=i?e.offsetHeight:r,l=Ul(n)!==o||Ul(r)!==a;return l&&(n=o,r=a),{width:n,height:r,$:l}}function mf(e){return mn(e)?e:e.contextElement}function li(e){const t=mf(e);if(!An(t))return Rn(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=gv(t);let a=(o?Ul(n.width):n.width)/r,l=(o?Ul(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const NC=Rn(0);function yv(e){const t=Wt(e);return!ff()||!t.visualViewport?NC:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function bC(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Wt(e)?!1:t}function Ps(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=mf(e);let a=Rn(1);t&&(r?mn(r)&&(a=li(r)):a=li(e));const l=bC(o,n,r)?yv(o):Rn(0);let c=(i.left+l.x)/a.x,u=(i.top+l.y)/a.y,h=i.width/a.x,d=i.height/a.y;if(o){const g=Wt(o),j=r&&mn(r)?Wt(r):r;let w=g,x=$d(w);for(;x&&r&&j!==w;){const f=li(x),m=x.getBoundingClientRect(),y=pn(x),v=m.left+(x.clientLeft+parseFloat(y.paddingLeft))*f.x,N=m.top+(x.clientTop+parseFloat(y.paddingTop))*f.y;c*=f.x,u*=f.y,h*=f.x,d*=f.y,c+=v,u+=N,w=Wt(x),x=$d(w)}}return Bl({width:h,height:d,x:c,y:u})}function vc(e,t){const n=xc(e).scrollLeft;return t?t.left+n:Ps(In(e)).left+n}function xv(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-vc(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function SC(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",a=In(r),l=t?yc(t.floating):!1;if(r===a||l&&o)return n;let c={scrollLeft:0,scrollTop:0},u=Rn(1);const h=Rn(0),d=An(r);if((d||!d&&!o)&&((qi(r)!=="body"||da(a))&&(c=xc(r)),An(r))){const j=Ps(r);u=li(r),h.x=j.x+r.clientLeft,h.y=j.y+r.clientTop}const g=a&&!d&&!o?xv(a,c):Rn(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+h.x+g.x,y:n.y*u.y-c.scrollTop*u.y+h.y+g.y}}function CC(e){return Array.from(e.getClientRects())}function kC(e){const t=In(e),n=xc(e),r=e.ownerDocument.body,i=zt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=zt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+vc(e);const l=-n.scrollTop;return pn(r).direction==="rtl"&&(a+=zt(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:l}}const yp=25;function EC(e,t){const n=Wt(e),r=In(e),i=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,l=0,c=0;if(i){o=i.width,a=i.height;const h=ff();(!h||h&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}const u=vc(r);if(u<=0){const h=r.ownerDocument,d=h.body,g=getComputedStyle(d),j=h.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,w=Math.abs(r.clientWidth-d.clientWidth-j);w<=yp&&(o-=w)}else u<=yp&&(o+=u);return{width:o,height:a,x:l,y:c}}const TC=new Set(["absolute","fixed"]);function PC(e,t){const n=Ps(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=An(e)?li(e):Rn(1),a=e.clientWidth*o.x,l=e.clientHeight*o.y,c=i*o.x,u=r*o.y;return{width:a,height:l,x:c,y:u}}function xp(e,t,n){let r;if(t==="viewport")r=EC(e,n);else if(t==="document")r=kC(In(e));else if(mn(t))r=PC(t,n);else{const i=yv(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Bl(r)}function vv(e,t){const n=qr(e);return n===t||!mn(n)||Ri(n)?!1:pn(n).position==="fixed"||vv(n,t)}function RC(e,t){const n=t.get(e);if(n)return n;let r=Yo(e,[],!1).filter(l=>mn(l)&&qi(l)!=="body"),i=null;const o=pn(e).position==="fixed";let a=o?qr(e):e;for(;mn(a)&&!Ri(a);){const l=pn(a),c=hf(a);!c&&l.position==="fixed"&&(i=null),(o?!c&&!i:!c&&l.position==="static"&&!!i&&TC.has(i.position)||da(a)&&!c&&vv(e,a))?r=r.filter(h=>h!==a):i=l,a=qr(a)}return t.set(e,r),r}function AC(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[...n==="clippingAncestors"?yc(t)?[]:RC(t,this._c):[].concat(n),r],l=a[0],c=a.reduce((u,h)=>{const d=xp(t,h,i);return u.top=zt(d.top,u.top),u.right=Br(d.right,u.right),u.bottom=Br(d.bottom,u.bottom),u.left=zt(d.left,u.left),u},xp(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function OC(e){const{width:t,height:n}=gv(e);return{width:t,height:n}}function IC(e,t,n){const r=An(t),i=In(t),o=n==="fixed",a=Ps(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=Rn(0);function u(){c.x=vc(i)}if(r||!r&&!o)if((qi(t)!=="body"||da(i))&&(l=xc(t)),r){const j=Ps(t,!0,o,t);c.x=j.x+t.clientLeft,c.y=j.y+t.clientTop}else i&&u();o&&!r&&i&&u();const h=i&&!r&&!o?xv(i,l):Rn(0),d=a.left+l.scrollLeft-c.x-h.x,g=a.top+l.scrollTop-c.y-h.y;return{x:d,y:g,width:a.width,height:a.height}}function uu(e){return pn(e).position==="static"}function vp(e,t){if(!An(e)||pn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return In(e)===n&&(n=n.ownerDocument.body),n}function wv(e,t){const n=Wt(e);if(yc(e))return n;if(!An(e)){let i=qr(e);for(;i&&!Ri(i);){if(mn(i)&&!uu(i))return i;i=qr(i)}return n}let r=vp(e,t);for(;r&&pC(r)&&uu(r);)r=vp(r,t);return r&&Ri(r)&&uu(r)&&!hf(r)?n:r||wC(e)||n}const LC=async function(e){const t=this.getOffsetParent||wv,n=this.getDimensions,r=await n(e.floating);return{reference:IC(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function MC(e){return pn(e).direction==="rtl"}const DC={convertOffsetParentRelativeRectToViewportRelativeRect:SC,getDocumentElement:In,getClippingRect:AC,getOffsetParent:wv,getElementRects:LC,getClientRects:CC,getDimensions:OC,getScale:li,isElement:mn,isRTL:MC};function jv(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function FC(e,t){let n=null,r;const i=In(e);function o(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const u=e.getBoundingClientRect(),{left:h,top:d,width:g,height:j}=u;if(l||t(),!g||!j)return;const w=Fa(d),x=Fa(i.clientWidth-(h+g)),f=Fa(i.clientHeight-(d+j)),m=Fa(h),v={rootMargin:-w+"px "+-x+"px "+-f+"px "+-m+"px",threshold:zt(0,Br(1,c))||1};let N=!0;function b(k){const C=k[0].intersectionRatio;if(C!==c){if(!N)return a();C?a(!1,C):r=setTimeout(()=>{a(!1,1e-7)},1e3)}C===1&&!jv(u,e.getBoundingClientRect())&&a(),N=!1}try{n=new IntersectionObserver(b,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(b,v)}n.observe(e)}return a(!0),o}function _C(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=mf(e),h=i||o?[...u?Yo(u):[],...Yo(t)]:[];h.forEach(m=>{i&&m.addEventListener("scroll",n,{passive:!0}),o&&m.addEventListener("resize",n)});const d=u&&l?FC(u,n):null;let g=-1,j=null;a&&(j=new ResizeObserver(m=>{let[y]=m;y&&y.target===u&&j&&(j.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var v;(v=j)==null||v.observe(t)})),n()}),u&&!c&&j.observe(u),j.observe(t));let w,x=c?Ps(e):null;c&&f();function f(){const m=Ps(e);x&&!jv(x,m)&&n(),x=m,w=requestAnimationFrame(f)}return n(),()=>{var m;h.forEach(y=>{i&&y.removeEventListener("scroll",n),o&&y.removeEventListener("resize",n)}),d==null||d(),(m=j)==null||m.disconnect(),j=null,c&&cancelAnimationFrame(w)}}const zC=cC,$C=uC,UC=oC,WC=hC,BC=aC,wp=iC,qC=dC,HC=(e,t,n)=>{const r=new Map,i={platform:DC,...n},o={...i.platform,_c:r};return sC(e,t,{...i,platform:o})};var VC=typeof document<"u",QC=function(){},ol=VC?p.useLayoutEffect:QC;function ql(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!ql(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!ql(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Nv(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function jp(e,t){const n=Nv(e);return Math.round(t*n)/n}function du(e){const t=p.useRef(e);return ol(()=>{t.current=e}),t}function KC(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[h,d]=p.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[g,j]=p.useState(r);ql(g,r)||j(r);const[w,x]=p.useState(null),[f,m]=p.useState(null),y=p.useCallback(R=>{R!==k.current&&(k.current=R,x(R))},[]),v=p.useCallback(R=>{R!==C.current&&(C.current=R,m(R))},[]),N=o||w,b=a||f,k=p.useRef(null),C=p.useRef(null),P=p.useRef(h),A=c!=null,O=du(c),I=du(i),M=du(u),Y=p.useCallback(()=>{if(!k.current||!C.current)return;const R={placement:t,strategy:n,middleware:g};I.current&&(R.platform=I.current),HC(k.current,C.current,R).then(D=>{const B={...D,isPositioned:M.current!==!1};q.current&&!ql(P.current,B)&&(P.current=B,Di.flushSync(()=>{d(B)}))})},[g,t,n,I,M]);ol(()=>{u===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,d(R=>({...R,isPositioned:!1})))},[u]);const q=p.useRef(!1);ol(()=>(q.current=!0,()=>{q.current=!1}),[]),ol(()=>{if(N&&(k.current=N),b&&(C.current=b),N&&b){if(O.current)return O.current(N,b,Y);Y()}},[N,b,Y,O,A]);const ce=p.useMemo(()=>({reference:k,floating:C,setReference:y,setFloating:v}),[y,v]),G=p.useMemo(()=>({reference:N,floating:b}),[N,b]),$=p.useMemo(()=>{const R={position:n,left:0,top:0};if(!G.floating)return R;const D=jp(G.floating,h.x),B=jp(G.floating,h.y);return l?{...R,transform:"translate("+D+"px, "+B+"px)",...Nv(G.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:D,top:B}},[n,l,G.floating,h.x,h.y]);return p.useMemo(()=>({...h,update:Y,refs:ce,elements:G,floatingStyles:$}),[h,Y,ce,G,$])}const YC=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?wp({element:r.current,padding:i}).fn(n):{}:r?wp({element:r,padding:i}).fn(n):{}}}},GC=(e,t)=>({...zC(e),options:[e,t]}),XC=(e,t)=>({...$C(e),options:[e,t]}),JC=(e,t)=>({...qC(e),options:[e,t]}),ZC=(e,t)=>({...UC(e),options:[e,t]}),ek=(e,t)=>({...WC(e),options:[e,t]}),tk=(e,t)=>({...BC(e),options:[e,t]}),nk=(e,t)=>({...YC(e),options:[e,t]});var rk="Arrow",bv=p.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...o}=e;return s.jsx(Te.svg,{...o,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});bv.displayName=rk;var sk=bv;function Sv(e){const[t,n]=p.useState(void 0);return ft(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let a,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=e.offsetWidth,l=e.offsetHeight;n({width:a,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var pf="Popper",[Cv,wc]=ua(pf),[ik,kv]=Cv(pf),Ev=e=>{const{__scopePopper:t,children:n}=e,[r,i]=p.useState(null);return s.jsx(ik,{scope:t,anchor:r,onAnchorChange:i,children:n})};Ev.displayName=pf;var Tv="PopperAnchor",Pv=p.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,o=kv(Tv,n),a=p.useRef(null),l=De(t,a),c=p.useRef(null);return p.useEffect(()=>{const u=c.current;c.current=(r==null?void 0:r.current)||a.current,u!==c.current&&o.onAnchorChange(c.current)}),r?null:s.jsx(Te.div,{...i,ref:l})});Pv.displayName=Tv;var gf="PopperContent",[ok,ak]=Cv(gf),Rv=p.forwardRef((e,t)=>{var ee,be,rt,je,ge,ye;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:d="partial",hideWhenDetached:g=!1,updatePositionStrategy:j="optimized",onPlaced:w,...x}=e,f=kv(gf,n),[m,y]=p.useState(null),v=De(t,Ft=>y(Ft)),[N,b]=p.useState(null),k=Sv(N),C=(k==null?void 0:k.width)??0,P=(k==null?void 0:k.height)??0,A=r+(o!=="center"?"-"+o:""),O=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},I=Array.isArray(u)?u:[u],M=I.length>0,Y={padding:O,boundary:I.filter(ck),altBoundary:M},{refs:q,floatingStyles:ce,placement:G,isPositioned:$,middlewareData:R}=KC({strategy:"fixed",placement:A,whileElementsMounted:(...Ft)=>_C(...Ft,{animationFrame:j==="always"}),elements:{reference:f.anchor},middleware:[GC({mainAxis:i+P,alignmentAxis:a}),c&&XC({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?JC():void 0,...Y}),c&&ZC({...Y}),ek({...Y,apply:({elements:Ft,rects:xn,availableWidth:Ki,availableHeight:Yi})=>{const{width:Gi,height:Tj}=xn.reference,ya=Ft.floating.style;ya.setProperty("--radix-popper-available-width",`${Ki}px`),ya.setProperty("--radix-popper-available-height",`${Yi}px`),ya.setProperty("--radix-popper-anchor-width",`${Gi}px`),ya.setProperty("--radix-popper-anchor-height",`${Tj}px`)}}),N&&nk({element:N,padding:l}),uk({arrowWidth:C,arrowHeight:P}),g&&tk({strategy:"referenceHidden",...Y})]}),[D,B]=Iv(G),Q=Ts(w);ft(()=>{$&&(Q==null||Q())},[$,Q]);const ne=(ee=R.arrow)==null?void 0:ee.x,L=(be=R.arrow)==null?void 0:be.y,we=((rt=R.arrow)==null?void 0:rt.centerOffset)!==0,[Dt,mt]=p.useState();return ft(()=>{m&&mt(window.getComputedStyle(m).zIndex)},[m]),s.jsx("div",{ref:q.setFloating,"data-radix-popper-content-wrapper":"",style:{...ce,transform:$?ce.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Dt,"--radix-popper-transform-origin":[(je=R.transformOrigin)==null?void 0:je.x,(ge=R.transformOrigin)==null?void 0:ge.y].join(" "),...((ye=R.hide)==null?void 0:ye.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(ok,{scope:n,placedSide:D,onArrowChange:b,arrowX:ne,arrowY:L,shouldHideArrow:we,children:s.jsx(Te.div,{"data-side":D,"data-align":B,...x,ref:v,style:{...x.style,animation:$?void 0:"none"}})})})});Rv.displayName=gf;var Av="PopperArrow",lk={top:"bottom",right:"left",bottom:"top",left:"right"},Ov=p.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,o=ak(Av,r),a=lk[o.placedSide];return s.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:s.jsx(sk,{...i,ref:n,style:{...i.style,display:"block"}})})});Ov.displayName=Av;function ck(e){return e!==null}var uk=e=>({name:"transformOrigin",options:e,fn(t){var f,m,y;const{placement:n,rects:r,middlewareData:i}=t,a=((f=i.arrow)==null?void 0:f.centerOffset)!==0,l=a?0:e.arrowWidth,c=a?0:e.arrowHeight,[u,h]=Iv(n),d={start:"0%",center:"50%",end:"100%"}[h],g=(((m=i.arrow)==null?void 0:m.x)??0)+l/2,j=(((y=i.arrow)==null?void 0:y.y)??0)+c/2;let w="",x="";return u==="bottom"?(w=a?d:`${g}px`,x=`${-c}px`):u==="top"?(w=a?d:`${g}px`,x=`${r.floating.height+c}px`):u==="right"?(w=`${-c}px`,x=a?d:`${j}px`):u==="left"&&(w=`${r.floating.width+c}px`,x=a?d:`${j}px`),{data:{x:w,y:x}}}});function Iv(e){const[t,n="center"]=e.split("-");return[t,n]}var Lv=Ev,Mv=Pv,Dv=Rv,Fv=Ov,dk="Portal",yf=p.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[i,o]=p.useState(!1);ft(()=>o(!0),[]);const a=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?tb.createPortal(s.jsx(Te.div,{...r,ref:t}),a):null});yf.displayName=dk;function hk(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var jc=e=>{const{present:t,children:n}=e,r=fk(t),i=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),o=De(r.ref,mk(i));return typeof n=="function"||r.isPresent?p.cloneElement(i,{ref:o}):null};jc.displayName="Presence";function fk(e){const[t,n]=p.useState(),r=p.useRef(null),i=p.useRef(e),o=p.useRef("none"),a=e?"mounted":"unmounted",[l,c]=hk(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=_a(r.current);o.current=l==="mounted"?u:"none"},[l]),ft(()=>{const u=r.current,h=i.current;if(h!==e){const g=o.current,j=_a(u);e?c("MOUNT"):j==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&g!==j?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),ft(()=>{if(t){let u;const h=t.ownerDocument.defaultView??window,d=j=>{const x=_a(r.current).includes(CSS.escape(j.animationName));if(j.target===t&&x&&(c("ANIMATION_END"),!i.current)){const f=t.style.animationFillMode;t.style.animationFillMode="forwards",u=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=f)})}},g=j=>{j.target===t&&(o.current=_a(r.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{h.clearTimeout(u),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function _a(e){return(e==null?void 0:e.animationName)||"none"}function mk(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var pk=Symbol("radix.slottable");function gk(e){const t=({children:n})=>s.jsx(s.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=pk,t}var yk=Xl[" useInsertionEffect ".trim().toString()]||ft;function Hl({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,o,a]=xk({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:i;{const h=p.useRef(e!==void 0);p.useEffect(()=>{const d=h.current;d!==l&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,r])}const u=p.useCallback(h=>{var d;if(l){const g=vk(h)?h(e):h;g!==e&&((d=a.current)==null||d.call(a,g))}else o(h)},[l,e,o,a]);return[c,u]}function xk({defaultProp:e,onChange:t}){const[n,r]=p.useState(e),i=p.useRef(n),o=p.useRef(t);return yk(()=>{o.current=t},[t]),p.useEffect(()=>{var a;i.current!==n&&((a=o.current)==null||a.call(o,n),i.current=n)},[n,i]),[n,r,o]}function vk(e){return typeof e=="function"}var _v=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),wk="VisuallyHidden",zv=p.forwardRef((e,t)=>s.jsx(Te.span,{...e,ref:t,style:{..._v,...e.style}}));zv.displayName=wk;var jk=zv,[Nc]=ua("Tooltip",[wc]),bc=wc(),$v="TooltipProvider",Nk=700,Ud="tooltip.open",[bk,xf]=Nc($v),Uv=e=>{const{__scopeTooltip:t,delayDuration:n=Nk,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:o}=e,a=p.useRef(!0),l=p.useRef(!1),c=p.useRef(0);return p.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),s.jsx(bk,{scope:t,isOpenDelayedRef:a,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:p.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:o})};Uv.displayName=$v;var Go="Tooltip",[Sk,ha]=Nc(Go),Wv=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:i,onOpenChange:o,disableHoverableContent:a,delayDuration:l}=e,c=xf(Go,e.__scopeTooltip),u=bc(t),[h,d]=p.useState(null),g=pc(),j=p.useRef(0),w=a??c.disableHoverableContent,x=l??c.delayDuration,f=p.useRef(!1),[m,y]=Hl({prop:r,defaultProp:i??!1,onChange:C=>{C?(c.onOpen(),document.dispatchEvent(new CustomEvent(Ud))):c.onClose(),o==null||o(C)},caller:Go}),v=p.useMemo(()=>m?f.current?"delayed-open":"instant-open":"closed",[m]),N=p.useCallback(()=>{window.clearTimeout(j.current),j.current=0,f.current=!1,y(!0)},[y]),b=p.useCallback(()=>{window.clearTimeout(j.current),j.current=0,y(!1)},[y]),k=p.useCallback(()=>{window.clearTimeout(j.current),j.current=window.setTimeout(()=>{f.current=!0,y(!0),j.current=0},x)},[x,y]);return p.useEffect(()=>()=>{j.current&&(window.clearTimeout(j.current),j.current=0)},[]),s.jsx(Lv,{...u,children:s.jsx(Sk,{scope:t,contentId:g,open:m,stateAttribute:v,trigger:h,onTriggerChange:d,onTriggerEnter:p.useCallback(()=>{c.isOpenDelayedRef.current?k():N()},[c.isOpenDelayedRef,k,N]),onTriggerLeave:p.useCallback(()=>{w?b():(window.clearTimeout(j.current),j.current=0)},[b,w]),onOpen:N,onClose:b,disableHoverableContent:w,children:n})})};Wv.displayName=Go;var Wd="TooltipTrigger",Bv=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=ha(Wd,n),o=xf(Wd,n),a=bc(n),l=p.useRef(null),c=De(t,l,i.onTriggerChange),u=p.useRef(!1),h=p.useRef(!1),d=p.useCallback(()=>u.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),s.jsx(Mv,{asChild:!0,...a,children:s.jsx(Te.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:xe(e.onPointerMove,g=>{g.pointerType!=="touch"&&!h.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),h.current=!0)}),onPointerLeave:xe(e.onPointerLeave,()=>{i.onTriggerLeave(),h.current=!1}),onPointerDown:xe(e.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:xe(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:xe(e.onBlur,i.onClose),onClick:xe(e.onClick,i.onClose)})})});Bv.displayName=Wd;var vf="TooltipPortal",[Ck,kk]=Nc(vf,{forceMount:void 0}),qv=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:i}=e,o=ha(vf,t);return s.jsx(Ck,{scope:t,forceMount:n,children:s.jsx(jc,{present:n||o.open,children:s.jsx(yf,{asChild:!0,container:i,children:r})})})};qv.displayName=vf;var Ai="TooltipContent",Hv=p.forwardRef((e,t)=>{const n=kk(Ai,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...o}=e,a=ha(Ai,e.__scopeTooltip);return s.jsx(jc,{present:r||a.open,children:a.disableHoverableContent?s.jsx(Vv,{side:i,...o,ref:t}):s.jsx(Ek,{side:i,...o,ref:t})})}),Ek=p.forwardRef((e,t)=>{const n=ha(Ai,e.__scopeTooltip),r=xf(Ai,e.__scopeTooltip),i=p.useRef(null),o=De(t,i),[a,l]=p.useState(null),{trigger:c,onClose:u}=n,h=i.current,{onPointerInTransitChange:d}=r,g=p.useCallback(()=>{l(null),d(!1)},[d]),j=p.useCallback((w,x)=>{const f=w.currentTarget,m={x:w.clientX,y:w.clientY},y=Ok(m,f.getBoundingClientRect()),v=Ik(m,y),N=Lk(x.getBoundingClientRect()),b=Dk([...v,...N]);l(b),d(!0)},[d]);return p.useEffect(()=>()=>g(),[g]),p.useEffect(()=>{if(c&&h){const w=f=>j(f,h),x=f=>j(f,c);return c.addEventListener("pointerleave",w),h.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",w),h.removeEventListener("pointerleave",x)}}},[c,h,j,g]),p.useEffect(()=>{if(a){const w=x=>{const f=x.target,m={x:x.clientX,y:x.clientY},y=(c==null?void 0:c.contains(f))||(h==null?void 0:h.contains(f)),v=!Mk(m,a);y?g():v&&(g(),u())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[c,h,a,u,g]),s.jsx(Vv,{...e,ref:o})}),[Tk,Pk]=Nc(Go,{isInside:!1}),Rk=gk("TooltipContent"),Vv=p.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:a,...l}=e,c=ha(Ai,n),u=bc(n),{onClose:h}=c;return p.useEffect(()=>(document.addEventListener(Ud,h),()=>document.removeEventListener(Ud,h)),[h]),p.useEffect(()=>{if(c.trigger){const d=g=>{const j=g.target;j!=null&&j.contains(c.trigger)&&h()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[c.trigger,h]),s.jsx(lf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:d=>d.preventDefault(),onDismiss:h,children:s.jsxs(Dv,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(Rk,{children:r}),s.jsx(Tk,{scope:n,isInside:!0,children:s.jsx(jk,{id:c.contentId,role:"tooltip",children:i||r})})]})})});Hv.displayName=Ai;var Qv="TooltipArrow",Ak=p.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=bc(n);return Pk(Qv,n).isInside?null:s.jsx(Fv,{...i,...r,ref:t})});Ak.displayName=Qv;function Ok(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,i,o)){case o:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Ik(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function Lk(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function Mk(e,t){const{x:n,y:r}=e;let i=!1;for(let o=0,a=t.length-1;o<t.length;a=o++){const l=t[o],c=t[a],u=l.x,h=l.y,d=c.x,g=c.y;h>r!=g>r&&n<(d-u)*(r-h)/(g-h)+u&&(i=!i)}return i}function Dk(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Fk(t)}function Fk(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const o=t[t.length-1],a=t[t.length-2];if((o.x-a.x)*(i.y-a.y)>=(o.y-a.y)*(i.x-a.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const o=n[n.length-1],a=n[n.length-2];if((o.x-a.x)*(i.y-a.y)>=(o.y-a.y)*(i.x-a.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var _k=Uv,zk=Wv,$k=Bv,Uk=qv,Kv=Hv;const Wk=_k,Np=zk,bp=$k,Bd=p.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(Uk,{children:s.jsx(Kv,{ref:r,sideOffset:t,className:Ie("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n})}));Bd.displayName=Kv.displayName;function Bk({children:e,theme:t,toggleTheme:n}){const r=zi(),i=[{path:"/",label:"Dashboard",icon:sf},{path:"/timeline",label:"Timeline",icon:mc},{path:"/events",label:"Events",icon:He},{path:"/chapters",label:"Chapters",icon:wt},{path:"/people",label:"People",icon:jt},{path:"/artifacts",label:"Artifacts",icon:dt},{path:"/synchronicities",label:"Sync",icon:ht},{path:"/tags",label:"Tags",icon:Ui},{path:"/collections",label:"Collections",icon:la},{path:"/query",label:"Query",icon:rf},{path:"/upload",label:"Upload",icon:Es},{path:"/search",label:"Search",icon:Zn},{path:"/export",label:"Export",icon:Qo},{path:"/manage/chapters",label:"Edit Chapters",icon:wt},{path:"/manage/trauma-cycles",label:"Edit Cycles",icon:Ds},{path:"/manage/songs",label:"Edit Songs",icon:On},{path:"/guide",label:"User Guide",icon:zl}];return s.jsx(Wk,{delayDuration:200,children:s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("header",{className:"sticky top-0 z-50 border-b border-border/50 bg-background/90 backdrop-blur-md supports-[backdrop-filter]:bg-background/70",children:s.jsxs("div",{className:"container flex h-14 items-center",children:[s.jsx("div",{className:"mr-4 flex",children:s.jsxs(X,{to:"/",className:"flex items-center space-x-2 group",children:[s.jsx("div",{className:"p-1.5 rounded-lg bg-gradient-to-br from-primary/10 to-accent/10 group-hover:from-primary/20 group-hover:to-accent/20 transition-colors",children:s.jsx(oi,{className:"h-5 w-5 text-primary"})}),s.jsx("span",{className:"font-display text-xl bg-gradient-to-r from-foreground to-foreground/80 bg-clip-text",children:"MemoirArk"})]})}),s.jsx("nav",{className:"flex items-center space-x-0.5 text-sm font-medium flex-1 overflow-x-auto",children:i.map(o=>{const a=o.icon,l=r.pathname===o.path;return s.jsxs(Np,{children:[s.jsx(bp,{asChild:!0,children:s.jsx(X,{to:o.path,"data-tour":o.path.replace(/\//g,"-").slice(1)||"dashboard",className:Ie("flex items-center justify-center p-2 rounded-lg transition-all duration-200",l?"bg-gradient-to-br from-primary/15 to-accent/10 text-primary shadow-sm":"text-muted-foreground hover:bg-muted/50 hover:text-foreground"),children:s.jsx(a,{className:"h-4 w-4"})})}),s.jsx(Bd,{side:"bottom",className:"font-medium",children:o.label})]},o.path)})}),s.jsxs(Np,{children:[s.jsx(bp,{asChild:!0,children:s.jsx("button",{onClick:n,className:"inline-flex items-center justify-center rounded-lg p-2 transition-all duration-200 hover:bg-muted/50 text-muted-foreground hover:text-foreground","aria-label":"Toggle theme",children:t==="dark"?s.jsx(K1,{className:"h-5 w-5"}):s.jsx(V1,{className:"h-5 w-5"})})}),s.jsx(Bd,{side:"bottom",children:t==="dark"?"Light mode":"Dark mode"})]})]})}),s.jsx("main",{className:"container py-8",children:e})]})})}function Yv(e,t){return function(){return e.apply(t,arguments)}}const{toString:qk}=Object.prototype,{getPrototypeOf:wf}=Object,{iterator:Sc,toStringTag:Gv}=Symbol,Cc=(e=>t=>{const n=qk.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),yn=e=>(e=e.toLowerCase(),t=>Cc(t)===e),kc=e=>t=>typeof t===e,{isArray:Hi}=Array,Oi=kc("undefined");function fa(e){return e!==null&&!Oi(e)&&e.constructor!==null&&!Oi(e.constructor)&&It(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Xv=yn("ArrayBuffer");function Hk(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Xv(e.buffer),t}const Vk=kc("string"),It=kc("function"),Jv=kc("number"),ma=e=>e!==null&&typeof e=="object",Qk=e=>e===!0||e===!1,al=e=>{if(Cc(e)!=="object")return!1;const t=wf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Gv in e)&&!(Sc in e)},Kk=e=>{if(!ma(e)||fa(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Yk=yn("Date"),Gk=yn("File"),Xk=yn("Blob"),Jk=yn("FileList"),Zk=e=>ma(e)&&It(e.pipe),e2=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||It(e.append)&&((t=Cc(e))==="formdata"||t==="object"&&It(e.toString)&&e.toString()==="[object FormData]"))},t2=yn("URLSearchParams"),[n2,r2,s2,i2]=["ReadableStream","Request","Response","Headers"].map(yn),o2=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function pa(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),Hi(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{if(fa(e))return;const o=n?Object.getOwnPropertyNames(e):Object.keys(e),a=o.length;let l;for(r=0;r<a;r++)l=o[r],t.call(null,e[l],l,e)}}function Zv(e,t){if(fa(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const is=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ew=e=>!Oi(e)&&e!==is;function qd(){const{caseless:e,skipUndefined:t}=ew(this)&&this||{},n={},r=(i,o)=>{const a=e&&Zv(n,o)||o;al(n[a])&&al(i)?n[a]=qd(n[a],i):al(i)?n[a]=qd({},i):Hi(i)?n[a]=i.slice():(!t||!Oi(i))&&(n[a]=i)};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&pa(arguments[i],r);return n}const a2=(e,t,n,{allOwnKeys:r}={})=>(pa(t,(i,o)=>{n&&It(i)?e[o]=Yv(i,n):e[o]=i},{allOwnKeys:r}),e),l2=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),c2=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},u2=(e,t,n,r)=>{let i,o,a;const l={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)a=i[o],(!r||r(a,e,t))&&!l[a]&&(t[a]=e[a],l[a]=!0);e=n!==!1&&wf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},d2=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},h2=e=>{if(!e)return null;if(Hi(e))return e;let t=e.length;if(!Jv(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},f2=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&wf(Uint8Array)),m2=(e,t)=>{const r=(e&&e[Sc]).call(e);let i;for(;(i=r.next())&&!i.done;){const o=i.value;t.call(e,o[0],o[1])}},p2=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},g2=yn("HTMLFormElement"),y2=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),Sp=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),x2=yn("RegExp"),tw=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};pa(n,(i,o)=>{let a;(a=t(i,o,e))!==!1&&(r[o]=a||i)}),Object.defineProperties(e,r)},v2=e=>{tw(e,(t,n)=>{if(It(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(It(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},w2=(e,t)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return Hi(e)?r(e):r(String(e).split(t)),n},j2=()=>{},N2=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function b2(e){return!!(e&&It(e.append)&&e[Gv]==="FormData"&&e[Sc])}const S2=e=>{const t=new Array(10),n=(r,i)=>{if(ma(r)){if(t.indexOf(r)>=0)return;if(fa(r))return r;if(!("toJSON"in r)){t[i]=r;const o=Hi(r)?[]:{};return pa(r,(a,l)=>{const c=n(a,i+1);!Oi(c)&&(o[l]=c)}),t[i]=void 0,o}}return r};return n(e,0)},C2=yn("AsyncFunction"),k2=e=>e&&(ma(e)||It(e))&&It(e.then)&&It(e.catch),nw=((e,t)=>e?setImmediate:t?((n,r)=>(is.addEventListener("message",({source:i,data:o})=>{i===is&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),is.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",It(is.postMessage)),E2=typeof queueMicrotask<"u"?queueMicrotask.bind(is):typeof process<"u"&&process.nextTick||nw,T2=e=>e!=null&&It(e[Sc]),T={isArray:Hi,isArrayBuffer:Xv,isBuffer:fa,isFormData:e2,isArrayBufferView:Hk,isString:Vk,isNumber:Jv,isBoolean:Qk,isObject:ma,isPlainObject:al,isEmptyObject:Kk,isReadableStream:n2,isRequest:r2,isResponse:s2,isHeaders:i2,isUndefined:Oi,isDate:Yk,isFile:Gk,isBlob:Xk,isRegExp:x2,isFunction:It,isStream:Zk,isURLSearchParams:t2,isTypedArray:f2,isFileList:Jk,forEach:pa,merge:qd,extend:a2,trim:o2,stripBOM:l2,inherits:c2,toFlatObject:u2,kindOf:Cc,kindOfTest:yn,endsWith:d2,toArray:h2,forEachEntry:m2,matchAll:p2,isHTMLForm:g2,hasOwnProperty:Sp,hasOwnProp:Sp,reduceDescriptors:tw,freezeMethods:v2,toObjectSet:w2,toCamelCase:y2,noop:j2,toFiniteNumber:N2,findKey:Zv,global:is,isContextDefined:ew,isSpecCompliantForm:b2,toJSONObject:S2,isAsyncFn:C2,isThenable:k2,setImmediate:nw,asap:E2,isIterable:T2};function ie(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}T.inherits(ie,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:T.toJSONObject(this.config),code:this.code,status:this.status}}});const rw=ie.prototype,sw={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{sw[e]={value:e}});Object.defineProperties(ie,sw);Object.defineProperty(rw,"isAxiosError",{value:!0});ie.from=(e,t,n,r,i,o)=>{const a=Object.create(rw);T.toFlatObject(e,a,function(h){return h!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return ie.call(a,l,c,n,r,i),e&&a.cause==null&&Object.defineProperty(a,"cause",{value:e,configurable:!0}),a.name=e&&e.name||"Error",o&&Object.assign(a,o),a};const P2=null;function Hd(e){return T.isPlainObject(e)||T.isArray(e)}function iw(e){return T.endsWith(e,"[]")?e.slice(0,-2):e}function Cp(e,t,n){return e?e.concat(t).map(function(i,o){return i=iw(i),!n&&o?"["+i+"]":i}).join(n?".":""):t}function R2(e){return T.isArray(e)&&!e.some(Hd)}const A2=T.toFlatObject(T,{},null,function(t){return/^is[A-Z]/.test(t)});function Ec(e,t,n){if(!T.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=T.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,f){return!T.isUndefined(f[x])});const r=n.metaTokens,i=n.visitor||h,o=n.dots,a=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&T.isSpecCompliantForm(t);if(!T.isFunction(i))throw new TypeError("visitor must be a function");function u(w){if(w===null)return"";if(T.isDate(w))return w.toISOString();if(T.isBoolean(w))return w.toString();if(!c&&T.isBlob(w))throw new ie("Blob is not supported. Use a Buffer instead.");return T.isArrayBuffer(w)||T.isTypedArray(w)?c&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function h(w,x,f){let m=w;if(w&&!f&&typeof w=="object"){if(T.endsWith(x,"{}"))x=r?x:x.slice(0,-2),w=JSON.stringify(w);else if(T.isArray(w)&&R2(w)||(T.isFileList(w)||T.endsWith(x,"[]"))&&(m=T.toArray(w)))return x=iw(x),m.forEach(function(v,N){!(T.isUndefined(v)||v===null)&&t.append(a===!0?Cp([x],N,o):a===null?x:x+"[]",u(v))}),!1}return Hd(w)?!0:(t.append(Cp(f,x,o),u(w)),!1)}const d=[],g=Object.assign(A2,{defaultVisitor:h,convertValue:u,isVisitable:Hd});function j(w,x){if(!T.isUndefined(w)){if(d.indexOf(w)!==-1)throw Error("Circular reference detected in "+x.join("."));d.push(w),T.forEach(w,function(m,y){(!(T.isUndefined(m)||m===null)&&i.call(t,m,T.isString(y)?y.trim():y,x,g))===!0&&j(m,x?x.concat(y):[y])}),d.pop()}}if(!T.isObject(e))throw new TypeError("data must be an object");return j(e),t}function kp(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function jf(e,t){this._pairs=[],e&&Ec(e,this,t)}const ow=jf.prototype;ow.append=function(t,n){this._pairs.push([t,n])};ow.toString=function(t){const n=t?function(r){return t.call(this,r,kp)}:kp;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function O2(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function aw(e,t,n){if(!t)return e;const r=n&&n.encode||O2;T.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(i?o=i(t,n):o=T.isURLSearchParams(t)?t.toString():new jf(t,n).toString(r),o){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class Ep{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){T.forEach(this.handlers,function(r){r!==null&&t(r)})}}const lw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},I2=typeof URLSearchParams<"u"?URLSearchParams:jf,L2=typeof FormData<"u"?FormData:null,M2=typeof Blob<"u"?Blob:null,D2={isBrowser:!0,classes:{URLSearchParams:I2,FormData:L2,Blob:M2},protocols:["http","https","file","blob","url","data"]},Nf=typeof window<"u"&&typeof document<"u",Vd=typeof navigator=="object"&&navigator||void 0,F2=Nf&&(!Vd||["ReactNative","NativeScript","NS"].indexOf(Vd.product)<0),_2=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",z2=Nf&&window.location.href||"http://localhost",$2=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Nf,hasStandardBrowserEnv:F2,hasStandardBrowserWebWorkerEnv:_2,navigator:Vd,origin:z2},Symbol.toStringTag,{value:"Module"})),at={...$2,...D2};function U2(e,t){return Ec(e,new at.classes.URLSearchParams,{visitor:function(n,r,i,o){return at.isNode&&T.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function W2(e){return T.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function B2(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}function cw(e){function t(n,r,i,o){let a=n[o++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),c=o>=n.length;return a=!a&&T.isArray(i)?i.length:a,c?(T.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r,!l):((!i[a]||!T.isObject(i[a]))&&(i[a]=[]),t(n,r,i[a],o)&&T.isArray(i[a])&&(i[a]=B2(i[a])),!l)}if(T.isFormData(e)&&T.isFunction(e.entries)){const n={};return T.forEachEntry(e,(r,i)=>{t(W2(r),i,n,0)}),n}return null}function q2(e,t,n){if(T.isString(e))try{return(t||JSON.parse)(e),T.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const ga={transitional:lw,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=T.isObject(t);if(o&&T.isHTMLForm(t)&&(t=new FormData(t)),T.isFormData(t))return i?JSON.stringify(cw(t)):t;if(T.isArrayBuffer(t)||T.isBuffer(t)||T.isStream(t)||T.isFile(t)||T.isBlob(t)||T.isReadableStream(t))return t;if(T.isArrayBufferView(t))return t.buffer;if(T.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return U2(t,this.formSerializer).toString();if((l=T.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Ec(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),q2(t)):t}],transformResponse:[function(t){const n=this.transitional||ga.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(T.isResponse(t)||T.isReadableStream(t))return t;if(t&&T.isString(t)&&(r&&!this.responseType||i)){const a=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(l){if(a)throw l.name==="SyntaxError"?ie.from(l,ie.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:at.classes.FormData,Blob:at.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};T.forEach(["delete","get","head","post","put","patch"],e=>{ga.headers[e]={}});const H2=T.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),V2=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(a){i=a.indexOf(":"),n=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!n||t[n]&&H2[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Tp=Symbol("internals");function ao(e){return e&&String(e).trim().toLowerCase()}function ll(e){return e===!1||e==null?e:T.isArray(e)?e.map(ll):String(e)}function Q2(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const K2=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function hu(e,t,n,r,i){if(T.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!T.isString(t)){if(T.isString(r))return t.indexOf(r)!==-1;if(T.isRegExp(r))return r.test(t)}}function Y2(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function G2(e,t){const n=T.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,o,a){return this[r].call(this,t,i,o,a)},configurable:!0})})}let Lt=class{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function o(l,c,u){const h=ao(c);if(!h)throw new Error("header name must be a non-empty string");const d=T.findKey(i,h);(!d||i[d]===void 0||u===!0||u===void 0&&i[d]!==!1)&&(i[d||c]=ll(l))}const a=(l,c)=>T.forEach(l,(u,h)=>o(u,h,c));if(T.isPlainObject(t)||t instanceof this.constructor)a(t,n);else if(T.isString(t)&&(t=t.trim())&&!K2(t))a(V2(t),n);else if(T.isObject(t)&&T.isIterable(t)){let l={},c,u;for(const h of t){if(!T.isArray(h))throw TypeError("Object iterator must return a key-value pair");l[u=h[0]]=(c=l[u])?T.isArray(c)?[...c,h[1]]:[c,h[1]]:h[1]}a(l,n)}else t!=null&&o(n,t,r);return this}get(t,n){if(t=ao(t),t){const r=T.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return Q2(i);if(T.isFunction(n))return n.call(this,i,r);if(T.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=ao(t),t){const r=T.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||hu(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function o(a){if(a=ao(a),a){const l=T.findKey(r,a);l&&(!n||hu(r,r[l],l,n))&&(delete r[l],i=!0)}}return T.isArray(t)?t.forEach(o):o(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!t||hu(this,this[o],o,t,!0))&&(delete this[o],i=!0)}return i}normalize(t){const n=this,r={};return T.forEach(this,(i,o)=>{const a=T.findKey(r,o);if(a){n[a]=ll(i),delete n[o];return}const l=t?Y2(o):String(o).trim();l!==o&&delete n[o],n[l]=ll(i),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return T.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&T.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[Tp]=this[Tp]={accessors:{}}).accessors,i=this.prototype;function o(a){const l=ao(a);r[l]||(G2(i,a),r[l]=!0)}return T.isArray(t)?t.forEach(o):o(t),this}};Lt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);T.reduceDescriptors(Lt.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});T.freezeMethods(Lt);function fu(e,t){const n=this||ga,r=t||n,i=Lt.from(r.headers);let o=r.data;return T.forEach(e,function(l){o=l.call(n,o,i.normalize(),t?t.status:void 0)}),i.normalize(),o}function uw(e){return!!(e&&e.__CANCEL__)}function Vi(e,t,n){ie.call(this,e??"canceled",ie.ERR_CANCELED,t,n),this.name="CanceledError"}T.inherits(Vi,ie,{__CANCEL__:!0});function dw(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new ie("Request failed with status code "+n.status,[ie.ERR_BAD_REQUEST,ie.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function X2(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function J2(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,o=0,a;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),h=r[o];a||(a=u),n[i]=c,r[i]=u;let d=o,g=0;for(;d!==i;)g+=n[d++],d=d%e;if(i=(i+1)%e,i===o&&(o=(o+1)%e),u-a<t)return;const j=h&&u-h;return j?Math.round(g*1e3/j):void 0}}function Z2(e,t){let n=0,r=1e3/t,i,o;const a=(u,h=Date.now())=>{n=h,i=null,o&&(clearTimeout(o),o=null),e(...u)};return[(...u)=>{const h=Date.now(),d=h-n;d>=r?a(u,h):(i=u,o||(o=setTimeout(()=>{o=null,a(i)},r-d)))},()=>i&&a(i)]}const Vl=(e,t,n=3)=>{let r=0;const i=J2(50,250);return Z2(o=>{const a=o.loaded,l=o.lengthComputable?o.total:void 0,c=a-r,u=i(c),h=a<=l;r=a;const d={loaded:a,total:l,progress:l?a/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&h?(l-a)/u:void 0,event:o,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(d)},n)},Pp=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Rp=e=>(...t)=>T.asap(()=>e(...t)),eE=at.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,at.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(at.origin),at.navigator&&/(msie|trident)/i.test(at.navigator.userAgent)):()=>!0,tE=at.hasStandardBrowserEnv?{write(e,t,n,r,i,o,a){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];T.isNumber(n)&&l.push(`expires=${new Date(n).toUTCString()}`),T.isString(r)&&l.push(`path=${r}`),T.isString(i)&&l.push(`domain=${i}`),o===!0&&l.push("secure"),T.isString(a)&&l.push(`SameSite=${a}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function nE(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function rE(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function hw(e,t,n){let r=!nE(t);return e&&(r||n==!1)?rE(e,t):t}const Ap=e=>e instanceof Lt?{...e}:e;function Rs(e,t){t=t||{};const n={};function r(u,h,d,g){return T.isPlainObject(u)&&T.isPlainObject(h)?T.merge.call({caseless:g},u,h):T.isPlainObject(h)?T.merge({},h):T.isArray(h)?h.slice():h}function i(u,h,d,g){if(T.isUndefined(h)){if(!T.isUndefined(u))return r(void 0,u,d,g)}else return r(u,h,d,g)}function o(u,h){if(!T.isUndefined(h))return r(void 0,h)}function a(u,h){if(T.isUndefined(h)){if(!T.isUndefined(u))return r(void 0,u)}else return r(void 0,h)}function l(u,h,d){if(d in t)return r(u,h);if(d in e)return r(void 0,u)}const c={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(u,h,d)=>i(Ap(u),Ap(h),d,!0)};return T.forEach(Object.keys({...e,...t}),function(h){const d=c[h]||i,g=d(e[h],t[h],h);T.isUndefined(g)&&d!==l||(n[h]=g)}),n}const fw=e=>{const t=Rs({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:a,auth:l}=t;if(t.headers=a=Lt.from(a),t.url=aw(hw(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),T.isFormData(n)){if(at.hasStandardBrowserEnv||at.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(T.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([h,d])=>{u.includes(h.toLowerCase())&&a.set(h,d)})}}if(at.hasStandardBrowserEnv&&(r&&T.isFunction(r)&&(r=r(t)),r||r!==!1&&eE(t.url))){const c=i&&o&&tE.read(o);c&&a.set(i,c)}return t},sE=typeof XMLHttpRequest<"u",iE=sE&&function(e){return new Promise(function(n,r){const i=fw(e);let o=i.data;const a=Lt.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=i,h,d,g,j,w;function x(){j&&j(),w&&w(),i.cancelToken&&i.cancelToken.unsubscribe(h),i.signal&&i.signal.removeEventListener("abort",h)}let f=new XMLHttpRequest;f.open(i.method.toUpperCase(),i.url,!0),f.timeout=i.timeout;function m(){if(!f)return;const v=Lt.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),b={data:!l||l==="text"||l==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:v,config:e,request:f};dw(function(C){n(C),x()},function(C){r(C),x()},b),f=null}"onloadend"in f?f.onloadend=m:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(m)},f.onabort=function(){f&&(r(new ie("Request aborted",ie.ECONNABORTED,e,f)),f=null)},f.onerror=function(N){const b=N&&N.message?N.message:"Network Error",k=new ie(b,ie.ERR_NETWORK,e,f);k.event=N||null,r(k),f=null},f.ontimeout=function(){let N=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const b=i.transitional||lw;i.timeoutErrorMessage&&(N=i.timeoutErrorMessage),r(new ie(N,b.clarifyTimeoutError?ie.ETIMEDOUT:ie.ECONNABORTED,e,f)),f=null},o===void 0&&a.setContentType(null),"setRequestHeader"in f&&T.forEach(a.toJSON(),function(N,b){f.setRequestHeader(b,N)}),T.isUndefined(i.withCredentials)||(f.withCredentials=!!i.withCredentials),l&&l!=="json"&&(f.responseType=i.responseType),u&&([g,w]=Vl(u,!0),f.addEventListener("progress",g)),c&&f.upload&&([d,j]=Vl(c),f.upload.addEventListener("progress",d),f.upload.addEventListener("loadend",j)),(i.cancelToken||i.signal)&&(h=v=>{f&&(r(!v||v.type?new Vi(null,e,f):v),f.abort(),f=null)},i.cancelToken&&i.cancelToken.subscribe(h),i.signal&&(i.signal.aborted?h():i.signal.addEventListener("abort",h)));const y=X2(i.url);if(y&&at.protocols.indexOf(y)===-1){r(new ie("Unsupported protocol "+y+":",ie.ERR_BAD_REQUEST,e));return}f.send(o||null)})},oE=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,i;const o=function(u){if(!i){i=!0,l();const h=u instanceof Error?u:this.reason;r.abort(h instanceof ie?h:new Vi(h instanceof Error?h.message:h))}};let a=t&&setTimeout(()=>{a=null,o(new ie(`timeout ${t} of ms exceeded`,ie.ETIMEDOUT))},t);const l=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(o):u.removeEventListener("abort",o)}),e=null)};e.forEach(u=>u.addEventListener("abort",o));const{signal:c}=r;return c.unsubscribe=()=>T.asap(l),c}},aE=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},lE=async function*(e,t){for await(const n of cE(e))yield*aE(n,t)},cE=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Op=(e,t,n,r)=>{const i=lE(e,t);let o=0,a,l=c=>{a||(a=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:h}=await i.next();if(u){l(),c.close();return}let d=h.byteLength;if(n){let g=o+=d;n(g)}c.enqueue(new Uint8Array(h))}catch(u){throw l(u),u}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},Ip=64*1024,{isFunction:za}=T,uE=(({Request:e,Response:t})=>({Request:e,Response:t}))(T.global),{ReadableStream:Lp,TextEncoder:Mp}=T.global,Dp=(e,...t)=>{try{return!!e(...t)}catch{return!1}},dE=e=>{e=T.merge.call({skipUndefined:!0},uE,e);const{fetch:t,Request:n,Response:r}=e,i=t?za(t):typeof fetch=="function",o=za(n),a=za(r);if(!i)return!1;const l=i&&za(Lp),c=i&&(typeof Mp=="function"?(w=>x=>w.encode(x))(new Mp):async w=>new Uint8Array(await new n(w).arrayBuffer())),u=o&&l&&Dp(()=>{let w=!1;const x=new n(at.origin,{body:new Lp,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!x}),h=a&&l&&Dp(()=>T.isReadableStream(new r("").body)),d={stream:h&&(w=>w.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!d[w]&&(d[w]=(x,f)=>{let m=x&&x[w];if(m)return m.call(x);throw new ie(`Response type '${w}' is not supported`,ie.ERR_NOT_SUPPORT,f)})});const g=async w=>{if(w==null)return 0;if(T.isBlob(w))return w.size;if(T.isSpecCompliantForm(w))return(await new n(at.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(T.isArrayBufferView(w)||T.isArrayBuffer(w))return w.byteLength;if(T.isURLSearchParams(w)&&(w=w+""),T.isString(w))return(await c(w)).byteLength},j=async(w,x)=>{const f=T.toFiniteNumber(w.getContentLength());return f??g(x)};return async w=>{let{url:x,method:f,data:m,signal:y,cancelToken:v,timeout:N,onDownloadProgress:b,onUploadProgress:k,responseType:C,headers:P,withCredentials:A="same-origin",fetchOptions:O}=fw(w),I=t||fetch;C=C?(C+"").toLowerCase():"text";let M=oE([y,v&&v.toAbortSignal()],N),Y=null;const q=M&&M.unsubscribe&&(()=>{M.unsubscribe()});let ce;try{if(k&&u&&f!=="get"&&f!=="head"&&(ce=await j(P,m))!==0){let Q=new n(x,{method:"POST",body:m,duplex:"half"}),ne;if(T.isFormData(m)&&(ne=Q.headers.get("content-type"))&&P.setContentType(ne),Q.body){const[L,we]=Pp(ce,Vl(Rp(k)));m=Op(Q.body,Ip,L,we)}}T.isString(A)||(A=A?"include":"omit");const G=o&&"credentials"in n.prototype,$={...O,signal:M,method:f.toUpperCase(),headers:P.normalize().toJSON(),body:m,duplex:"half",credentials:G?A:void 0};Y=o&&new n(x,$);let R=await(o?I(Y,O):I(x,$));const D=h&&(C==="stream"||C==="response");if(h&&(b||D&&q)){const Q={};["status","statusText","headers"].forEach(Dt=>{Q[Dt]=R[Dt]});const ne=T.toFiniteNumber(R.headers.get("content-length")),[L,we]=b&&Pp(ne,Vl(Rp(b),!0))||[];R=new r(Op(R.body,Ip,L,()=>{we&&we(),q&&q()}),Q)}C=C||"text";let B=await d[T.findKey(d,C)||"text"](R,w);return!D&&q&&q(),await new Promise((Q,ne)=>{dw(Q,ne,{data:B,headers:Lt.from(R.headers),status:R.status,statusText:R.statusText,config:w,request:Y})})}catch(G){throw q&&q(),G&&G.name==="TypeError"&&/Load failed|fetch/i.test(G.message)?Object.assign(new ie("Network Error",ie.ERR_NETWORK,w,Y),{cause:G.cause||G}):ie.from(G,G&&G.code,w,Y)}}},hE=new Map,mw=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:i}=t,o=[r,i,n];let a=o.length,l=a,c,u,h=hE;for(;l--;)c=o[l],u=h.get(c),u===void 0&&h.set(c,u=l?new Map:dE(t)),h=u;return u};mw();const bf={http:P2,xhr:iE,fetch:{get:mw}};T.forEach(bf,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Fp=e=>`- ${e}`,fE=e=>T.isFunction(e)||e===null||e===!1;function mE(e,t){e=T.isArray(e)?e:[e];const{length:n}=e;let r,i;const o={};for(let a=0;a<n;a++){r=e[a];let l;if(i=r,!fE(r)&&(i=bf[(l=String(r)).toLowerCase()],i===void 0))throw new ie(`Unknown adapter '${l}'`);if(i&&(T.isFunction(i)||(i=i.get(t))))break;o[l||"#"+a]=i}if(!i){const a=Object.entries(o).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=n?a.length>1?`since :
`+a.map(Fp).join(`
`):" "+Fp(a[0]):"as no adapter specified";throw new ie("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return i}const pw={getAdapter:mE,adapters:bf};function mu(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Vi(null,e)}function _p(e){return mu(e),e.headers=Lt.from(e.headers),e.data=fu.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),pw.getAdapter(e.adapter||ga.adapter,e)(e).then(function(r){return mu(e),r.data=fu.call(e,e.transformResponse,r),r.headers=Lt.from(r.headers),r},function(r){return uw(r)||(mu(e),r&&r.response&&(r.response.data=fu.call(e,e.transformResponse,r.response),r.response.headers=Lt.from(r.response.headers))),Promise.reject(r)})}const gw="1.13.2",Tc={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Tc[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const zp={};Tc.transitional=function(t,n,r){function i(o,a){return"[Axios v"+gw+"] Transitional option '"+o+"'"+a+(r?". "+r:"")}return(o,a,l)=>{if(t===!1)throw new ie(i(a," has been removed"+(n?" in "+n:"")),ie.ERR_DEPRECATED);return n&&!zp[a]&&(zp[a]=!0,console.warn(i(a," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,a,l):!0}};Tc.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function pE(e,t,n){if(typeof e!="object")throw new ie("options must be an object",ie.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],a=t[o];if(a){const l=e[o],c=l===void 0||a(l,o,e);if(c!==!0)throw new ie("option "+o+" must be "+c,ie.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ie("Unknown option "+o,ie.ERR_BAD_OPTION)}}const cl={assertOptions:pE,validators:Tc},wn=cl.validators;let ys=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Ep,response:new Ep}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Rs(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&cl.assertOptions(r,{silentJSONParsing:wn.transitional(wn.boolean),forcedJSONParsing:wn.transitional(wn.boolean),clarifyTimeoutError:wn.transitional(wn.boolean)},!1),i!=null&&(T.isFunction(i)?n.paramsSerializer={serialize:i}:cl.assertOptions(i,{encode:wn.function,serialize:wn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),cl.assertOptions(n,{baseUrl:wn.spelling("baseURL"),withXsrfToken:wn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=o&&T.merge(o.common,o[n.method]);o&&T.forEach(["delete","get","head","post","put","patch","common"],w=>{delete o[w]}),n.headers=Lt.concat(a,o);const l=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(c=c&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const u=[];this.interceptors.response.forEach(function(x){u.push(x.fulfilled,x.rejected)});let h,d=0,g;if(!c){const w=[_p.bind(this),void 0];for(w.unshift(...l),w.push(...u),g=w.length,h=Promise.resolve(n);d<g;)h=h.then(w[d++],w[d++]);return h}g=l.length;let j=n;for(;d<g;){const w=l[d++],x=l[d++];try{j=w(j)}catch(f){x.call(this,f);break}}try{h=_p.call(this,j)}catch(w){return Promise.reject(w)}for(d=0,g=u.length;d<g;)h=h.then(u[d++],u[d++]);return h}getUri(t){t=Rs(this.defaults,t);const n=hw(t.baseURL,t.url,t.allowAbsoluteUrls);return aw(n,t.params,t.paramsSerializer)}};T.forEach(["delete","get","head","options"],function(t){ys.prototype[t]=function(n,r){return this.request(Rs(r||{},{method:t,url:n,data:(r||{}).data}))}});T.forEach(["post","put","patch"],function(t){function n(r){return function(o,a,l){return this.request(Rs(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}ys.prototype[t]=n(),ys.prototype[t+"Form"]=n(!0)});let gE=class yw{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const a=new Promise(l=>{r.subscribe(l),o=l}).then(i);return a.cancel=function(){r.unsubscribe(o)},a},t(function(o,a,l){r.reason||(r.reason=new Vi(o,a,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new yw(function(i){t=i}),cancel:t}}};function yE(e){return function(n){return e.apply(null,n)}}function xE(e){return T.isObject(e)&&e.isAxiosError===!0}const Qd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Qd).forEach(([e,t])=>{Qd[t]=e});function xw(e){const t=new ys(e),n=Yv(ys.prototype.request,t);return T.extend(n,ys.prototype,t,{allOwnKeys:!0}),T.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return xw(Rs(e,i))},n}const _e=xw(ga);_e.Axios=ys;_e.CanceledError=Vi;_e.CancelToken=gE;_e.isCancel=uw;_e.VERSION=gw;_e.toFormData=Ec;_e.AxiosError=ie;_e.Cancel=_e.CanceledError;_e.all=function(t){return Promise.all(t)};_e.spread=yE;_e.isAxiosError=xE;_e.mergeConfig=Rs;_e.AxiosHeaders=Lt;_e.formToJSON=e=>cw(T.isHTMLForm(e)?new FormData(e):e);_e.getAdapter=pw.getAdapter;_e.HttpStatusCode=Qd;_e.default=_e;const{Axios:LP,AxiosError:MP,CanceledError:DP,isCancel:FP,CancelToken:_P,VERSION:zP,all:$P,Cancel:UP,isAxiosError:WP,spread:BP,toFormData:qP,AxiosHeaders:HP,HttpStatusCode:VP,formToJSON:QP,getAdapter:KP,mergeConfig:YP}=_e,U=_e.create({baseURL:"/api",headers:{"Content-Type":"application/json"}}),vw={getStats:async()=>{const{data:e}=await U.get("/stats");return e}},Vn={getAll:async e=>{const{data:t}=await U.get("/events",{params:e});return t},getById:async e=>{const{data:t}=await U.get(`/events/${e}`);return t},create:async e=>{const{data:t}=await U.post("/events",e);return t},update:async(e,t)=>{const{data:n}=await U.put(`/events/${e}`,t);return n},delete:async e=>{await U.delete(`/events/${e}`)}},kr={getAll:async()=>{const{data:e}=await U.get("/chapters");return e},getById:async e=>{const{data:t}=await U.get(`/chapters/${e}`);return t},create:async e=>{const{data:t}=await U.post("/chapters",e);return t},update:async(e,t)=>{const{data:n}=await U.put(`/chapters/${e}`,t);return n},delete:async e=>{await U.delete(`/chapters/${e}`)}},Er={getAll:async()=>{const{data:e}=await U.get("/trauma-cycles");return e},getById:async e=>{const{data:t}=await U.get(`/trauma-cycles/${e}`);return t},create:async e=>{const{data:t}=await U.post("/trauma-cycles",e);return t},update:async(e,t)=>{const{data:n}=await U.put(`/trauma-cycles/${e}`,t);return n},delete:async e=>{await U.delete(`/trauma-cycles/${e}`)}},po={getAll:async()=>{const{data:e}=await U.get("/songs");return e},getById:async e=>{const{data:t}=await U.get(`/songs/${e}`);return t},create:async e=>{const{data:t}=await U.post("/songs",e);return t},update:async(e,t)=>{const{data:n}=await U.put(`/songs/${e}`,t);return n},delete:async e=>{await U.delete(`/songs/${e}`)}},Qn={getAll:async e=>{const{data:t}=await U.get("/persons",{params:e});return t},getById:async e=>{const{data:t}=await U.get(`/persons/${e}`);return t},create:async e=>{const{data:t}=await U.post("/persons",e);return t},update:async(e,t)=>{const{data:n}=await U.put(`/persons/${e}`,t);return n},delete:async e=>{await U.delete(`/persons/${e}`)}},zr={getAll:async e=>{const{data:t}=await U.get("/artifacts",{params:e});return t},getById:async e=>{const{data:t}=await U.get(`/artifacts/${e}`);return t},create:async e=>{const{data:t}=await U.post("/artifacts",e);return t},update:async(e,t)=>{const{data:n}=await U.put(`/artifacts/${e}`,t);return n},delete:async e=>{await U.delete(`/artifacts/${e}`)}},xs={getAll:async e=>{const{data:t}=await U.get("/synchronicities",{params:e});return t},getById:async e=>{const{data:t}=await U.get(`/synchronicities/${e}`);return t},create:async e=>{const{data:t}=await U.post("/synchronicities",e);return t},update:async(e,t)=>{const{data:n}=await U.put(`/synchronicities/${e}`,t);return n},delete:async e=>{await U.delete(`/synchronicities/${e}`)}},vE={get:async e=>{const{data:t}=await U.get("/timeline",{params:e});return t}},wE={search:async(e,t)=>{const{data:n}=await U.get("/search",{params:{q:e,type:t}});return n}},ww={getChapters:async()=>{const{data:e}=await U.get("/narrative/chapters");return e},getChapter:async e=>{const{data:t}=await U.get(`/narrative/chapters/${e}`);return t}},pu={getStats:async()=>{const{data:e}=await U.get("/export/stats");return e},downloadJson:()=>{window.open("/api/export/json","_blank")},downloadMarkdown:()=>{window.open("/api/export/markdown","_blank")}},Tr={getAll:async()=>{const{data:e}=await U.get("/tags");return e},getById:async e=>{const{data:t}=await U.get(`/tags/${e}`);return t},create:async e=>{const{data:t}=await U.post("/tags",e);return t},update:async(e,t)=>{const{data:n}=await U.put(`/tags/${e}`,t);return n},delete:async e=>{await U.delete(`/tags/${e}`)},linkToEvent:async(e,t)=>{const{data:n}=await U.post(`/tags/${e}/events/${t}`);return n},unlinkFromEvent:async(e,t)=>{await U.delete(`/tags/${e}/events/${t}`)}},cn={getAll:async()=>{const{data:e}=await U.get("/collections");return e},getById:async e=>{const{data:t}=await U.get(`/collections/${e}`);return t},create:async e=>{const{data:t}=await U.post("/collections",e);return t},update:async(e,t)=>{const{data:n}=await U.put(`/collections/${e}`,t);return n},delete:async e=>{await U.delete(`/collections/${e}`)},addEvent:async(e,t)=>{const{data:n}=await U.post(`/collections/${e}/events/${t}`);return n},removeEvent:async(e,t)=>{await U.delete(`/collections/${e}/events/${t}`)},addArtifact:async(e,t)=>{const{data:n}=await U.post(`/collections/${e}/artifacts/${t}`);return n},removeArtifact:async(e,t)=>{await U.delete(`/collections/${e}/artifacts/${t}`)},addPerson:async(e,t)=>{const{data:n}=await U.post(`/collections/${e}/persons/${t}`);return n},removePerson:async(e,t)=>{await U.delete(`/collections/${e}/persons/${t}`)}},jE={filter:async e=>{const{data:t}=await U.post("/search/filter",e);return t}},NE={uploadAudio:async(e,t,n)=>{const r=new FormData;r.append("audio",e),t&&r.append("shortDescription",t),n&&r.append("sourceSystem",n);const{data:i}=await U.post("/uploads/audio",r,{headers:{"Content-Type":"multipart/form-data"}});return i},uploadAudioBatch:async(e,t)=>{const n=new FormData;e.forEach(i=>n.append("audio",i)),t&&n.append("sourceSystem",t);const{data:r}=await U.post("/uploads/audio/batch",n,{headers:{"Content-Type":"multipart/form-data"}});return r},getAudioUrl:e=>`${U.defaults.baseURL}/uploads/${e}`},gu={getInstructions:async()=>{const{data:e}=await U.get("/messenger-import/instructions");return e},parse:async e=>{const t=new FormData;t.append("file",e);const{data:n}=await U.post("/messenger-import/parse",t,{headers:{"Content-Type":"multipart/form-data"}});return n},import:async(e,t)=>{const n=new FormData;n.append("file",e),n.append("createPeople",String(t.createPeople??!0)),n.append("createArtifact",String(t.createArtifact??!0)),n.append("groupByDay",String(t.groupByDay??!0));const{data:r}=await U.post("/messenger-import/import",n,{headers:{"Content-Type":"multipart/form-data"}});return r}},ar={linkPersonToEvent:async(e,t)=>{const{data:n}=await U.post(`/events/${e}/persons/${t}`);return n},unlinkPersonFromEvent:async(e,t)=>{await U.delete(`/events/${e}/persons/${t}`)},linkSongToEvent:async(e,t)=>{const{data:n}=await U.post(`/events/${e}/songs/${t}`);return n},unlinkSongFromEvent:async(e,t)=>{await U.delete(`/events/${e}/songs/${t}`)},linkArtifactToEvent:async(e,t)=>{const{data:n}=await U.post(`/events/${e}/artifacts/${t}`);return n},unlinkArtifactFromEvent:async(e,t)=>{await U.delete(`/events/${e}/artifacts/${t}`)},linkSynchronicityToEvent:async(e,t)=>{const{data:n}=await U.post(`/events/${e}/synchronicities/${t}`);return n},unlinkSynchronicityFromEvent:async(e,t)=>{await U.delete(`/events/${e}/synchronicities/${t}`)},linkPersonToArtifact:async(e,t)=>{const{data:n}=await U.post(`/artifacts/${e}/persons/${t}`);return n},unlinkPersonFromArtifact:async(e,t)=>{await U.delete(`/artifacts/${e}/persons/${t}`)}};var bE=Symbol.for("react.lazy"),Ql=Xl[" use ".trim().toString()];function SE(e){return typeof e=="object"&&e!==null&&"then"in e}function jw(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===bE&&"_payload"in e&&SE(e._payload)}function Nw(e){const t=kE(e),n=p.forwardRef((r,i)=>{let{children:o,...a}=r;jw(o)&&typeof Ql=="function"&&(o=Ql(o._payload));const l=p.Children.toArray(o),c=l.find(TE);if(c){const u=c.props.children,h=l.map(d=>d===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:d);return s.jsx(t,{...a,ref:i,children:p.isValidElement(u)?p.cloneElement(u,void 0,h):null})}return s.jsx(t,{...a,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}var CE=Nw("Slot");function kE(e){const t=p.forwardRef((n,r)=>{let{children:i,...o}=n;if(jw(i)&&typeof Ql=="function"&&(i=Ql(i._payload)),p.isValidElement(i)){const a=RE(i),l=PE(o,i.props);return i.type!==p.Fragment&&(l.ref=r?ca(r,a):a),p.cloneElement(i,l)}return p.Children.count(i)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var EE=Symbol("radix.slottable");function TE(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===EE}function PE(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...l)=>{const c=o(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function RE(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const $p=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Up=sv,Sf=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Up(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=t,a=Object.keys(i).map(u=>{const h=n==null?void 0:n[u],d=o==null?void 0:o[u];if(h===null)return null;const g=$p(h)||$p(d);return i[u][g]}),l=n&&Object.entries(n).reduce((u,h)=>{let[d,g]=h;return g===void 0||(u[d]=g),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:d,className:g,...j}=h;return Object.entries(j).every(w=>{let[x,f]=w;return Array.isArray(f)?f.includes({...o,...l}[x]):{...o,...l}[x]===f})?[...u,d,g]:u},[]);return Up(e,a,c,n==null?void 0:n.class,n==null?void 0:n.className)},AE=Sf("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),E=p.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},o)=>{const a=r?CE:"button";return s.jsx(a,{className:Ie(AE({variant:t,size:n,className:e})),ref:o,...i})});E.displayName="Button";function OE(){try{const e=localStorage.getItem("memoirark-last-session");if(e)return JSON.parse(e)}catch{}return null}function IE({onClose:e}){const t=nt(),[n,r]=p.useState(!0),i=OE(),{data:o}=re({queryKey:["stats"],queryFn:vw.getStats}),a=!o||o.events===0&&o.chapters===0,l=i&&(i.eventsCreated>0||i.eventsEdited>0||i.peopleAdded>0||i.artifactsAdded>0),c=()=>{r(!1),e()},u=()=>{r(!1),e(),t("/events/new")};return n?s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:c}),s.jsx("div",{className:"relative z-10 w-full max-w-lg mx-4 animate-float",style:{animation:"none"},children:s.jsxs("div",{className:"bg-card rounded-2xl shadow-2xl overflow-hidden border border-border/30",children:[s.jsxs("div",{className:"bg-gradient-to-br from-primary/10 via-accent/10 to-rose-500/5 p-8 text-center relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-card/50 to-transparent"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-br from-primary/20 to-accent/20 mb-4 animate-breathe",children:s.jsx(oi,{className:"w-8 h-8 text-primary"})}),s.jsx("h1",{className:"text-3xl font-display text-foreground mb-2",children:a?"Your Story Begins Here":"Welcome Back, Storyteller"}),s.jsx("p",{className:"text-muted-foreground text-lg",children:a?"Every life is a story worth telling":"Your memoir awaits you"})]})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[!a&&o&&s.jsxs("div",{className:"bg-gradient-to-br from-muted/50 to-muted/30 rounded-xl p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-foreground",children:[s.jsx(nv,{className:"w-4 h-4 text-primary"}),"Your Story So Far"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Moments"}),s.jsx("span",{className:"font-semibold text-primary",children:o.events})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"People"}),s.jsx("span",{className:"font-semibold text-accent",children:o.persons})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Chapters"}),s.jsx("span",{className:"font-semibold text-primary",children:o.chapters})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Treasures"}),s.jsx("span",{className:"font-semibold text-accent",children:o.artifacts})]})]})]}),l&&i&&s.jsxs("div",{className:"bg-gradient-to-br from-accent/10 to-primary/5 rounded-xl p-4 space-y-2",children:[s.jsxs("div",{className:"text-sm font-medium text-foreground flex items-center gap-2",children:[s.jsx(ht,{className:"w-4 h-4 text-accent"}),"Last time you were here..."]}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[i.eventsCreated>0&&s.jsxs("li",{children:["You captured ",i.eventsCreated," ",i.eventsCreated>1?"moments":"moment",i.lastEventTitle&&s.jsxs("span",{className:"italic text-foreground/70",children:['  "',i.lastEventTitle,'"']})]}),i.eventsEdited>0&&s.jsxs("li",{children:["You refined ",i.eventsEdited," ",i.eventsEdited>1?"memories":"memory"]}),i.peopleAdded>0&&s.jsxs("li",{children:["You remembered ",i.peopleAdded," ",i.peopleAdded>1?"people":"person"]}),i.artifactsAdded>0&&s.jsxs("li",{children:["You preserved ",i.artifactsAdded," ",i.artifactsAdded>1?"treasures":"treasure"]}),i.lastChapterViewed&&s.jsxs("li",{children:['You were exploring "',i.lastChapterViewed,'"']})]})]}),a&&s.jsxs("div",{className:"text-center py-4 space-y-2",children:[s.jsx("p",{className:"text-foreground font-medium",children:"Ready to begin?"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Start with a single memorya moment that shaped you,",s.jsx("br",{}),"a person who mattered, a day you'll never forget."]})]})]}),s.jsx("div",{className:"p-6 pt-0 flex gap-3",children:a?s.jsxs(E,{onClick:u,className:"flex-1 h-12 text-base bg-gradient-to-r from-primary to-primary/90 hover:from-primary/90 hover:to-primary shadow-lg shadow-primary/20",children:["Begin My Story",s.jsx(oi,{className:"ml-2 w-4 h-4"})]}):s.jsxs(s.Fragment,{children:[s.jsx(E,{variant:"outline",onClick:c,className:"flex-1 h-12",children:"Continue"}),s.jsxs(E,{onClick:()=>{c(),t("/events/new")},className:"flex-1 h-12 bg-gradient-to-r from-primary to-primary/90",children:["Capture a Moment",s.jsx(oi,{className:"ml-2 w-4 h-4"})]})]})})]})})]}):null}const lo=[{target:'[data-tour="dashboard"]',title:"Your Dashboard",description:"This is your home base. See stats about your memoir at a glanceevents recorded, people mentioned, chapters written.",icon:wt,route:"/"},{target:'[data-tour="timeline"]',title:"Timeline View",description:"See your life events arranged chronologically. Watch your story unfold across the years.",icon:mc},{target:'[data-tour="events"]',title:"Events",description:"The heart of your memoir. Each event is a momenta memory, a turning point, a quiet afternoon that changed everything.",icon:He},{target:'[data-tour="chapters"]',title:"Chapters",description:"Organize your events into chapters. Structure your story the way you want it told.",icon:wt},{target:'[data-tour="people"]',title:"People",description:"The cast of your life. Parents, friends, lovers, mentorseveryone who shaped your journey.",icon:jt},{target:'[data-tour="artifacts"]',title:"Artifacts",description:"Photos, letters, recordings, documents. The tangible pieces of your past.",icon:dt},{target:'[data-tour="synchronicities"]',title:"Synchronicities",description:"Those meaningful coincidences. Patterns that emerged. Moments when the universe seemed to wink.",icon:ht},{target:'[data-tour="tags"]',title:"Tags",description:"Label your events with emotions, themes, or any category that helps you find patterns.",icon:Ui},{target:'[data-tour="collections"]',title:"Collections",description:"Group related events, people, and artifacts together. Create thematic bundles of your story.",icon:la},{target:'[data-tour="search"]',title:"Search",description:"Find anything in your memoir. Search across all your events, people, and artifacts.",icon:Zn}];function LE({onComplete:e}){const t=nt(),[n,r]=p.useState(0),[i,o]=p.useState(null),[a,l]=p.useState(!0),c=lo[n],u=p.useCallback(()=>{const f=document.querySelector(c.target);f&&o(f.getBoundingClientRect())},[c.target]);p.useEffect(()=>{c.route&&t(c.route);const f=setTimeout(u,100);return window.addEventListener("resize",u),window.addEventListener("scroll",u),()=>{clearTimeout(f),window.removeEventListener("resize",u),window.removeEventListener("scroll",u)}},[c,t,u]);const h=()=>{n<lo.length-1?r(n+1):g()},d=()=>{n>0&&r(n-1)},g=()=>{l(!1),localStorage.setItem("memoirark-tour-completed","true"),e()},j=()=>{g()};if(!a)return null;const w=c.icon,x=n===lo.length-1;return s.jsxs("div",{className:"fixed inset-0 z-[100]",children:[s.jsxs("svg",{className:"absolute inset-0 w-full h-full",children:[s.jsx("defs",{children:s.jsxs("mask",{id:"spotlight-mask",children:[s.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"white"}),i&&s.jsx("rect",{x:i.left-8,y:i.top-8,width:i.width+16,height:i.height+16,rx:"12",fill:"black"})]})}),s.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"rgba(0, 0, 0, 0.75)",mask:"url(#spotlight-mask)"})]}),i&&s.jsx("div",{className:"absolute border-2 border-primary rounded-xl pointer-events-none animate-pulse",style:{left:i.left-8,top:i.top-8,width:i.width+16,height:i.height+16}}),s.jsxs("div",{className:"absolute bg-card rounded-2xl shadow-2xl border border-border/50 w-80 p-0 overflow-hidden",style:{left:i?Math.min(i.left,window.innerWidth-340):"50%",top:i?i.bottom+20:"50%",transform:i?"none":"translate(-50%, -50%)"},children:[s.jsxs("div",{className:"bg-gradient-to-br from-primary/10 via-accent/5 to-transparent p-4 flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(w,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:c.title}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:["Step ",n+1," of ",lo.length]})]}),s.jsx("button",{onClick:j,className:"text-muted-foreground hover:text-foreground transition-colors p-1",children:s.jsx(Ke,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"p-4 pt-2",children:s.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:c.description})}),s.jsx("div",{className:"flex justify-center gap-1.5 pb-3",children:lo.map((f,m)=>s.jsx("button",{onClick:()=>r(m),className:`w-2 h-2 rounded-full transition-all ${m===n?"bg-primary w-4":m<n?"bg-primary/50":"bg-muted-foreground/30"}`},m))}),s.jsxs("div",{className:"p-4 pt-0 flex gap-2",children:[n>0&&s.jsxs(E,{variant:"outline",size:"sm",onClick:d,className:"flex-1",children:[s.jsx(Ot,{className:"w-4 h-4 mr-1"}),"Back"]}),s.jsx(E,{size:"sm",onClick:h,className:n===0?"w-full":"flex-1",children:x?s.jsxs(s.Fragment,{children:["Build Your Ark",s.jsx(wt,{className:"w-4 h-4 ml-1"})]}):s.jsxs(s.Fragment,{children:["Next",s.jsx(ks,{className:"w-4 h-4 ml-1"})]})})]})]})]})}function ME(){const[e,t]=p.useState(!1);return p.useEffect(()=>{if(!localStorage.getItem("memoirark-tour-completed")){const a=setTimeout(()=>t(!0),500);return()=>clearTimeout(a)}},[]),{showTour:e,startTour:()=>t(!0),endTour:()=>t(!1),resetTour:()=>{localStorage.removeItem("memoirark-tour-completed"),t(!0)}}}const $a={"/":[{message:"I am Noah. I have been appointed to guide you in preserving your story. Your memories are precious cargolet us build your ark together.",mood:"welcoming"},{message:"Every journey of a thousand miles begins with a single step. Create your first event, and we shall begin.",mood:"encouraging"},{message:"The rains will come and go, but your story will endure. Let us make it worthy of preservation.",mood:"serious"}],"/events":[{message:"Events are the timbers of your ark. Each one strengthens the vessel that carries your legacy.",mood:"serious"},{message:"Mark your most transformative moments as Keystone events. These are the pillars of your narrative.",mood:"encouraging"},{message:"Do not rush. A well-built ark takes time. Record each event with the care it deserves.",mood:"thinking"}],"/events/new":[{message:"What memory do you bring to me today? Speak it plainly, and I shall help you preserve it.",mood:"welcoming"},{message:"The details matter. Where were you? Who was there? How did it change you?",mood:"thinking"},{message:"I will suggest tags to help organize your thoughts. Trust the process.",mood:"encouraging"}],"/people":[{message:"No one builds an ark alone. Who are the souls that have shaped your journey?",mood:"thinking"},{message:"Some people are pillars, others are passing waves. Both matter to your story.",mood:"serious"}],"/people/new":[{message:"Tell me of this person. What role did they play in the chapters of your life?",mood:"welcoming"},{message:"Even those who wounded you deserve a place in your record. Truth is the foundation of memoir.",mood:"serious"}],"/artifacts":[{message:"These are your relicsthe physical evidence of a life lived. Guard them well.",mood:"serious"},{message:"A photograph, a letter, a recording... each one is a window to the past.",mood:"thinking"}],"/upload":[{message:"You bring me recordings. Good. The voice carries truths that words on paper cannot.",mood:"pleased"},{message:"Once processed, I will help you extract the meaning from these sounds.",mood:"encouraging"}],"/chapters":[{message:"Chapters are the rooms of your ark. How shall we arrange them?",mood:"thinking"},{message:"Some organize by time, others by theme. There is wisdom in both approaches.",mood:"serious"}],"/timeline":[{message:"Behold your life laid out before you. What patterns do you see?",mood:"serious"},{message:"The gaps in your timeline are not emptythey are memories waiting to surface.",mood:"thinking"}],"/synchronicities":[{message:"Ah, the mysterious threads that connect seemingly unrelated events. I know them well.",mood:"thinking"},{message:"Dreams, signs, meaningful coincidencesthe universe speaks to those who listen.",mood:"serious"}],"/search":[{message:"What do you seek? Speak, and I shall help you find it within your archive.",mood:"welcoming"},{message:"Search by emotion, by person, by place. Your memories are organized and waiting.",mood:"encouraging"}],"/export":[{message:"The time has come to share your story with the world. Are you ready?",mood:"serious"},{message:"Export your work and take it to the next stage. Your memoir awaits its final form.",mood:"encouraging"}],"/guide":[{message:"Wisdom is knowing what you do not know. You have come to the right place.",mood:"pleased"},{message:"Study these instructions well. I am always here when you need guidance.",mood:"welcoming"}]},DE=[{message:"I am here when you need me. Simply call upon me.",mood:"welcoming"},{message:"Every memory matters, no matter how small it may seem.",mood:"thinking"},{message:"Have you connected your events to the people and artifacts involved?",mood:"encouraging"},{message:"Use tags to track the emotional currents that run through your story.",mood:"thinking"},{message:"The best memoirs are built on honesty. Do not shy away from difficult truths.",mood:"serious"}];function Wp({mood:e,className:t=""}){const n={welcoming:"M32 38 Q35 34 38 38 M52 38 Q55 34 58 38",thinking:"M32 37 L38 37 M52 37 L58 37",encouraging:"M32 38 Q35 33 38 38 M52 38 Q55 33 58 38",serious:"M32 38 L38 38 M52 38 L58 38",pleased:"M32 39 Q35 35 38 39 M52 39 Q55 35 58 39"},r={welcoming:"M30 32 Q35 30 40 32 M50 32 Q55 30 60 32",thinking:"M30 31 L40 33 M50 33 L60 31",encouraging:"M30 31 Q35 29 40 31 M50 31 Q55 29 60 31",serious:"M30 33 L40 31 M50 31 L60 33",pleased:"M30 32 Q35 31 40 32 M50 32 Q55 31 60 32"},i={welcoming:"M38 62 Q45 68 52 62",thinking:"M40 64 Q45 62 50 64",encouraging:"M36 61 Q45 70 54 61",serious:"M40 64 L50 64",pleased:"M38 62 Q45 69 52 62"};return s.jsx("div",{className:`relative flex items-center justify-center ${t}`,children:s.jsxs("svg",{viewBox:"0 0 90 100",className:"w-full h-full",children:[s.jsx("circle",{cx:"45",cy:"45",r:"42",fill:"#E8DCC8"}),s.jsx("path",{d:"M10 40 Q10 10 45 5 Q80 10 80 40 L82 55 Q75 60 45 62 Q15 60 8 55 Z",fill:"#D4C4A8"}),s.jsx("path",{d:"M12 42 Q28 35 45 33 Q62 35 78 42",stroke:"#8B6914",strokeWidth:"3",fill:"none"}),s.jsx("ellipse",{cx:"45",cy:"48",rx:"25",ry:"28",fill:"#F5DEB3"}),s.jsx("path",{d:"M25 55 Q22 70 28 85 Q38 95 45 96 Q52 95 62 85 Q68 70 65 55 Q55 50 45 48 Q35 50 25 55",fill:"#9CA3AF"}),s.jsx("path",{d:"M30 60 Q32 75 35 85 M45 55 L45 90 M60 60 Q58 75 55 85",stroke:"#6B7280",strokeWidth:"1",fill:"none",opacity:"0.5"}),s.jsx("path",{d:n[e],stroke:"#2D1B0E",strokeWidth:"2.5",strokeLinecap:"round",fill:"none"}),s.jsx("path",{d:r[e],stroke:"#6B7280",strokeWidth:"2",strokeLinecap:"round",fill:"none"}),s.jsx("path",{d:"M45 45 Q48 52 45 55",stroke:"#D4A574",strokeWidth:"2",strokeLinecap:"round",fill:"none"}),s.jsx("path",{d:i[e],stroke:"#8B4513",strokeWidth:"2",strokeLinecap:"round",fill:"none"})]})})}function FE(){const e=zi(),[t,n]=p.useState(!1),[r,i]=p.useState(null),[o,a]=p.useState(0),[l,c]=p.useState(new Set),u=()=>{const j=e.pathname;if($a[j])return $a[j];const w="/"+j.split("/")[1];return $a[w]?$a[w]:DE};p.useEffect(()=>{const j=u();!l.has(e.pathname)&&(c(x=>new Set([...x,e.pathname])),i(j[0]),a(0),n(!0))},[e.pathname]);const h=()=>{const j=u(),w=(o+1)%j.length;a(w),i(j[w])},d=()=>{n(!1)},g=()=>{const j=u();i(j[o]),n(!0)};return t?s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 animate-in fade-in duration-200",children:s.jsxs("div",{className:"bg-card border-2 border-primary/20 rounded-3xl shadow-2xl max-w-lg w-full mx-4 overflow-hidden animate-in zoom-in-95 duration-300",children:[s.jsx("button",{onClick:d,className:"absolute top-4 right-4 z-10 w-10 h-10 rounded-full bg-muted hover:bg-destructive hover:text-destructive-foreground transition-colors flex items-center justify-center",title:"Close",children:s.jsx(Ke,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex flex-col md:flex-row",children:[s.jsx("div",{className:"bg-gradient-to-br from-blue-50 via-amber-50 to-blue-100 dark:from-blue-950 dark:via-amber-950 dark:to-blue-900 p-6 flex items-center justify-center md:w-48",children:s.jsx(Wp,{mood:(r==null?void 0:r.mood)||"welcoming",className:"w-32 h-44"})}),s.jsxs("div",{className:"flex-1 p-6",children:[s.jsxs("div",{className:"mb-2",children:[s.jsx("h3",{className:"text-lg font-display font-semibold text-primary",children:"Noah"}),s.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Your Memoir Guide"})]}),s.jsx("div",{className:"min-h-[80px] mb-4",children:s.jsxs("p",{className:"text-base leading-relaxed font-narrative",children:['"',r==null?void 0:r.message,'"']})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(E,{variant:"outline",size:"sm",onClick:h,children:"Another Word"}),s.jsx(E,{size:"sm",onClick:d,children:"Continue"})]})]})]})]})}):s.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:s.jsx("button",{onClick:g,className:"w-14 h-14 rounded-full bg-gradient-to-br from-blue-100 to-amber-100 dark:from-blue-900 dark:to-amber-900 border-2 border-blue-300 dark:border-blue-600 shadow-lg hover:shadow-xl transition-all hover:scale-110 flex items-center justify-center overflow-hidden",title:"Summon Noah",children:s.jsx(Wp,{mood:"welcoming",className:"w-12 h-16"})})})}const _=p.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Ie("rounded-xl border bg-card text-card-foreground shadow",e),...t}));_.displayName="Card";const H=p.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Ie("flex flex-col space-y-1.5 p-6",e),...t}));H.displayName="CardHeader";const V=p.forwardRef(({className:e,...t},n)=>s.jsx("h3",{ref:n,className:Ie("font-semibold leading-none tracking-tight",e),...t}));V.displayName="CardTitle";const Et=p.forwardRef(({className:e,...t},n)=>s.jsx("p",{ref:n,className:Ie("text-sm text-muted-foreground",e),...t}));Et.displayName="CardDescription";const z=p.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Ie("p-6 pt-0",e),...t}));z.displayName="CardContent";const _E=p.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Ie("flex items-center p-6 pt-0",e),...t}));_E.displayName="CardFooter";const Bp=[{text:"Every life is a story worth telling.",author:"Unknown"},{text:"The unexamined life is not worth living.",author:"Socrates"},{text:"We write to taste life twice.",author:"Anas Nin"},{text:"Your story matters. Tell it.",author:"Unknown"},{text:"Memory is the diary we all carry about with us.",author:"Oscar Wilde"}];function zE(){const{data:e,isLoading:t}=re({queryKey:["stats"],queryFn:vw.getStats}),n=Bp[Math.floor(Date.now()/864e5)%Bp.length],r=[{title:"Talk with Noah",description:"Your story guide awaits",icon:ht,href:"/wizard",color:"bg-gradient-to-br from-amber-500/20 to-orange-500/20 text-amber-600 dark:text-amber-400",featured:!0},{title:"Capture a Moment",description:"A memory waiting to be told",icon:oi,href:"/events/new",color:"bg-gradient-to-br from-violet-500/15 to-purple-500/15 text-violet-600 dark:text-violet-400"},{title:"Add Someone Special",description:"The people who shaped you",icon:nv,href:"/people/new",color:"bg-gradient-to-br from-rose-500/15 to-pink-500/15 text-rose-600 dark:text-rose-400"},{title:"Upload Audio",description:"Voices and conversations",icon:Es,href:"/upload",color:"bg-gradient-to-br from-emerald-500/15 to-teal-500/15 text-emerald-600 dark:text-emerald-400"},{title:"Add Artifact",description:"Photos, letters, treasures",icon:dt,href:"/artifacts/new",color:"bg-gradient-to-br from-sky-500/15 to-blue-500/15 text-sky-600 dark:text-sky-400"}],i=[{title:"Timeline",description:"Your journey through time",icon:mc,href:"/timeline"},{title:"Moments",description:`${(e==null?void 0:e.events)??0} memories captured`,icon:He,href:"/events"},{title:"People",description:`${(e==null?void 0:e.persons)??0} souls in your story`,icon:jt,href:"/people"},{title:"Chapters",description:`${(e==null?void 0:e.chapters)??0} chapters written`,icon:wt,href:"/chapters"},{title:"Artifacts",description:`${(e==null?void 0:e.artifacts)??0} treasures saved`,icon:dt,href:"/artifacts"},{title:"Synchronicities",description:`${(e==null?void 0:e.synchronicities)??0} meaningful connections`,icon:ht,href:"/synchronicities"}],o=[{title:"Search",description:"Find anything",icon:Zn,href:"/search"},{title:"Query Builder",description:"Advanced filters",icon:rf,href:"/query"},{title:"Tags",description:"Organize by theme",icon:Ui,href:"/tags"},{title:"Collections",description:"Group content",icon:la,href:"/collections"},{title:"Export",description:"Download memoir",icon:Qo,href:"/export"},{title:"User Guide",description:"How to use",icon:zl,href:"/guide"}];return s.jsxs("div",{className:"space-y-10",children:[s.jsxs("div",{className:"relative overflow-hidden rounded-2xl gradient-hero p-8 md:p-10",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/5 via-accent/5 to-transparent"}),s.jsxs("div",{className:"relative",children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-display text-foreground mb-2",children:"Welcome to MemoirArk"}),s.jsx("p",{className:"text-lg text-muted-foreground mb-6",children:"Where your story finds its voice"}),s.jsxs("blockquote",{className:"border-l-2 border-primary/40 pl-4 py-1",children:[s.jsxs("p",{className:"text-base md:text-lg font-narrative italic text-foreground/80",children:['"',n.text,'"']}),s.jsxs("footer",{className:"text-sm text-muted-foreground mt-1",children:[" ",n.author]})]})]}),!t&&e&&e.events>0&&s.jsxs("div",{className:"mt-6 pt-6 border-t border-border/50 flex flex-wrap gap-6 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-2xl font-display text-primary",children:e.events}),s.jsx("span",{className:"text-muted-foreground ml-2",children:"moments captured"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-2xl font-display text-accent",children:e.persons}),s.jsx("span",{className:"text-muted-foreground ml-2",children:"people remembered"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-2xl font-display text-primary",children:e.artifacts}),s.jsx("span",{className:"text-muted-foreground ml-2",children:"artifacts preserved"})]})]})]}),s.jsxs("section",{children:[s.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(oi,{className:"w-5 h-5 text-primary"}),"Begin Your Journey"]}),s.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-5",children:r.map(a=>{const l=a.icon;return s.jsx(X,{to:a.href,className:a.featured?"sm:col-span-2 lg:col-span-1":"",children:s.jsx(_,{className:`h-full transition-smooth hover:shadow-lg hover:-translate-y-1 cursor-pointer group border-transparent ${a.featured?"bg-gradient-to-br from-primary/10 via-accent/5 to-transparent ring-1 ring-primary/20":"hover:border-primary/30"}`,children:s.jsxs(z,{className:"pt-6",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl ${a.color} flex items-center justify-center mb-4 group-hover:scale-110 transition-transform`,children:s.jsx(l,{className:"w-6 h-6"})}),s.jsx("h3",{className:"font-semibold",children:a.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:a.description})]})})},a.href)})})]}),s.jsxs("section",{children:[s.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(wt,{className:"w-5 h-5 text-accent"}),"Explore Your Story"]}),s.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:i.map(a=>{const l=a.icon;return s.jsx(X,{to:a.href,children:s.jsx(_,{className:"hover:bg-muted/50 transition-colors cursor-pointer",children:s.jsxs(z,{className:"py-4 flex items-center gap-4",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center",children:s.jsx(l,{className:"w-5 h-5 text-muted-foreground"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-medium",children:a.title}),s.jsx("p",{className:"text-sm text-muted-foreground truncate",children:a.description})]}),s.jsx(ks,{className:"w-4 h-4 text-muted-foreground"})]})})},a.href)})})]}),s.jsxs("section",{children:[s.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Zn,{className:"w-5 h-5 text-muted-foreground"}),"Tools & Discovery"]}),s.jsx("div",{className:"grid gap-2 sm:grid-cols-2 lg:grid-cols-3",children:o.map(a=>{const l=a.icon;return s.jsx(X,{to:a.href,children:s.jsxs(E,{variant:"outline",className:"w-full justify-start h-auto py-3 px-4",children:[s.jsx(l,{className:"w-4 h-4 mr-3"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium",children:a.title}),s.jsx("div",{className:"text-xs text-muted-foreground",children:a.description})]})]})},a.href)})})]}),s.jsxs(_,{className:"bg-gradient-to-br from-primary/5 via-accent/5 to-transparent border-0 shadow-sm",children:[s.jsxs(H,{children:[s.jsx(V,{className:"text-lg font-display",children:"Your Story Awaits"}),s.jsx(Et,{children:"Every great memoir begins with a single memory"})]}),s.jsxs(z,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-primary/20 to-primary/10 text-primary flex items-center justify-center text-sm font-semibold flex-shrink-0",children:"1"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Let the memories flow"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Talk with Noah, add moments as they come, upload photos and recordings"})]})]}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-accent/20 to-accent/10 text-accent flex items-center justify-center text-sm font-semibold flex-shrink-0",children:"2"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Watch patterns emerge"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Connect people, places, and momentsyour story will reveal itself"})]})]}),s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-primary/20 to-accent/10 text-primary flex items-center justify-center text-sm font-semibold flex-shrink-0",children:"3"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Share your truth"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Export your memoir when you're readyor keep it just for you"})]})]})]})]})]})}function qp(e,[t,n]){return Math.min(n,Math.max(t,e))}function Hp(e){const t=$E(e),n=p.forwardRef((r,i)=>{const{children:o,...a}=r,l=p.Children.toArray(o),c=l.find(WE);if(c){const u=c.props.children,h=l.map(d=>d===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:d);return s.jsx(t,{...a,ref:i,children:p.isValidElement(u)?p.cloneElement(u,void 0,h):null})}return s.jsx(t,{...a,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function $E(e){const t=p.forwardRef((n,r)=>{const{children:i,...o}=n;if(p.isValidElement(i)){const a=qE(i),l=BE(o,i.props);return i.type!==p.Fragment&&(l.ref=r?ca(r,a):a),p.cloneElement(i,l)}return p.Children.count(i)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var UE=Symbol("radix.slottable");function WE(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===UE}function BE(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...l)=>{const c=o(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function qE(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function HE(e){const t=e+"CollectionProvider",[n,r]=ua(t),[i,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=x=>{const{scope:f,children:m}=x,y=Dn.useRef(null),v=Dn.useRef(new Map).current;return s.jsx(i,{scope:f,itemMap:v,collectionRef:y,children:m})};a.displayName=t;const l=e+"CollectionSlot",c=Hp(l),u=Dn.forwardRef((x,f)=>{const{scope:m,children:y}=x,v=o(l,m),N=De(f,v.collectionRef);return s.jsx(c,{ref:N,children:y})});u.displayName=l;const h=e+"CollectionItemSlot",d="data-radix-collection-item",g=Hp(h),j=Dn.forwardRef((x,f)=>{const{scope:m,children:y,...v}=x,N=Dn.useRef(null),b=De(f,N),k=o(h,m);return Dn.useEffect(()=>(k.itemMap.set(N,{ref:N,...v}),()=>void k.itemMap.delete(N))),s.jsx(g,{[d]:"",ref:b,children:y})});j.displayName=h;function w(x){const f=o(e+"CollectionConsumer",x);return Dn.useCallback(()=>{const y=f.collectionRef.current;if(!y)return[];const v=Array.from(y.querySelectorAll(`[${d}]`));return Array.from(f.itemMap.values()).sort((k,C)=>v.indexOf(k.ref.current)-v.indexOf(C.ref.current))},[f.collectionRef,f.itemMap])}return[{Provider:a,Slot:u,ItemSlot:j},w,r]}var VE=p.createContext(void 0);function QE(e){const t=p.useContext(VE);return e||t||"ltr"}var yu=0;function KE(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Vp()),document.body.insertAdjacentElement("beforeend",e[1]??Vp()),yu++,()=>{yu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),yu--}},[])}function Vp(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var xu="focusScope.autoFocusOnMount",vu="focusScope.autoFocusOnUnmount",Qp={bubbles:!1,cancelable:!0},YE="FocusScope",bw=p.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...a}=e,[l,c]=p.useState(null),u=Ts(i),h=Ts(o),d=p.useRef(null),g=De(t,x=>c(x)),j=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let x=function(v){if(j.paused||!l)return;const N=v.target;l.contains(N)?d.current=N:cr(d.current,{select:!0})},f=function(v){if(j.paused||!l)return;const N=v.relatedTarget;N!==null&&(l.contains(N)||cr(d.current,{select:!0}))},m=function(v){if(document.activeElement===document.body)for(const b of v)b.removedNodes.length>0&&cr(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",f);const y=new MutationObserver(m);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",f),y.disconnect()}}},[r,l,j.paused]),p.useEffect(()=>{if(l){Yp.add(j);const x=document.activeElement;if(!l.contains(x)){const m=new CustomEvent(xu,Qp);l.addEventListener(xu,u),l.dispatchEvent(m),m.defaultPrevented||(GE(tT(Sw(l)),{select:!0}),document.activeElement===x&&cr(l))}return()=>{l.removeEventListener(xu,u),setTimeout(()=>{const m=new CustomEvent(vu,Qp);l.addEventListener(vu,h),l.dispatchEvent(m),m.defaultPrevented||cr(x??document.body,{select:!0}),l.removeEventListener(vu,h),Yp.remove(j)},0)}}},[l,u,h,j]);const w=p.useCallback(x=>{if(!n&&!r||j.paused)return;const f=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,m=document.activeElement;if(f&&m){const y=x.currentTarget,[v,N]=XE(y);v&&N?!x.shiftKey&&m===N?(x.preventDefault(),n&&cr(v,{select:!0})):x.shiftKey&&m===v&&(x.preventDefault(),n&&cr(N,{select:!0})):m===y&&x.preventDefault()}},[n,r,j.paused]);return s.jsx(Te.div,{tabIndex:-1,...a,ref:g,onKeyDown:w})});bw.displayName=YE;function GE(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(cr(r,{select:t}),document.activeElement!==n)return}function XE(e){const t=Sw(e),n=Kp(t,e),r=Kp(t.reverse(),e);return[n,r]}function Sw(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Kp(e,t){for(const n of e)if(!JE(n,{upTo:t}))return n}function JE(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function ZE(e){return e instanceof HTMLInputElement&&"select"in e}function cr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&ZE(e)&&t&&e.select()}}var Yp=eT();function eT(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Gp(e,t),e.unshift(t)},remove(t){var n;e=Gp(e,t),(n=e[0])==null||n.resume()}}}function Gp(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function tT(e){return e.filter(t=>t.tagName!=="A")}function nT(e){const t=rT(e),n=p.forwardRef((r,i)=>{const{children:o,...a}=r,l=p.Children.toArray(o),c=l.find(iT);if(c){const u=c.props.children,h=l.map(d=>d===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:d);return s.jsx(t,{...a,ref:i,children:p.isValidElement(u)?p.cloneElement(u,void 0,h):null})}return s.jsx(t,{...a,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function rT(e){const t=p.forwardRef((n,r)=>{const{children:i,...o}=n;if(p.isValidElement(i)){const a=aT(i),l=oT(o,i.props);return i.type!==p.Fragment&&(l.ref=r?ca(r,a):a),p.cloneElement(i,l)}return p.Children.count(i)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var sT=Symbol("radix.slottable");function iT(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===sT}function oT(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...l)=>{const c=o(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function aT(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Cw(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var lT=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},_s=new WeakMap,Ua=new WeakMap,Wa={},wu=0,kw=function(e){return e&&(e.host||kw(e.parentNode))},cT=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=kw(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},uT=function(e,t,n,r){var i=cT(t,Array.isArray(e)?e:[e]);Wa[n]||(Wa[n]=new WeakMap);var o=Wa[n],a=[],l=new Set,c=new Set(i),u=function(d){!d||l.has(d)||(l.add(d),u(d.parentNode))};i.forEach(u);var h=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(g){if(l.has(g))h(g);else try{var j=g.getAttribute(r),w=j!==null&&j!=="false",x=(_s.get(g)||0)+1,f=(o.get(g)||0)+1;_s.set(g,x),o.set(g,f),a.push(g),x===1&&w&&Ua.set(g,!0),f===1&&g.setAttribute(n,"true"),w||g.setAttribute(r,"true")}catch(m){console.error("aria-hidden: cannot operate on ",g,m)}})};return h(t),l.clear(),wu++,function(){a.forEach(function(d){var g=_s.get(d)-1,j=o.get(d)-1;_s.set(d,g),o.set(d,j),g||(Ua.has(d)||d.removeAttribute(r),Ua.delete(d)),j||d.removeAttribute(n)}),wu--,wu||(_s=new WeakMap,_s=new WeakMap,Ua=new WeakMap,Wa={})}},dT=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=lT(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),uT(r,i,n,"aria-hidden")):function(){return null}},kn=function(){return kn=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},kn.apply(this,arguments)};function Ew(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function hT(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var ul="right-scroll-bar-position",dl="width-before-scroll-bar",fT="with-scroll-bars-hidden",mT="--removed-body-scroll-bar-size";function ju(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function pT(e,t){var n=p.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var gT=typeof window<"u"?p.useLayoutEffect:p.useEffect,Xp=new WeakMap;function yT(e,t){var n=pT(null,function(r){return e.forEach(function(i){return ju(i,r)})});return gT(function(){var r=Xp.get(n);if(r){var i=new Set(r),o=new Set(e),a=n.current;i.forEach(function(l){o.has(l)||ju(l,null)}),o.forEach(function(l){i.has(l)||ju(l,a)})}Xp.set(n,e)},[e]),n}function xT(e){return e}function vT(e,t){t===void 0&&(t=xT);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var a=t(o,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(o){for(r=!0;n.length;){var a=n;n=[],a.forEach(o)}n={push:function(l){return o(l)},filter:function(){return n}}},assignMedium:function(o){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(o),a=n}var c=function(){var h=a;a=[],h.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(h){a.push(h),u()},filter:function(h){return a=a.filter(h),n}}}};return i}function wT(e){e===void 0&&(e={});var t=vT(null);return t.options=kn({async:!0,ssr:!1},e),t}var Tw=function(e){var t=e.sideCar,n=Ew(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,kn({},n))};Tw.isSideCarExport=!0;function jT(e,t){return e.useMedium(t),Tw}var Pw=wT(),Nu=function(){},Pc=p.forwardRef(function(e,t){var n=p.useRef(null),r=p.useState({onScrollCapture:Nu,onWheelCapture:Nu,onTouchMoveCapture:Nu}),i=r[0],o=r[1],a=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,h=e.enabled,d=e.shards,g=e.sideCar,j=e.noRelative,w=e.noIsolation,x=e.inert,f=e.allowPinchZoom,m=e.as,y=m===void 0?"div":m,v=e.gapMode,N=Ew(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=g,k=yT([n,t]),C=kn(kn({},N),i);return p.createElement(p.Fragment,null,h&&p.createElement(b,{sideCar:Pw,removeScrollBar:u,shards:d,noRelative:j,noIsolation:w,inert:x,setCallbacks:o,allowPinchZoom:!!f,lockRef:n,gapMode:v}),a?p.cloneElement(p.Children.only(l),kn(kn({},C),{ref:k})):p.createElement(y,kn({},C,{className:c,ref:k}),l))});Pc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Pc.classNames={fullWidth:dl,zeroRight:ul};var NT=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function bT(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=NT();return t&&e.setAttribute("nonce",t),e}function ST(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function CT(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var kT=function(){var e=0,t=null;return{add:function(n){e==0&&(t=bT())&&(ST(t,n),CT(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},ET=function(){var e=kT();return function(t,n){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Rw=function(){var e=ET(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},TT={left:0,top:0,right:0,gap:0},bu=function(e){return parseInt(e||"",10)||0},PT=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[bu(n),bu(r),bu(i)]},RT=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return TT;var t=PT(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},AT=Rw(),ci="data-scroll-locked",OT=function(e,t,n,r){var i=e.left,o=e.top,a=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(fT,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(ci,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ul,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(dl,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(ul," .").concat(ul,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(dl," .").concat(dl,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ci,`] {
    `).concat(mT,": ").concat(l,`px;
  }
`)},Jp=function(){var e=parseInt(document.body.getAttribute(ci)||"0",10);return isFinite(e)?e:0},IT=function(){p.useEffect(function(){return document.body.setAttribute(ci,(Jp()+1).toString()),function(){var e=Jp()-1;e<=0?document.body.removeAttribute(ci):document.body.setAttribute(ci,e.toString())}},[])},LT=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;IT();var o=p.useMemo(function(){return RT(i)},[i]);return p.createElement(AT,{styles:OT(o,!t,i,n?"":"!important")})},Kd=!1;if(typeof window<"u")try{var Ba=Object.defineProperty({},"passive",{get:function(){return Kd=!0,!0}});window.addEventListener("test",Ba,Ba),window.removeEventListener("test",Ba,Ba)}catch{Kd=!1}var zs=Kd?{passive:!1}:!1,MT=function(e){return e.tagName==="TEXTAREA"},Aw=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!MT(e)&&n[t]==="visible")},DT=function(e){return Aw(e,"overflowY")},FT=function(e){return Aw(e,"overflowX")},Zp=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=Ow(e,r);if(i){var o=Iw(e,r),a=o[1],l=o[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},_T=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},zT=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Ow=function(e,t){return e==="v"?DT(t):FT(t)},Iw=function(e,t){return e==="v"?_T(t):zT(t)},$T=function(e,t){return e==="h"&&t==="rtl"?-1:1},UT=function(e,t,n,r,i){var o=$T(e,window.getComputedStyle(t).direction),a=o*r,l=n.target,c=t.contains(l),u=!1,h=a>0,d=0,g=0;do{if(!l)break;var j=Iw(e,l),w=j[0],x=j[1],f=j[2],m=x-f-o*w;(w||m)&&Ow(e,l)&&(d+=m,g+=w);var y=l.parentNode;l=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(h&&Math.abs(d)<1||!h&&Math.abs(g)<1)&&(u=!0),u},qa=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},eg=function(e){return[e.deltaX,e.deltaY]},tg=function(e){return e&&"current"in e?e.current:e},WT=function(e,t){return e[0]===t[0]&&e[1]===t[1]},BT=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},qT=0,$s=[];function HT(e){var t=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),i=p.useState(qT++)[0],o=p.useState(Rw)[0],a=p.useRef(e);p.useEffect(function(){a.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var x=hT([e.lockRef.current],(e.shards||[]).map(tg),!0).filter(Boolean);return x.forEach(function(f){return f.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(f){return f.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=p.useCallback(function(x,f){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!a.current.allowPinchZoom;var m=qa(x),y=n.current,v="deltaX"in x?x.deltaX:y[0]-m[0],N="deltaY"in x?x.deltaY:y[1]-m[1],b,k=x.target,C=Math.abs(v)>Math.abs(N)?"h":"v";if("touches"in x&&C==="h"&&k.type==="range")return!1;var P=window.getSelection(),A=P&&P.anchorNode,O=A?A===k||A.contains(k):!1;if(O)return!1;var I=Zp(C,k);if(!I)return!0;if(I?b=C:(b=C==="v"?"h":"v",I=Zp(C,k)),!I)return!1;if(!r.current&&"changedTouches"in x&&(v||N)&&(r.current=b),!b)return!0;var M=r.current||b;return UT(M,f,x,M==="h"?v:N)},[]),c=p.useCallback(function(x){var f=x;if(!(!$s.length||$s[$s.length-1]!==o)){var m="deltaY"in f?eg(f):qa(f),y=t.current.filter(function(b){return b.name===f.type&&(b.target===f.target||f.target===b.shadowParent)&&WT(b.delta,m)})[0];if(y&&y.should){f.cancelable&&f.preventDefault();return}if(!y){var v=(a.current.shards||[]).map(tg).filter(Boolean).filter(function(b){return b.contains(f.target)}),N=v.length>0?l(f,v[0]):!a.current.noIsolation;N&&f.cancelable&&f.preventDefault()}}},[]),u=p.useCallback(function(x,f,m,y){var v={name:x,delta:f,target:m,should:y,shadowParent:VT(m)};t.current.push(v),setTimeout(function(){t.current=t.current.filter(function(N){return N!==v})},1)},[]),h=p.useCallback(function(x){n.current=qa(x),r.current=void 0},[]),d=p.useCallback(function(x){u(x.type,eg(x),x.target,l(x,e.lockRef.current))},[]),g=p.useCallback(function(x){u(x.type,qa(x),x.target,l(x,e.lockRef.current))},[]);p.useEffect(function(){return $s.push(o),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:g}),document.addEventListener("wheel",c,zs),document.addEventListener("touchmove",c,zs),document.addEventListener("touchstart",h,zs),function(){$s=$s.filter(function(x){return x!==o}),document.removeEventListener("wheel",c,zs),document.removeEventListener("touchmove",c,zs),document.removeEventListener("touchstart",h,zs)}},[]);var j=e.removeScrollBar,w=e.inert;return p.createElement(p.Fragment,null,w?p.createElement(o,{styles:BT(i)}):null,j?p.createElement(LT,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function VT(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const QT=jT(Pw,HT);var Lw=p.forwardRef(function(e,t){return p.createElement(Pc,kn({},e,{ref:t,sideCar:QT}))});Lw.classNames=Pc.classNames;var KT=[" ","Enter","ArrowUp","ArrowDown"],YT=[" ","Enter"],As="Select",[Rc,Ac,GT]=HE(As),[Qi]=ua(As,[GT,wc]),Oc=wc(),[XT,Gr]=Qi(As),[JT,ZT]=Qi(As),Mw=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:o,value:a,defaultValue:l,onValueChange:c,dir:u,name:h,autoComplete:d,disabled:g,required:j,form:w}=e,x=Oc(t),[f,m]=p.useState(null),[y,v]=p.useState(null),[N,b]=p.useState(!1),k=QE(u),[C,P]=Hl({prop:r,defaultProp:i??!1,onChange:o,caller:As}),[A,O]=Hl({prop:a,defaultProp:l,onChange:c,caller:As}),I=p.useRef(null),M=f?w||!!f.closest("form"):!0,[Y,q]=p.useState(new Set),ce=Array.from(Y).map(G=>G.props.value).join(";");return s.jsx(Lv,{...x,children:s.jsxs(XT,{required:j,scope:t,trigger:f,onTriggerChange:m,valueNode:y,onValueNodeChange:v,valueNodeHasChildren:N,onValueNodeHasChildrenChange:b,contentId:pc(),value:A,onValueChange:O,open:C,onOpenChange:P,dir:k,triggerPointerDownPosRef:I,disabled:g,children:[s.jsx(Rc.Provider,{scope:t,children:s.jsx(JT,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(G=>{q($=>new Set($).add(G))},[]),onNativeOptionRemove:p.useCallback(G=>{q($=>{const R=new Set($);return R.delete(G),R})},[]),children:n})}),M?s.jsxs(ij,{"aria-hidden":!0,required:j,tabIndex:-1,name:h,autoComplete:d,value:A,onChange:G=>O(G.target.value),disabled:g,form:w,children:[A===void 0?s.jsx("option",{value:""}):null,Array.from(Y)]},ce):null]})})};Mw.displayName=As;var Dw="SelectTrigger",Fw=p.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,o=Oc(n),a=Gr(Dw,n),l=a.disabled||r,c=De(t,a.onTriggerChange),u=Ac(n),h=p.useRef("touch"),[d,g,j]=aj(x=>{const f=u().filter(v=>!v.disabled),m=f.find(v=>v.value===a.value),y=lj(f,x,m);y!==void 0&&a.onValueChange(y.value)}),w=x=>{l||(a.onOpenChange(!0),j()),x&&(a.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return s.jsx(Mv,{asChild:!0,...o,children:s.jsx(Te.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":oj(a.value)?"":void 0,...i,ref:c,onClick:xe(i.onClick,x=>{x.currentTarget.focus(),h.current!=="mouse"&&w(x)}),onPointerDown:xe(i.onPointerDown,x=>{h.current=x.pointerType;const f=x.target;f.hasPointerCapture(x.pointerId)&&f.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(w(x),x.preventDefault())}),onKeyDown:xe(i.onKeyDown,x=>{const f=d.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&g(x.key),!(f&&x.key===" ")&&KT.includes(x.key)&&(w(),x.preventDefault())})})})});Fw.displayName=Dw;var _w="SelectValue",zw=p.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:a="",...l}=e,c=Gr(_w,n),{onValueNodeHasChildrenChange:u}=c,h=o!==void 0,d=De(t,c.onValueNodeChange);return ft(()=>{u(h)},[u,h]),s.jsx(Te.span,{...l,ref:d,style:{pointerEvents:"none"},children:oj(c.value)?s.jsx(s.Fragment,{children:a}):o})});zw.displayName=_w;var e4="SelectIcon",$w=p.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return s.jsx(Te.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});$w.displayName=e4;var t4="SelectPortal",Uw=e=>s.jsx(yf,{asChild:!0,...e});Uw.displayName=t4;var Os="SelectContent",Ww=p.forwardRef((e,t)=>{const n=Gr(Os,e.__scopeSelect),[r,i]=p.useState();if(ft(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?Di.createPortal(s.jsx(Bw,{scope:e.__scopeSelect,children:s.jsx(Rc.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),o):null}return s.jsx(qw,{...e,ref:t})});Ww.displayName=Os;var rn=10,[Bw,Xr]=Qi(Os),n4="SelectContentImpl",r4=nT("SelectContent.RemoveScroll"),qw=p.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:a,side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:d,collisionBoundary:g,collisionPadding:j,sticky:w,hideWhenDetached:x,avoidCollisions:f,...m}=e,y=Gr(Os,n),[v,N]=p.useState(null),[b,k]=p.useState(null),C=De(t,ee=>N(ee)),[P,A]=p.useState(null),[O,I]=p.useState(null),M=Ac(n),[Y,q]=p.useState(!1),ce=p.useRef(!1);p.useEffect(()=>{if(v)return dT(v)},[v]),KE();const G=p.useCallback(ee=>{const[be,...rt]=M().map(ye=>ye.ref.current),[je]=rt.slice(-1),ge=document.activeElement;for(const ye of ee)if(ye===ge||(ye==null||ye.scrollIntoView({block:"nearest"}),ye===be&&b&&(b.scrollTop=0),ye===je&&b&&(b.scrollTop=b.scrollHeight),ye==null||ye.focus(),document.activeElement!==ge))return},[M,b]),$=p.useCallback(()=>G([P,v]),[G,P,v]);p.useEffect(()=>{Y&&$()},[Y,$]);const{onOpenChange:R,triggerPointerDownPosRef:D}=y;p.useEffect(()=>{if(v){let ee={x:0,y:0};const be=je=>{var ge,ye;ee={x:Math.abs(Math.round(je.pageX)-(((ge=D.current)==null?void 0:ge.x)??0)),y:Math.abs(Math.round(je.pageY)-(((ye=D.current)==null?void 0:ye.y)??0))}},rt=je=>{ee.x<=10&&ee.y<=10?je.preventDefault():v.contains(je.target)||R(!1),document.removeEventListener("pointermove",be),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",be),document.addEventListener("pointerup",rt,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",be),document.removeEventListener("pointerup",rt,{capture:!0})}}},[v,R,D]),p.useEffect(()=>{const ee=()=>R(!1);return window.addEventListener("blur",ee),window.addEventListener("resize",ee),()=>{window.removeEventListener("blur",ee),window.removeEventListener("resize",ee)}},[R]);const[B,Q]=aj(ee=>{const be=M().filter(ge=>!ge.disabled),rt=be.find(ge=>ge.ref.current===document.activeElement),je=lj(be,ee,rt);je&&setTimeout(()=>je.ref.current.focus())}),ne=p.useCallback((ee,be,rt)=>{const je=!ce.current&&!rt;(y.value!==void 0&&y.value===be||je)&&(A(ee),je&&(ce.current=!0))},[y.value]),L=p.useCallback(()=>v==null?void 0:v.focus(),[v]),we=p.useCallback((ee,be,rt)=>{const je=!ce.current&&!rt;(y.value!==void 0&&y.value===be||je)&&I(ee)},[y.value]),Dt=r==="popper"?Yd:Hw,mt=Dt===Yd?{side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:d,collisionBoundary:g,collisionPadding:j,sticky:w,hideWhenDetached:x,avoidCollisions:f}:{};return s.jsx(Bw,{scope:n,content:v,viewport:b,onViewportChange:k,itemRefCallback:ne,selectedItem:P,onItemLeave:L,itemTextRefCallback:we,focusSelectedItem:$,selectedItemText:O,position:r,isPositioned:Y,searchRef:B,children:s.jsx(Lw,{as:r4,allowPinchZoom:!0,children:s.jsx(bw,{asChild:!0,trapped:y.open,onMountAutoFocus:ee=>{ee.preventDefault()},onUnmountAutoFocus:xe(i,ee=>{var be;(be=y.trigger)==null||be.focus({preventScroll:!0}),ee.preventDefault()}),children:s.jsx(lf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:ee=>ee.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:s.jsx(Dt,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:ee=>ee.preventDefault(),...m,...mt,onPlaced:()=>q(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...m.style},onKeyDown:xe(m.onKeyDown,ee=>{const be=ee.ctrlKey||ee.altKey||ee.metaKey;if(ee.key==="Tab"&&ee.preventDefault(),!be&&ee.key.length===1&&Q(ee.key),["ArrowUp","ArrowDown","Home","End"].includes(ee.key)){let je=M().filter(ge=>!ge.disabled).map(ge=>ge.ref.current);if(["ArrowUp","End"].includes(ee.key)&&(je=je.slice().reverse()),["ArrowUp","ArrowDown"].includes(ee.key)){const ge=ee.target,ye=je.indexOf(ge);je=je.slice(ye+1)}setTimeout(()=>G(je)),ee.preventDefault()}})})})})})})});qw.displayName=n4;var s4="SelectItemAlignedPosition",Hw=p.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,o=Gr(Os,n),a=Xr(Os,n),[l,c]=p.useState(null),[u,h]=p.useState(null),d=De(t,C=>h(C)),g=Ac(n),j=p.useRef(!1),w=p.useRef(!0),{viewport:x,selectedItem:f,selectedItemText:m,focusSelectedItem:y}=a,v=p.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&u&&x&&f&&m){const C=o.trigger.getBoundingClientRect(),P=u.getBoundingClientRect(),A=o.valueNode.getBoundingClientRect(),O=m.getBoundingClientRect();if(o.dir!=="rtl"){const ge=O.left-P.left,ye=A.left-ge,Ft=C.left-ye,xn=C.width+Ft,Ki=Math.max(xn,P.width),Yi=window.innerWidth-rn,Gi=qp(ye,[rn,Math.max(rn,Yi-Ki)]);l.style.minWidth=xn+"px",l.style.left=Gi+"px"}else{const ge=P.right-O.right,ye=window.innerWidth-A.right-ge,Ft=window.innerWidth-C.right-ye,xn=C.width+Ft,Ki=Math.max(xn,P.width),Yi=window.innerWidth-rn,Gi=qp(ye,[rn,Math.max(rn,Yi-Ki)]);l.style.minWidth=xn+"px",l.style.right=Gi+"px"}const I=g(),M=window.innerHeight-rn*2,Y=x.scrollHeight,q=window.getComputedStyle(u),ce=parseInt(q.borderTopWidth,10),G=parseInt(q.paddingTop,10),$=parseInt(q.borderBottomWidth,10),R=parseInt(q.paddingBottom,10),D=ce+G+Y+R+$,B=Math.min(f.offsetHeight*5,D),Q=window.getComputedStyle(x),ne=parseInt(Q.paddingTop,10),L=parseInt(Q.paddingBottom,10),we=C.top+C.height/2-rn,Dt=M-we,mt=f.offsetHeight/2,ee=f.offsetTop+mt,be=ce+G+ee,rt=D-be;if(be<=we){const ge=I.length>0&&f===I[I.length-1].ref.current;l.style.bottom="0px";const ye=u.clientHeight-x.offsetTop-x.offsetHeight,Ft=Math.max(Dt,mt+(ge?L:0)+ye+$),xn=be+Ft;l.style.height=xn+"px"}else{const ge=I.length>0&&f===I[0].ref.current;l.style.top="0px";const Ft=Math.max(we,ce+x.offsetTop+(ge?ne:0)+mt)+rt;l.style.height=Ft+"px",x.scrollTop=be-we+x.offsetTop}l.style.margin=`${rn}px 0`,l.style.minHeight=B+"px",l.style.maxHeight=M+"px",r==null||r(),requestAnimationFrame(()=>j.current=!0)}},[g,o.trigger,o.valueNode,l,u,x,f,m,o.dir,r]);ft(()=>v(),[v]);const[N,b]=p.useState();ft(()=>{u&&b(window.getComputedStyle(u).zIndex)},[u]);const k=p.useCallback(C=>{C&&w.current===!0&&(v(),y==null||y(),w.current=!1)},[v,y]);return s.jsx(o4,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:j,onScrollButtonChange:k,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:s.jsx(Te.div,{...i,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Hw.displayName=s4;var i4="SelectPopperPosition",Yd=p.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=rn,...o}=e,a=Oc(n);return s.jsx(Dv,{...a,...o,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Yd.displayName=i4;var[o4,Cf]=Qi(Os,{}),Gd="SelectViewport",Vw=p.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,o=Xr(Gd,n),a=Cf(Gd,n),l=De(t,o.onViewportChange),c=p.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(Rc.Slot,{scope:n,children:s.jsx(Te.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:xe(i.onScroll,u=>{const h=u.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:g}=a;if(g!=null&&g.current&&d){const j=Math.abs(c.current-h.scrollTop);if(j>0){const w=window.innerHeight-rn*2,x=parseFloat(d.style.minHeight),f=parseFloat(d.style.height),m=Math.max(x,f);if(m<w){const y=m+j,v=Math.min(w,y),N=y-v;d.style.height=v+"px",d.style.bottom==="0px"&&(h.scrollTop=N>0?N:0,d.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});Vw.displayName=Gd;var Qw="SelectGroup",[a4,l4]=Qi(Qw),c4=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=pc();return s.jsx(a4,{scope:n,id:i,children:s.jsx(Te.div,{role:"group","aria-labelledby":i,...r,ref:t})})});c4.displayName=Qw;var Kw="SelectLabel",Yw=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=l4(Kw,n);return s.jsx(Te.div,{id:i.id,...r,ref:t})});Yw.displayName=Kw;var Kl="SelectItem",[u4,Gw]=Qi(Kl),Xw=p.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...a}=e,l=Gr(Kl,n),c=Xr(Kl,n),u=l.value===r,[h,d]=p.useState(o??""),[g,j]=p.useState(!1),w=De(t,y=>{var v;return(v=c.itemRefCallback)==null?void 0:v.call(c,y,r,i)}),x=pc(),f=p.useRef("touch"),m=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(u4,{scope:n,value:r,disabled:i,textId:x,isSelected:u,onItemTextChange:p.useCallback(y=>{d(v=>v||((y==null?void 0:y.textContent)??"").trim())},[]),children:s.jsx(Rc.ItemSlot,{scope:n,value:r,disabled:i,textValue:h,children:s.jsx(Te.div,{role:"option","aria-labelledby":x,"data-highlighted":g?"":void 0,"aria-selected":u&&g,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:w,onFocus:xe(a.onFocus,()=>j(!0)),onBlur:xe(a.onBlur,()=>j(!1)),onClick:xe(a.onClick,()=>{f.current!=="mouse"&&m()}),onPointerUp:xe(a.onPointerUp,()=>{f.current==="mouse"&&m()}),onPointerDown:xe(a.onPointerDown,y=>{f.current=y.pointerType}),onPointerMove:xe(a.onPointerMove,y=>{var v;f.current=y.pointerType,i?(v=c.onItemLeave)==null||v.call(c):f.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:xe(a.onPointerLeave,y=>{var v;y.currentTarget===document.activeElement&&((v=c.onItemLeave)==null||v.call(c))}),onKeyDown:xe(a.onKeyDown,y=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&y.key===" "||(YT.includes(y.key)&&m(),y.key===" "&&y.preventDefault())})})})})});Xw.displayName=Kl;var go="SelectItemText",Jw=p.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...o}=e,a=Gr(go,n),l=Xr(go,n),c=Gw(go,n),u=ZT(go,n),[h,d]=p.useState(null),g=De(t,m=>d(m),c.onItemTextChange,m=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,m,c.value,c.disabled)}),j=h==null?void 0:h.textContent,w=p.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:j},c.value),[c.disabled,c.value,j]),{onNativeOptionAdd:x,onNativeOptionRemove:f}=u;return ft(()=>(x(w),()=>f(w)),[x,f,w]),s.jsxs(s.Fragment,{children:[s.jsx(Te.span,{id:c.textId,...o,ref:g}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Di.createPortal(o.children,a.valueNode):null]})});Jw.displayName=go;var Zw="SelectItemIndicator",ej=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return Gw(Zw,n).isSelected?s.jsx(Te.span,{"aria-hidden":!0,...r,ref:t}):null});ej.displayName=Zw;var Xd="SelectScrollUpButton",tj=p.forwardRef((e,t)=>{const n=Xr(Xd,e.__scopeSelect),r=Cf(Xd,e.__scopeSelect),[i,o]=p.useState(!1),a=De(t,r.onScrollButtonChange);return ft(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;o(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?s.jsx(rj,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});tj.displayName=Xd;var Jd="SelectScrollDownButton",nj=p.forwardRef((e,t)=>{const n=Xr(Jd,e.__scopeSelect),r=Cf(Jd,e.__scopeSelect),[i,o]=p.useState(!1),a=De(t,r.onScrollButtonChange);return ft(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<u;o(h)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?s.jsx(rj,{...e,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});nj.displayName=Jd;var rj=p.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,o=Xr("SelectScrollButton",n),a=p.useRef(null),l=Ac(n),c=p.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return p.useEffect(()=>()=>c(),[c]),ft(()=>{var h;const u=l().find(d=>d.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),s.jsx(Te.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:xe(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:xe(i.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:xe(i.onPointerLeave,()=>{c()})})}),d4="SelectSeparator",sj=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return s.jsx(Te.div,{"aria-hidden":!0,...r,ref:t})});sj.displayName=d4;var Zd="SelectArrow",h4=p.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Oc(n),o=Gr(Zd,n),a=Xr(Zd,n);return o.open&&a.position==="popper"?s.jsx(Fv,{...i,...r,ref:t}):null});h4.displayName=Zd;var f4="SelectBubbleInput",ij=p.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const i=p.useRef(null),o=De(r,i),a=Cw(t);return p.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==t&&h){const d=new Event("change",{bubbles:!0});h.call(l,t),l.dispatchEvent(d)}},[a,t]),s.jsx(Te.select,{...n,style:{..._v,...n.style},ref:o,defaultValue:t})});ij.displayName=f4;function oj(e){return e===""||e===void 0}function aj(e){const t=Ts(e),n=p.useRef(""),r=p.useRef(0),i=p.useCallback(a=>{const l=n.current+a;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),o=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function lj(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let a=m4(e,Math.max(o,0));i.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function m4(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var p4=Mw,cj=Fw,g4=zw,y4=$w,x4=Uw,uj=Ww,v4=Vw,dj=Yw,hj=Xw,w4=Jw,j4=ej,fj=tj,mj=nj,pj=sj;const lt=p4,ct=g4,Je=p.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(cj,{ref:r,className:Ie("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,s.jsx(y4,{asChild:!0,children:s.jsx(ev,{className:"h-4 w-4 opacity-50"})})]}));Je.displayName=cj.displayName;const gj=p.forwardRef(({className:e,...t},n)=>s.jsx(fj,{ref:n,className:Ie("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(U1,{className:"h-4 w-4"})}));gj.displayName=fj.displayName;const yj=p.forwardRef(({className:e,...t},n)=>s.jsx(mj,{ref:n,className:Ie("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(ev,{className:"h-4 w-4"})}));yj.displayName=mj.displayName;const Ze=p.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>s.jsx(x4,{children:s.jsxs(uj,{ref:i,className:Ie("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[s.jsx(gj,{}),s.jsx(v4,{className:Ie("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(yj,{})]})}));Ze.displayName=uj.displayName;const N4=p.forwardRef(({className:e,...t},n)=>s.jsx(dj,{ref:n,className:Ie("px-2 py-1.5 text-sm font-semibold",e),...t}));N4.displayName=dj.displayName;const ve=p.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(hj,{ref:r,className:Ie("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(j4,{children:s.jsx(Pi,{className:"h-4 w-4"})})}),s.jsx(w4,{children:t})]}));ve.displayName=hj.displayName;const b4=p.forwardRef(({className:e,...t},n)=>s.jsx(pj,{ref:n,className:Ie("-mx-1 my-1 h-px bg-muted",e),...t}));b4.displayName=pj.displayName;function S4(){const e=Ue(),[t,n]=p.useState("all"),[r,i]=p.useState("all"),{data:o,isLoading:a}=re({queryKey:["events",t,r],queryFn:()=>Vn.getAll({chapterId:t!=="all"?t:void 0,traumaCycleId:r!=="all"?r:void 0})}),{data:l}=re({queryKey:["chapters"],queryFn:kr.getAll}),{data:c}=re({queryKey:["traumaCycles"],queryFn:Er.getAll}),u=te({mutationFn:Vn.delete,onSuccess:()=>{e.invalidateQueries({queryKey:["events"]}),e.invalidateQueries({queryKey:["stats"]})}}),h=g=>{window.confirm("Are you sure you want to delete this event?")&&u.mutate(g)},d=g=>g?new Date(g).toLocaleDateString():"";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Events"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your life events"})]}),s.jsx(X,{to:"/events/new",children:s.jsxs(E,{children:[s.jsx(Ee,{className:"mr-2 h-4 w-4"}),"New Event"]})})]}),s.jsxs(_,{children:[s.jsx(H,{children:s.jsx(V,{className:"text-lg",children:"Filters"})}),s.jsx(z,{children:s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"w-64",children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Chapter"}),s.jsxs(lt,{value:t,onValueChange:n,children:[s.jsx(Je,{children:s.jsx(ct,{placeholder:"All chapters"})}),s.jsxs(Ze,{children:[s.jsx(ve,{value:"all",children:"All chapters"}),l==null?void 0:l.map(g=>s.jsxs(ve,{value:g.id,children:[g.number,". ",g.title]},g.id))]})]})]}),s.jsxs("div",{className:"w-64",children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Trauma Cycle"}),s.jsxs(lt,{value:r,onValueChange:i,children:[s.jsx(Je,{children:s.jsx(ct,{placeholder:"All trauma cycles"})}),s.jsxs(Ze,{children:[s.jsx(ve,{value:"all",children:"All trauma cycles"}),c==null?void 0:c.map(g=>s.jsx(ve,{value:g.id,children:g.label},g.id))]})]})]})]})})]}),s.jsx(_,{children:s.jsx(z,{className:"p-0",children:a?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading events..."})}):o&&o.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b bg-muted/50",children:[s.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:"Title"}),s.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:"Date"}),s.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:"Location"}),s.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:"Chapter"}),s.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:"Trauma Cycle"}),s.jsx("th",{className:"h-12 px-4 text-right align-middle font-medium text-muted-foreground",children:"Actions"})]})}),s.jsx("tbody",{children:o.map(g=>{var j;return s.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[s.jsx("td",{className:"p-4 align-middle font-medium",children:g.title}),s.jsx("td",{className:"p-4 align-middle text-muted-foreground",children:d(g.date)}),s.jsx("td",{className:"p-4 align-middle text-muted-foreground",children:g.location||""}),s.jsx("td",{className:"p-4 align-middle text-muted-foreground",children:g.chapter?`${g.chapter.number}. ${g.chapter.title}`:""}),s.jsx("td",{className:"p-4 align-middle text-muted-foreground",children:((j=g.traumaCycle)==null?void 0:j.label)||""}),s.jsx("td",{className:"p-4 align-middle text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(X,{to:`/events/${g.id}/edit`,children:s.jsx(E,{variant:"ghost",size:"icon",children:s.jsx(Vt,{className:"h-4 w-4"})})}),s.jsx(E,{variant:"ghost",size:"icon",onClick:()=>h(g.id),disabled:u.isPending,children:s.jsx(rr,{className:"h-4 w-4 text-destructive"})})]})})]},g.id)})})]})}):s.jsxs("div",{className:"flex flex-col items-center justify-center h-32 gap-2",children:[s.jsx("div",{className:"text-muted-foreground",children:"No events found"}),s.jsx(X,{to:"/events/new",children:s.jsxs(E,{variant:"outline",size:"sm",children:[s.jsx(Ee,{className:"mr-2 h-4 w-4"}),"Create your first event"]})})]})})})]})}const fe=p.forwardRef(({className:e,type:t,...n},r)=>s.jsx("input",{type:t,className:Ie("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));fe.displayName="Input";var C4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],k4=C4.reduce((e,t)=>{const n=Nw(`Primitive.${t}`),r=p.forwardRef((i,o)=>{const{asChild:a,...l}=i,c=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),E4="Label",xj=p.forwardRef((e,t)=>s.jsx(k4.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));xj.displayName=E4;var vj=xj;const T4=Sf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Z=p.forwardRef(({className:e,...t},n)=>s.jsx(vj,{ref:n,className:Ie(T4(),e),...t}));Z.displayName=vj.displayName;const Mt=p.forwardRef(({className:e,...t},n)=>s.jsx("textarea",{className:Ie("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));Mt.displayName="Textarea";const P4=Sf("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function wj({className:e,variant:t,...n}){return s.jsx("div",{className:Ie(P4({variant:t}),e),...n})}const R4={joy:["happy","excited","celebration","birthday","wedding","success","won","achievement","proud","love","loved"],grief:["death","died","funeral","loss","lost","mourning","passed away","goodbye"],fear:["scared","afraid","terrified","anxiety","panic","worried","nightmare","threat"],anger:["angry","furious","rage","betrayed","betrayal","unfair","injustice","fight","argument"],sadness:["sad","depressed","lonely","alone","crying","tears","heartbreak","disappointed"],love:["love","romance","kiss","relationship","dating","married","partner","soulmate"],trauma:["abuse","assault","violence","accident","hospital","emergency","crisis","ptsd"],healing:["therapy","recovery","healing","growth","breakthrough","realization","forgiveness"],family:["mother","father","mom","dad","parent","sibling","brother","sister","child","family"],friendship:["friend","friendship","buddy","companion","support","together"],work:["job","career","work","office","boss","promotion","fired","hired","interview"],school:["school","college","university","graduation","teacher","student","class","exam"],milestone:["first","last","beginning","ending","turning point","decision","choice","change"],childhood:["child","childhood","kid","young","growing up","memory","early"],conflict:["fight","argument","disagreement","tension","conflict","confrontation"],revelation:["realized","discovered","found out","truth","secret","revelation","understood"],transition:["moved","moving","new","started","ended","transition","change","different"],celebration:["party","celebration","holiday","christmas","thanksgiving","birthday","anniversary"],loss:["lost","losing","gone","missing","absence","empty","void"],hope:["hope","hopeful","optimistic","future","dream","wish","possibility"],regret:["regret","wish","should have","mistake","wrong","sorry","guilt"],gratitude:["thankful","grateful","appreciation","blessed","lucky","fortune"]};function Ic({title:e,summary:t,notes:n,currentTags:r,onAddTag:i}){const[o,a]=p.useState([]),{data:l}=re({queryKey:["tags"],queryFn:Tr.getAll}),c=p.useMemo(()=>{const h=`${e} ${t} ${n}`.toLowerCase();if(h.trim().length<10)return[];const d=new Set;for(const[w,x]of Object.entries(R4))for(const f of x)if(h.includes(f)){d.add(w);break}if(l)for(const w of l){const x=w.name.toLowerCase();h.includes(x)&&!d.has(x)&&d.add(w.name)}const g=r.map(w=>w.toLowerCase()),j=o.map(w=>w.toLowerCase());return Array.from(d).filter(w=>!g.includes(w.toLowerCase())).filter(w=>!j.includes(w.toLowerCase())).slice(0,6)},[e,t,n,r,l,o]),u=h=>{a(d=>[...d,h])};return c.length===0?null:s.jsxs("div",{className:"bg-accent/30 rounded-lg p-3 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[s.jsx(ht,{className:"w-4 h-4 text-primary"}),"Suggested Tags"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(h=>s.jsxs(wj,{variant:"outline",className:"cursor-pointer hover:bg-primary/10 transition-colors group pr-1",children:[s.jsxs("button",{type:"button",onClick:()=>i(h),className:"flex items-center gap-1",children:[s.jsx(Ee,{className:"w-3 h-3"}),h]}),s.jsx("button",{type:"button",onClick:d=>{d.stopPropagation(),u(h)},className:"ml-1 opacity-50 hover:opacity-100",children:s.jsx(Ke,{className:"w-3 h-3"})})]},h))}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Click to add, or  to dismiss"})]})}const ng={"audio-therapy-sessions":[{id:"therapist",question:"Who was your therapist for this session?",type:"text",placeholder:"e.g., Joy, Dr. Smith",field:"therapist"},{id:"timeframe",question:"When was this recorded (approximate date or period)?",type:"text",placeholder:"e.g., Summer 2005, March 2006",field:"timeframe"},{id:"topic",question:"What was the main topic or focus of this session?",type:"textarea",placeholder:"e.g., Processing childhood trauma, relationship issues...",field:"topic"},{id:"breakthrough",question:"Were there any breakthroughs or significant moments?",type:"textarea",placeholder:"Describe any insights or emotional moments...",field:"breakthrough"},{id:"emotions",question:"What emotions come up when you think about this session?",type:"choice",choices:["healing","painful","hopeful","angry","sad","relieved","confused","empowered"],field:"emotions"}],"audio-voicemail":[{id:"caller",question:"Who left this voicemail?",type:"text",placeholder:"e.g., Mom, Dad, Ex-partner",field:"caller"},{id:"timeframe",question:"When was this message left (approximate)?",type:"text",placeholder:"e.g., Christmas 2003, After the divorce",field:"timeframe"},{id:"context",question:"What was happening in your life when you received this?",type:"textarea",placeholder:"Describe the circumstances...",field:"context"},{id:"significance",question:"Why did you save this message? What makes it significant?",type:"textarea",placeholder:"What does this message mean to you?",field:"significance"}],"audio-interview":[{id:"subject",question:"Who is being interviewed?",type:"text",placeholder:"e.g., Grandmother, Uncle Joe",field:"subject"},{id:"interviewer",question:"Who conducted the interview?",type:"text",placeholder:"e.g., Me, My sister",field:"interviewer"},{id:"topics",question:"What topics were covered?",type:"textarea",placeholder:"e.g., Family history, immigration story, childhood memories",field:"topics"},{id:"revelations",question:"Were there any surprising revelations or stories?",type:"textarea",placeholder:"Anything you learned for the first time?",field:"revelations"}],"audio-recording":[{id:"what",question:"What is this recording of?",type:"textarea",placeholder:"Describe what's captured in this audio...",field:"what"},{id:"when",question:"When was this recorded?",type:"text",placeholder:"Date or time period",field:"when"},{id:"why",question:"Why did you record this? What made it worth capturing?",type:"textarea",placeholder:"The significance of this moment...",field:"why"}],photo:[{id:"who",question:"Who is in this photo?",type:"text",placeholder:"List the people pictured",field:"who"},{id:"when",question:"When was this taken?",type:"text",placeholder:"Date or approximate time period",field:"when"},{id:"where",question:"Where was this taken?",type:"text",placeholder:"Location",field:"where"},{id:"occasion",question:"What was the occasion or context?",type:"textarea",placeholder:"Birthday, vacation, random Tuesday...",field:"occasion"},{id:"memory",question:"What memory does this photo trigger for you?",type:"textarea",placeholder:"What do you remember about this moment?",field:"memory"}],document:[{id:"what",question:"What type of document is this?",type:"choice",choices:["letter","journal entry","email","legal document","school paper","medical record","other"],field:"what"},{id:"author",question:"Who wrote or created this document?",type:"text",placeholder:"Author or source",field:"author"},{id:"date",question:"When was this written/created?",type:"text",placeholder:"Date or time period",field:"date"},{id:"context",question:"What was happening in your life when this was written?",type:"textarea",placeholder:"The circumstances surrounding this document...",field:"context"},{id:"significance",question:"Why is this document significant to your story?",type:"textarea",placeholder:"What makes this worth preserving?",field:"significance"}],event:[{id:"before",question:"What led up to this event? What was happening before?",type:"textarea",placeholder:"The context and buildup...",field:"before"},{id:"feelings",question:"How did you feel during this event?",type:"textarea",placeholder:"Your emotional state...",field:"feelings"},{id:"others",question:"Who else was involved or affected by this event?",type:"text",placeholder:"Other people present or impacted",field:"others"},{id:"aftermath",question:"What happened after? How did this event change things?",type:"textarea",placeholder:"The consequences and ripple effects...",field:"aftermath"},{id:"meaning",question:"Looking back, what does this event mean to you now?",type:"textarea",placeholder:"Your current perspective on this moment...",field:"meaning"}],person:[{id:"howmet",question:"How did you meet this person?",type:"textarea",placeholder:"The story of how you first connected...",field:"howmet"},{id:"impact",question:"How has this person impacted your life?",type:"textarea",placeholder:"Their influence on you...",field:"impact"},{id:"keymoment",question:"What's a key moment or memory with this person?",type:"textarea",placeholder:"A defining moment in your relationship...",field:"keymoment"},{id:"current",question:"What is your relationship with them now?",type:"choice",choices:["close","distant","estranged","deceased","complicated","reconnecting"],field:"current"}],artifact:[{id:"origin",question:"Where did this artifact come from?",type:"textarea",placeholder:"How did you acquire this?",field:"origin"},{id:"timeperiod",question:"What time period does this represent?",type:"text",placeholder:"Era or date range",field:"timeperiod"},{id:"connection",question:"Who or what is this connected to?",type:"text",placeholder:"People, events, or places",field:"connection"},{id:"preservation",question:"Why have you kept/preserved this?",type:"textarea",placeholder:"What makes this worth keeping?",field:"preservation"}]};function kf({contentType:e,contentSummary:t,sourceType:n,onAnswersComplete:r,onSkip:i}){const[o,a]=p.useState(0),[l,c]=p.useState({}),[u,h]=p.useState(""),[d,g]=p.useState(!1),j=n?`${e}-${n}`:e,w=ng[j]||ng[e]||[],x=w[o],f=w.length>0?o/w.length*100:0,m=()=>{if(u.trim()&&c(N=>({...N,[x.id]:u})),o<w.length-1)a(N=>N+1),h("");else{g(!0);const N={...l,[x.id]:u};r(N)}},y=N=>{h(N)},v=()=>{o<w.length-1?(a(N=>N+1),h("")):(g(!0),r(l))};return w.length===0?null:d?s.jsx(_,{className:"border-primary/20 bg-primary/5",children:s.jsx(z,{className:"py-6",children:s.jsxs("div",{className:"flex items-center gap-3 text-primary",children:[s.jsx(Pi,{className:"w-6 h-6"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Context captured!"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Your answers will help enrich this content in your memoir."})]})]})})}):s.jsxs(_,{className:"border-primary/20",children:[s.jsxs(H,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(V,{className:"text-lg flex items-center gap-2",children:[s.jsx(il,{className:"w-5 h-5 text-primary"}),"Let's add some context"]}),s.jsx(E,{variant:"ghost",size:"sm",onClick:i,children:"Skip all"})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-1.5 mt-2",children:s.jsx("div",{className:"bg-primary h-1.5 rounded-full transition-all",style:{width:`${f}%`}})}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Question ",o+1," of ",w.length]})]}),s.jsxs(z,{className:"space-y-4",children:[t&&s.jsxs("p",{className:"text-sm text-muted-foreground italic border-l-2 border-primary/30 pl-3",children:["About: ",t]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Z,{className:"text-base font-medium",children:x.question}),x.type==="text"&&s.jsx(fe,{value:u,onChange:N=>h(N.target.value),placeholder:x.placeholder,onKeyDown:N=>N.key==="Enter"&&m()}),x.type==="textarea"&&s.jsx(Mt,{value:u,onChange:N=>h(N.target.value),placeholder:x.placeholder,rows:3}),x.type==="choice"&&x.choices&&s.jsx("div",{className:"flex flex-wrap gap-2",children:x.choices.map(N=>s.jsx(E,{type:"button",variant:u===N?"default":"outline",size:"sm",onClick:()=>y(N),children:N},N))})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsxs(E,{variant:"ghost",size:"sm",onClick:v,className:"text-muted-foreground",children:["Skip",s.jsx(Zs,{className:"w-4 h-4 ml-1"})]}),s.jsx(E,{onClick:m,size:"sm",className:"ml-auto",children:o===w.length-1?s.jsxs(s.Fragment,{children:[s.jsx(Pi,{className:"w-4 h-4 mr-1"}),"Done"]}):s.jsxs(s.Fragment,{children:["Next",s.jsx(of,{className:"w-4 h-4 ml-1"})]})})]})]})]})}const Yl={surface:["Tell me what happened. Just the facts first.","Walk me through this moment. What was the setting?","Start from the beginning. What led up to this?"],probing:["You mentioned {keyword}. Let's stay there for a moment. What was really going on beneath the surface?","I hear what you're saying, but I sense there's more. What aren't you telling me?","That's the story you tell others. What's the story you tell yourself at 3am?","You used the word '{keyword}'. That's a careful word. What's the word you're avoiding?","Let's go deeper. When you say '{keyword}', what does that really mean to you?"],emotional:["Close your eyes for a moment. You're back there. What do you feel in your body?","Where do you feel this in your body right now, as you're telling me?","What emotion are you protecting yourself from as you tell this story?","If that moment could speak, what would it say to you?","What did you need in that moment that you didn't get?","The child inside you who lived thiswhat does that child need to hear right now?"],meaning:["How did this moment change who you became?","What did you learn about yourself that day that you still carry?","If you could go back and whisper something to yourself in that moment, what would it be?","How does this connect to who you are today?","What pattern in your life started here?","Why does this memory still have power over you?"]};function A4(e){const t=[],n=[],r=e.toLowerCase();return["just","only","kind of","sort of","i guess","maybe","probably","whatever","fine","okay","normal"].forEach(h=>{r.includes(h)&&t.push("hedging")}),["they","people","one","you know","everyone","it was what it was"].forEach(h=>{r.includes(h)&&t.push("distancing")}),["hurt","angry","scared","afraid","loved","hated","ashamed","guilty","proud","broken","lost","alone","abandoned","betrayed","devastated","terrified","furious","heartbroken"].forEach(h=>{r.includes(h)&&(t.push("emotional"),n.push(h))}),["mother","father","mom","dad","parent","brother","sister","husband","wife","child","son","daughter","friend","lover"].forEach(h=>{r.includes(h)&&n.push(h)}),["things","stuff","whatever","something","somehow","somewhere"].forEach(h=>{r.includes(h)&&t.push("vague")}),e.length<50&&t.push("brief"),{isDeep:e.length>150&&t.includes("emotional")&&!t.includes("hedging"),keywords:n,flags:t}}function Ha(e,t,n){const r=Yl[e]||Yl.probing;let i=r[Math.floor(Math.random()*r.length)];if(t.keywords.length>0){const o=t.keywords[Math.floor(Math.random()*t.keywords.length)];i=i.replace("{keyword}",o)}else{const o=n.split(" ").filter(a=>a.length>4);if(o.length>0){const a=o[Math.floor(Math.random()*Math.min(5,o.length))];i=i.replace("{keyword}",a.toLowerCase().replace(/[.,!?]/g,""))}else i=i.replace("{keyword}","that")}if(t.flags.includes("hedging")||t.flags.includes("brief")){const o=["I appreciate you sharing, but I need you to go deeper. ","That's a start, but we're not there yet. ","You're still protecting something. Let's try again. ","I can feel you holding back. It's safe here. "];i=o[Math.floor(Math.random()*o.length)]+i}return i}function O4({topic:e,initialContent:t="",onComplete:n,onCancel:r}){const[i,o]=p.useState("intro"),[a,l]=p.useState(""),[c,u]=p.useState([]),[h,d]=p.useState(`I want to understand this memory about "${e}" at its deepest level. Not the version you tell at dinner partiesthe real one. The one that still visits you. Are you ready to go there with me?`),[g,j]=p.useState(!1),w=()=>{if(!a.trim())return;j(!0);const m=A4(a),y={phase:i,userAnswer:a,noahFollowUp:""};let v=i,N="";setTimeout(()=>{switch(i){case"intro":v="surface",N=Yl.surface[Math.floor(Math.random()*Yl.surface.length)];break;case"surface":v="probing",N=Ha("probing",m,a);break;case"probing":!m.isDeep&&c.length<4?N=Ha("probing",m,a):(v="emotional",N=Ha("emotional",m,a));break;case"emotional":v="meaning",N=Ha("meaning",m,a);break;case"meaning":v="complete",N="Thank you for trusting me with this. What you've shared herethis is the real material. This is what your memoir needs.";break}y.noahFollowUp=N,u([...c,y]),d(N),o(v),l(""),j(!1)},1500)},x=()=>{let m=t?t+`

---

`:"";m+=`## Deep Dive: ${e}

`,c.forEach(y=>{m+=`**Noah:** ${y.noahFollowUp||"Tell me about this memory."}

`,m+=`${y.userAnswer}

`}),n(m,c)},f=()=>{o("intro"),u([]),l(""),d(`I want to understand this memory about "${e}" at its deepest level. Not the version you tell at dinner partiesthe real one. The one that still visits you. Are you ready to go there with me?`)};return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",children:s.jsxs(_,{className:"w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-gradient-to-r from-primary/10 to-transparent",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-amber-100 to-amber-200 dark:from-amber-900 dark:to-amber-800 flex items-center justify-center text-2xl",children:""}),s.jsxs("div",{children:[s.jsx("h2",{className:"font-display font-semibold",children:"Noah's Deep Dive"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:i==="complete"?"Interview Complete":`Phase: ${i.charAt(0).toUpperCase()+i.slice(1)}`})]})]}),s.jsx(E,{variant:"ghost",size:"icon",onClick:r,children:s.jsx(Ke,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[c.map((m,y)=>s.jsxs("div",{className:"space-y-3",children:[m.noahFollowUp&&s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-amber-100 dark:bg-amber-900 flex items-center justify-center text-sm flex-shrink-0",children:""}),s.jsx("div",{className:"bg-muted rounded-2xl rounded-tl-sm px-4 py-2 max-w-[85%]",children:s.jsx("p",{className:"text-sm font-narrative",children:m.noahFollowUp})})]}),s.jsx("div",{className:"flex gap-3 justify-end",children:s.jsx("div",{className:"bg-primary text-primary-foreground rounded-2xl rounded-tr-sm px-4 py-2 max-w-[85%]",children:s.jsx("p",{className:"text-sm",children:m.userAnswer})})})]},y)),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-amber-100 dark:bg-amber-900 flex items-center justify-center text-sm flex-shrink-0",children:""}),s.jsx("div",{className:"bg-muted rounded-2xl rounded-tl-sm px-4 py-3 max-w-[85%]",children:s.jsxs("p",{className:"text-sm font-narrative italic",children:['"',h,'"']})})]}),g&&s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-amber-100 dark:bg-amber-900 flex items-center justify-center text-sm flex-shrink-0",children:""}),s.jsx("div",{className:"bg-muted rounded-2xl rounded-tl-sm px-4 py-3",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx("span",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"0ms"}}),s.jsx("span",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"150ms"}}),s.jsx("span",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})]})]}),s.jsx(z,{className:"border-t p-4",children:i!=="complete"?s.jsxs("div",{className:"space-y-3",children:[s.jsx(Mt,{value:a,onChange:m=>l(m.target.value),placeholder:"Take your time. Be honest. This is just between us...",className:"min-h-[100px] resize-none",disabled:g}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(E,{variant:"ghost",size:"sm",onClick:f,disabled:c.length===0,children:[s.jsx(Ds,{className:"w-4 h-4 mr-2"}),"Start Over"]}),s.jsxs(E,{onClick:w,disabled:!a.trim()||g,children:[g?"Noah is listening...":"Share",s.jsx(ks,{className:"w-4 h-4 ml-2"})]})]})]}):s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"text-center py-4",children:[s.jsx(ht,{className:"w-8 h-8 mx-auto text-primary mb-2"}),s.jsx("p",{className:"font-medium",children:"You've done important work here."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"This material will enrich your memoir with authentic depth."})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(E,{variant:"outline",className:"flex-1",onClick:f,children:"Go Deeper"}),s.jsx(E,{className:"flex-1",onClick:x,children:"Save & Continue"})]})]})})]})})}function rg(){var N;const{id:e}=gn(),t=nt(),n=Ue(),r=!!e,[i,o]=p.useState({title:"",date:null,location:null,summary:null,emotionTags:[],notes:null,chapterId:null,traumaCycleId:null}),[a,l]=p.useState(""),[c,u]=p.useState(!1),[h,d]=p.useState(!1),{data:g,isLoading:j}=re({queryKey:["event",e],queryFn:()=>Vn.getById(e),enabled:r}),{data:w}=re({queryKey:["chapters"],queryFn:kr.getAll}),{data:x}=re({queryKey:["traumaCycles"],queryFn:Er.getAll});p.useEffect(()=>{g&&(o({title:g.title,date:g.date,location:g.location,summary:g.summary,emotionTags:g.emotionTags,notes:g.notes,chapterId:g.chapterId,traumaCycleId:g.traumaCycleId}),l(g.emotionTags.join(", ")))},[g]);const f=te({mutationFn:Vn.create,onSuccess:()=>{n.invalidateQueries({queryKey:["events"]}),n.invalidateQueries({queryKey:["stats"]}),t("/events")}}),m=te({mutationFn:({id:b,data:k})=>Vn.update(b,k),onSuccess:()=>{n.invalidateQueries({queryKey:["events"]}),n.invalidateQueries({queryKey:["event",e]}),t("/events")}}),y=b=>{b.preventDefault();const k=a.split(",").map(P=>P.trim()).filter(P=>P.length>0),C={...i,emotionTags:k};r&&e?m.mutate({id:e,data:C}):f.mutate(C)},v=f.isPending||m.isPending;return r&&j?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading event..."})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(E,{variant:"ghost",size:"icon",onClick:()=>t("/events"),children:s.jsx(Ot,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:r?"Edit Event":"New Event"}),s.jsx("p",{className:"text-muted-foreground",children:r?"Update the details of this event":"Create a new life event"})]})]}),s.jsx("form",{onSubmit:y,children:s.jsxs(_,{children:[s.jsx(H,{children:s.jsx(V,{children:"Event Details"})}),s.jsxs(z,{className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Z,{htmlFor:"title",children:"Title *"}),s.jsx(fe,{id:"title",value:i.title,onChange:b=>o(k=>({...k,title:b.target.value})),placeholder:"Event title",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Z,{htmlFor:"date",children:"Date"}),s.jsx(fe,{id:"date",type:"date",value:i.date?i.date.split("T")[0]:"",onChange:b=>o(k=>({...k,date:b.target.value?new Date(b.target.value).toISOString():null}))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Z,{htmlFor:"location",children:"Location"}),s.jsx(fe,{id:"location",value:i.location||"",onChange:b=>o(k=>({...k,location:b.target.value||null})),placeholder:"Where did this happen?"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Z,{htmlFor:"emotionTags",children:"Emotion Tags"}),s.jsx(fe,{id:"emotionTags",value:a,onChange:b=>l(b.target.value),placeholder:"betrayal, fear, relief (comma-separated)"}),s.jsx(Ic,{title:i.title,summary:i.summary||"",notes:i.notes||"",currentTags:a.split(",").map(b=>b.trim()).filter(Boolean),onAddTag:b=>{const k=a.trim();l(k?`${k}, ${b}`:b)}})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Z,{htmlFor:"chapter",children:"Chapter"}),s.jsxs(lt,{value:i.chapterId||"none",onValueChange:b=>o(k=>({...k,chapterId:b==="none"?null:b})),children:[s.jsx(Je,{children:s.jsx(ct,{placeholder:"Select chapter"})}),s.jsxs(Ze,{children:[s.jsx(ve,{value:"none",children:"No chapter"}),w==null?void 0:w.map(b=>s.jsxs(ve,{value:b.id,children:[b.number,". ",b.title]},b.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Z,{htmlFor:"traumaCycle",children:"Trauma Cycle"}),s.jsxs(lt,{value:i.traumaCycleId||"none",onValueChange:b=>o(k=>({...k,traumaCycleId:b==="none"?null:b})),children:[s.jsx(Je,{children:s.jsx(ct,{placeholder:"Select trauma cycle"})}),s.jsxs(Ze,{children:[s.jsx(ve,{value:"none",children:"No trauma cycle"}),x==null?void 0:x.map(b=>s.jsx(ve,{value:b.id,children:b.label},b.id))]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Z,{htmlFor:"summary",children:"Summary"}),s.jsx(Mt,{id:"summary",value:i.summary||"",onChange:b=>o(k=>({...k,summary:b.target.value||null})),placeholder:"Brief summary of the event",rows:3})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Z,{htmlFor:"notes",children:"Notes"}),s.jsx(Mt,{id:"notes",value:i.notes||"",onChange:b=>o(k=>({...k,notes:b.target.value||null})),placeholder:"Detailed notes about the event...",rows:6,className:"font-narrative"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Use this field for longer narrative descriptions"}),(((N=i.notes)==null?void 0:N.length)||0)>50&&!c&&s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(E,{type:"button",variant:"outline",size:"sm",onClick:()=>u(!0),children:"Quick Context"}),s.jsx(E,{type:"button",variant:"default",size:"sm",onClick:()=>d(!0),className:"bg-amber-600 hover:bg-amber-700",children:" Deep Dive with Noah"})]})]}),c&&s.jsx(kf,{contentType:"event",contentSummary:i.title||"this event",onAnswersComplete:b=>{const k=i.notes||"";let C=`

--- Context ---
`;b.before&&(C+=`What led up to this: ${b.before}
`),b.feelings&&(C+=`How I felt: ${b.feelings}
`),b.others&&(C+=`Others involved: ${b.others}
`),b.aftermath&&(C+=`What happened after: ${b.aftermath}
`),b.meaning&&(C+=`What this means to me now: ${b.meaning}
`),o(P=>({...P,notes:k+C})),u(!1)},onSkip:()=>u(!1)}),h&&s.jsx(O4,{topic:i.title||"this memory",initialContent:i.notes||"",onComplete:b=>{o(k=>({...k,notes:b})),d(!1)},onCancel:()=>d(!1)}),s.jsxs("div",{className:"flex justify-end gap-4",children:[s.jsx(E,{type:"button",variant:"outline",onClick:()=>t("/events"),children:"Cancel"}),s.jsxs(E,{type:"submit",disabled:v,children:[s.jsx($i,{className:"mr-2 h-4 w-4"}),v?"Saving...":r?"Update Event":"Create Event"]})]})]})]})})]})}function I4(){var ce,G,$,R,D,B,Q,ne;const{id:e}=gn(),t=nt(),n=Ue(),[r,i]=p.useState(null),[o,a]=p.useState(""),{data:l,isLoading:c}=re({queryKey:["event",e],queryFn:()=>Vn.getById(e),enabled:!!e}),{data:u}=re({queryKey:["persons"],queryFn:()=>Qn.getAll()}),{data:h}=re({queryKey:["songs"],queryFn:()=>po.getAll()}),{data:d}=re({queryKey:["artifacts"],queryFn:()=>zr.getAll()}),{data:g}=re({queryKey:["synchronicities"],queryFn:()=>xs.getAll()}),j=te({mutationFn:L=>ar.linkPersonToEvent(e,L),onSuccess:()=>{n.invalidateQueries({queryKey:["event",e]}),i(null),a("")}}),w=te({mutationFn:L=>ar.unlinkPersonFromEvent(e,L),onSuccess:()=>n.invalidateQueries({queryKey:["event",e]})}),x=te({mutationFn:L=>ar.linkSongToEvent(e,L),onSuccess:()=>{n.invalidateQueries({queryKey:["event",e]}),i(null),a("")}}),f=te({mutationFn:L=>ar.unlinkSongFromEvent(e,L),onSuccess:()=>n.invalidateQueries({queryKey:["event",e]})}),m=te({mutationFn:L=>ar.linkArtifactToEvent(e,L),onSuccess:()=>{n.invalidateQueries({queryKey:["event",e]}),i(null),a("")}}),y=te({mutationFn:L=>ar.unlinkArtifactFromEvent(e,L),onSuccess:()=>n.invalidateQueries({queryKey:["event",e]})}),v=te({mutationFn:L=>ar.linkSynchronicityToEvent(e,L),onSuccess:()=>{n.invalidateQueries({queryKey:["event",e]}),i(null),a("")}}),N=te({mutationFn:L=>ar.unlinkSynchronicityFromEvent(e,L),onSuccess:()=>n.invalidateQueries({queryKey:["event",e]})}),b=()=>{if(o)switch(r){case"person":j.mutate(o);break;case"song":x.mutate(o);break;case"artifact":m.mutate(o);break;case"synchronicity":v.mutate(o);break}},k=L=>L?new Date(L).toLocaleDateString():"";if(c)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading event..."})});if(!l)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-destructive",children:"Event not found"})});const C=new Set(((ce=l.persons)==null?void 0:ce.map(L=>L.id))||[]),P=new Set(((G=l.songs)==null?void 0:G.map(L=>L.id))||[]),A=new Set((($=l.artifacts)==null?void 0:$.map(L=>L.id))||[]),O=new Set(((R=l.synchronicities)==null?void 0:R.map(L=>L.id))||[]),I=(u==null?void 0:u.filter(L=>!C.has(L.id)))||[],M=(h==null?void 0:h.filter(L=>!P.has(L.id)))||[],Y=(d==null?void 0:d.filter(L=>!A.has(L.id)))||[],q=(g==null?void 0:g.filter(L=>!O.has(L.id)))||[];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(E,{variant:"ghost",size:"icon",onClick:()=>t("/events"),children:s.jsx(Ot,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:l.title}),l.isKeystone&&s.jsx(Yr,{className:"h-5 w-5 text-yellow-500 fill-yellow-500"})]}),s.jsxs("p",{className:"text-muted-foreground",children:[k(l.date)," ",l.location&&` ${l.location}`]})]})]}),s.jsx(X,{to:`/events/${e}/edit`,children:s.jsxs(E,{children:[s.jsx(Vt,{className:"mr-2 h-4 w-4"}),"Edit Event"]})})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs(_,{children:[s.jsx(H,{children:s.jsx(V,{children:"Details"})}),s.jsxs(z,{className:"space-y-4",children:[l.chapter&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Chapter"}),s.jsxs("div",{children:[l.chapter.number,". ",l.chapter.title]})]}),l.traumaCycle&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Trauma Cycle"}),s.jsx("div",{children:l.traumaCycle.label})]}),l.emotionTags&&l.emotionTags.length>0&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Emotion Tags"}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:l.emotionTags.map((L,we)=>s.jsx("span",{className:"px-2 py-1 bg-muted rounded-md text-sm",children:L},we))})]}),l.summary&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Summary"}),s.jsx("div",{children:l.summary})]})]})]}),l.notes&&s.jsxs(_,{children:[s.jsx(H,{children:s.jsx(V,{children:"Notes"})}),s.jsx(z,{children:s.jsx("p",{className:"font-narrative whitespace-pre-wrap",children:l.notes})})]})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs(_,{children:[s.jsxs(H,{className:"flex flex-row items-center justify-between",children:[s.jsxs(V,{className:"flex items-center gap-2",children:[s.jsx(jt,{className:"h-5 w-5"}),"People (",((D=l.persons)==null?void 0:D.length)||0,")"]}),s.jsx(E,{size:"sm",variant:"outline",onClick:()=>i("person"),children:s.jsx(Ee,{className:"h-4 w-4"})})]}),s.jsxs(z,{children:[r==="person"&&s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsxs(lt,{value:o,onValueChange:a,children:[s.jsx(Je,{className:"flex-1",children:s.jsx(ct,{placeholder:"Select person..."})}),s.jsx(Ze,{children:I.map(L=>s.jsx(ve,{value:L.id,children:L.name},L.id))})]}),s.jsx(E,{size:"sm",onClick:b,disabled:!o,children:"Add"}),s.jsx(E,{size:"sm",variant:"ghost",onClick:()=>{i(null),a("")},children:s.jsx(Ke,{className:"h-4 w-4"})})]}),l.persons&&l.persons.length>0?s.jsx("ul",{className:"space-y-2",children:l.persons.map(L=>s.jsxs("li",{className:"flex items-center justify-between",children:[s.jsxs(X,{to:`/people/${L.id}`,className:"hover:underline",children:[s.jsx("span",{className:"font-medium",children:L.name}),L.role&&s.jsxs("span",{className:"text-muted-foreground ml-2",children:["(",L.role,")"]})]}),s.jsx(E,{size:"icon",variant:"ghost",onClick:()=>w.mutate(L.id),children:s.jsx(Ke,{className:"h-4 w-4"})})]},L.id))}):s.jsx("p",{className:"text-muted-foreground text-sm",children:"No people linked"})]})]}),s.jsxs(_,{children:[s.jsxs(H,{className:"flex flex-row items-center justify-between",children:[s.jsxs(V,{className:"flex items-center gap-2",children:[s.jsx(On,{className:"h-5 w-5"}),"Songs (",((B=l.songs)==null?void 0:B.length)||0,")"]}),s.jsx(E,{size:"sm",variant:"outline",onClick:()=>i("song"),children:s.jsx(Ee,{className:"h-4 w-4"})})]}),s.jsxs(z,{children:[r==="song"&&s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsxs(lt,{value:o,onValueChange:a,children:[s.jsx(Je,{className:"flex-1",children:s.jsx(ct,{placeholder:"Select song..."})}),s.jsx(Ze,{children:M.map(L=>s.jsxs(ve,{value:L.id,children:[L.title,"  ",L.artist]},L.id))})]}),s.jsx(E,{size:"sm",onClick:b,disabled:!o,children:"Add"}),s.jsx(E,{size:"sm",variant:"ghost",onClick:()=>{i(null),a("")},children:s.jsx(Ke,{className:"h-4 w-4"})})]}),l.songs&&l.songs.length>0?s.jsx("ul",{className:"space-y-2",children:l.songs.map(L=>s.jsxs("li",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:L.title}),s.jsxs("span",{className:"text-muted-foreground ml-2",children:[" ",L.artist]})]}),s.jsx(E,{size:"icon",variant:"ghost",onClick:()=>f.mutate(L.id),children:s.jsx(Ke,{className:"h-4 w-4"})})]},L.id))}):s.jsx("p",{className:"text-muted-foreground text-sm",children:"No songs linked"})]})]}),s.jsxs(_,{children:[s.jsxs(H,{className:"flex flex-row items-center justify-between",children:[s.jsxs(V,{className:"flex items-center gap-2",children:[s.jsx(dt,{className:"h-5 w-5"}),"Artifacts (",((Q=l.artifacts)==null?void 0:Q.length)||0,")"]}),s.jsx(E,{size:"sm",variant:"outline",onClick:()=>i("artifact"),children:s.jsx(Ee,{className:"h-4 w-4"})})]}),s.jsxs(z,{children:[r==="artifact"&&s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsxs(lt,{value:o,onValueChange:a,children:[s.jsx(Je,{className:"flex-1",children:s.jsx(ct,{placeholder:"Select artifact..."})}),s.jsx(Ze,{children:Y.map(L=>s.jsxs(ve,{value:L.id,children:[L.type,": ",L.shortDescription||L.sourcePathOrUrl]},L.id))})]}),s.jsx(E,{size:"sm",onClick:b,disabled:!o,children:"Add"}),s.jsx(E,{size:"sm",variant:"ghost",onClick:()=>{i(null),a("")},children:s.jsx(Ke,{className:"h-4 w-4"})})]}),l.artifacts&&l.artifacts.length>0?s.jsx("ul",{className:"space-y-2",children:l.artifacts.map(L=>s.jsxs("li",{className:"flex items-center justify-between",children:[s.jsxs(X,{to:`/artifacts/${L.id}`,className:"hover:underline",children:[s.jsx("span",{className:"font-medium",children:L.type}),L.shortDescription&&s.jsxs("span",{className:"text-muted-foreground ml-2",children:[" ",L.shortDescription]})]}),s.jsx(E,{size:"icon",variant:"ghost",onClick:()=>y.mutate(L.id),children:s.jsx(Ke,{className:"h-4 w-4"})})]},L.id))}):s.jsx("p",{className:"text-muted-foreground text-sm",children:"No artifacts linked"})]})]}),s.jsxs(_,{children:[s.jsxs(H,{className:"flex flex-row items-center justify-between",children:[s.jsxs(V,{className:"flex items-center gap-2",children:[s.jsx(ht,{className:"h-5 w-5"}),"Synchronicities (",((ne=l.synchronicities)==null?void 0:ne.length)||0,")"]}),s.jsx(E,{size:"sm",variant:"outline",onClick:()=>i("synchronicity"),children:s.jsx(Ee,{className:"h-4 w-4"})})]}),s.jsxs(z,{children:[r==="synchronicity"&&s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsxs(lt,{value:o,onValueChange:a,children:[s.jsx(Je,{className:"flex-1",children:s.jsx(ct,{placeholder:"Select synchronicity..."})}),s.jsx(Ze,{children:q.map(L=>s.jsxs(ve,{value:L.id,children:[L.type,L.symbolicTag?` (${L.symbolicTag})`:""]},L.id))})]}),s.jsx(E,{size:"sm",onClick:b,disabled:!o,children:"Add"}),s.jsx(E,{size:"sm",variant:"ghost",onClick:()=>{i(null),a("")},children:s.jsx(Ke,{className:"h-4 w-4"})})]}),l.synchronicities&&l.synchronicities.length>0?s.jsx("ul",{className:"space-y-2",children:l.synchronicities.map(L=>s.jsxs("li",{className:"flex items-center justify-between",children:[s.jsxs(X,{to:`/synchronicities/${L.id}`,className:"hover:underline",children:[s.jsx("span",{className:"font-medium",children:L.type}),L.symbolicTag&&s.jsxs("span",{className:"text-muted-foreground ml-2",children:["(",L.symbolicTag,")"]})]}),s.jsx(E,{size:"icon",variant:"ghost",onClick:()=>N.mutate(L.id),children:s.jsx(Ke,{className:"h-4 w-4"})})]},L.id))}):s.jsx("p",{className:"text-muted-foreground text-sm",children:"No synchronicities linked"})]})]})]})]})}function L4(){const e=Ue(),[t,n]=p.useState(""),{data:r,isLoading:i}=re({queryKey:["persons",t],queryFn:()=>Qn.getAll({search:t||void 0})}),o=te({mutationFn:Qn.delete,onSuccess:()=>{e.invalidateQueries({queryKey:["persons"]}),e.invalidateQueries({queryKey:["stats"]})}}),a=l=>{window.confirm("Are you sure you want to delete this person?")&&o.mutate(l)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"People"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage people in your memoir"})]}),s.jsx(X,{to:"/people/new",children:s.jsxs(E,{children:[s.jsx(Ee,{className:"mr-2 h-4 w-4"}),"New Person"]})})]}),s.jsx(_,{children:s.jsx(z,{className:"pt-6",children:s.jsxs("div",{className:"relative",children:[s.jsx(Zn,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(fe,{placeholder:"Search by name...",value:t,onChange:l=>n(l.target.value),className:"pl-10"})]})})}),s.jsx(_,{children:s.jsx(z,{className:"p-0",children:i?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading people..."})}):r&&r.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b bg-muted/50",children:[s.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:"Name"}),s.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:"Role"}),s.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:"Relationship"}),s.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:"Events"}),s.jsx("th",{className:"h-12 px-4 text-right align-middle font-medium text-muted-foreground",children:"Actions"})]})}),s.jsx("tbody",{children:r.map(l=>{var c;return s.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[s.jsx("td",{className:"p-4 align-middle",children:s.jsxs(X,{to:`/people/${l.id}`,className:"font-medium hover:underline flex items-center gap-2",children:[l.name,l.isPrimary&&s.jsx(Yr,{className:"h-4 w-4 text-yellow-500 fill-yellow-500"})]})}),s.jsx("td",{className:"p-4 align-middle text-muted-foreground",children:l.role||""}),s.jsx("td",{className:"p-4 align-middle text-muted-foreground",children:l.relationshipType||""}),s.jsx("td",{className:"p-4 align-middle text-muted-foreground",children:((c=l._count)==null?void 0:c.eventLinks)??0}),s.jsx("td",{className:"p-4 align-middle text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(X,{to:`/people/${l.id}/edit`,children:s.jsx(E,{variant:"ghost",size:"icon",children:s.jsx(Vt,{className:"h-4 w-4"})})}),s.jsx(E,{variant:"ghost",size:"icon",onClick:()=>a(l.id),disabled:o.isPending,children:s.jsx(rr,{className:"h-4 w-4 text-destructive"})})]})})]},l.id)})})]})}):s.jsxs("div",{className:"flex flex-col items-center justify-center h-32 gap-2",children:[s.jsx("div",{className:"text-muted-foreground",children:"No people found"}),s.jsx(X,{to:"/people/new",children:s.jsxs(E,{variant:"outline",size:"sm",children:[s.jsx(Ee,{className:"mr-2 h-4 w-4"}),"Add your first person"]})})]})})})]})}function M4(){var o;const{id:e}=gn(),t=nt(),{data:n,isLoading:r}=re({queryKey:["person",e],queryFn:()=>Qn.getById(e),enabled:!!e}),i=a=>a?new Date(a).toLocaleDateString():"";return r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading person..."})}):n?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(E,{variant:"ghost",size:"icon",onClick:()=>t("/people"),children:s.jsx(Ot,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:n.name}),n.isPrimary&&s.jsx(Yr,{className:"h-5 w-5 text-yellow-500 fill-yellow-500"})]}),n.role&&s.jsx("p",{className:"text-muted-foreground",children:n.role})]})]}),s.jsx(X,{to:`/people/${e}/edit`,children:s.jsxs(E,{children:[s.jsx(Vt,{className:"mr-2 h-4 w-4"}),"Edit Person"]})})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs(_,{children:[s.jsx(H,{children:s.jsx(V,{children:"Details"})}),s.jsxs(z,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Relationship Type"}),s.jsx("div",{children:n.relationshipType||""})]}),n.notes&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Notes"}),s.jsx("p",{className:"font-narrative whitespace-pre-wrap",children:n.notes})]})]})]}),s.jsxs(_,{children:[s.jsx(H,{children:s.jsxs(V,{className:"flex items-center gap-2",children:[s.jsx(He,{className:"h-5 w-5"}),"Linked Events (",((o=n.eventLinks)==null?void 0:o.length)||0,")"]})}),s.jsx(z,{children:n.eventLinks&&n.eventLinks.length>0?s.jsx("ul",{className:"space-y-3",children:n.eventLinks.map(a=>s.jsx("li",{className:"border-b pb-2 last:border-0",children:s.jsxs(X,{to:`/events/${a.event.id}`,className:"hover:underline",children:[s.jsx("div",{className:"font-medium",children:a.event.title}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[i(a.event.date),a.event.chapter&&`  Ch. ${a.event.chapter.number}`,a.event.traumaCycle&&`  ${a.event.traumaCycle.label}`]})]})},a.event.id))}):s.jsx("p",{className:"text-muted-foreground text-sm",children:"No events linked to this person"})})]})]}),n.artifactLinks&&n.artifactLinks.length>0&&s.jsxs(_,{children:[s.jsx(H,{children:s.jsxs(V,{children:["Linked Artifacts (",n.artifactLinks.length,")"]})}),s.jsx(z,{children:s.jsx("ul",{className:"space-y-2",children:n.artifactLinks.map(a=>s.jsx("li",{children:s.jsxs(X,{to:`/artifacts/${a.artifact.id}`,className:"hover:underline",children:[s.jsx("span",{className:"font-medium",children:a.artifact.type}),a.artifact.shortDescription&&s.jsxs("span",{className:"text-muted-foreground ml-2",children:[" ",a.artifact.shortDescription]})]})},a.artifact.id))})})]})]}):s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-destructive",children:"Person not found"})})}function sg(){const{id:e}=gn(),t=nt(),n=Ue(),r=!!e,[i,o]=p.useState({name:"",role:"",relationshipType:"",notes:"",isPrimary:!1}),{data:a,isLoading:l}=re({queryKey:["person",e],queryFn:()=>Qn.getById(e),enabled:r});p.useEffect(()=>{a&&o({name:a.name,role:a.role,relationshipType:a.relationshipType,notes:a.notes,isPrimary:a.isPrimary})},[a]);const c=te({mutationFn:Qn.create,onSuccess:()=>{n.invalidateQueries({queryKey:["persons"]}),n.invalidateQueries({queryKey:["stats"]}),t("/people")}}),u=te({mutationFn:({id:g,data:j})=>Qn.update(g,j),onSuccess:()=>{n.invalidateQueries({queryKey:["persons"]}),n.invalidateQueries({queryKey:["person",e]}),t("/people")}}),h=g=>{g.preventDefault(),r&&e?u.mutate({id:e,data:i}):c.mutate(i)},d=c.isPending||u.isPending;return r&&l?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading person..."})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(E,{variant:"ghost",size:"icon",onClick:()=>t("/people"),children:s.jsx(Ot,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:r?"Edit Person":"New Person"}),s.jsx("p",{className:"text-muted-foreground",children:r?"Update person details":"Add a new person to your memoir"})]})]}),s.jsx("form",{onSubmit:h,children:s.jsxs(_,{children:[s.jsx(H,{children:s.jsx(V,{children:"Person Details"})}),s.jsxs(z,{className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Z,{htmlFor:"name",children:"Name *"}),s.jsx(fe,{id:"name",value:i.name,onChange:g=>o(j=>({...j,name:g.target.value})),placeholder:"Person's name",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Z,{htmlFor:"role",children:"Role"}),s.jsx(fe,{id:"role",value:i.role,onChange:g=>o(j=>({...j,role:g.target.value})),placeholder:"e.g., mother, friend, boss"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Z,{htmlFor:"relationshipType",children:"Relationship Type"}),s.jsx(fe,{id:"relationshipType",value:i.relationshipType,onChange:g=>o(j=>({...j,relationshipType:g.target.value})),placeholder:"e.g., family, romantic, professional"})]}),s.jsxs("div",{className:"space-y-2 flex items-center gap-2 pt-8",children:[s.jsx("input",{type:"checkbox",id:"isPrimary",checked:i.isPrimary,onChange:g=>o(j=>({...j,isPrimary:g.target.checked})),className:"h-4 w-4"}),s.jsx(Z,{htmlFor:"isPrimary",children:"Primary/Central Person"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Z,{htmlFor:"notes",children:"Notes"}),s.jsx(Mt,{id:"notes",value:i.notes,onChange:g=>o(j=>({...j,notes:g.target.value})),placeholder:"Additional notes about this person...",rows:6,className:"font-narrative"}),s.jsx(Ic,{title:i.name,summary:`${i.role} ${i.relationshipType}`,notes:i.notes||"",currentTags:[],onAddTag:()=>{}})]}),s.jsxs("div",{className:"flex justify-end gap-4",children:[s.jsx(E,{type:"button",variant:"outline",onClick:()=>t("/people"),children:"Cancel"}),s.jsxs(E,{type:"submit",disabled:d,children:[s.jsx($i,{className:"mr-2 h-4 w-4"}),d?"Saving...":r?"Update Person":"Create Person"]})]})]})]})})]})}const D4=["journal","email","photo","chatlog","document","video","audio","other"];function F4(){const e=Ue(),[t,n]=p.useState("all"),{data:r,isLoading:i}=re({queryKey:["artifacts",t],queryFn:()=>zr.getAll({type:t!=="all"?t:void 0})}),o=te({mutationFn:zr.delete,onSuccess:()=>{e.invalidateQueries({queryKey:["artifacts"]}),e.invalidateQueries({queryKey:["stats"]})}}),a=c=>{window.confirm("Are you sure you want to delete this artifact?")&&o.mutate(c)},l=(c,u=40)=>c.length<=u?c:c.substring(0,u)+"...";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Artifacts"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage journals, photos, emails, and other artifacts"})]}),s.jsx(X,{to:"/artifacts/new",children:s.jsxs(E,{children:[s.jsx(Ee,{className:"mr-2 h-4 w-4"}),"New Artifact"]})})]}),s.jsxs(_,{children:[s.jsx(H,{children:s.jsx(V,{className:"text-lg",children:"Filters"})}),s.jsx(z,{children:s.jsxs("div",{className:"w-64",children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Type"}),s.jsxs(lt,{value:t,onValueChange:n,children:[s.jsx(Je,{children:s.jsx(ct,{placeholder:"All types"})}),s.jsxs(Ze,{children:[s.jsx(ve,{value:"all",children:"All types"}),D4.map(c=>s.jsx(ve,{value:c,children:c},c))]})]})]})})]}),s.jsx(_,{children:s.jsx(z,{className:"p-0",children:i?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading artifacts..."})}):r&&r.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b bg-muted/50",children:[s.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:"Type"}),s.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:"Description"}),s.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:"Source"}),s.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:"Path/URL"}),s.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:"Events"}),s.jsx("th",{className:"h-12 px-4 text-right align-middle font-medium text-muted-foreground",children:"Actions"})]})}),s.jsx("tbody",{children:r.map(c=>{var u;return s.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[s.jsx("td",{className:"p-4 align-middle",children:s.jsx(X,{to:`/artifacts/${c.id}`,className:"font-medium hover:underline capitalize",children:c.type})}),s.jsx("td",{className:"p-4 align-middle text-muted-foreground",children:c.shortDescription||""}),s.jsx("td",{className:"p-4 align-middle text-muted-foreground",children:c.sourceSystem||""}),s.jsx("td",{className:"p-4 align-middle text-muted-foreground text-sm",children:c.sourcePathOrUrl?l(c.sourcePathOrUrl):""}),s.jsx("td",{className:"p-4 align-middle text-muted-foreground",children:((u=c._count)==null?void 0:u.eventLinks)??0}),s.jsx("td",{className:"p-4 align-middle text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(X,{to:`/artifacts/${c.id}/edit`,children:s.jsx(E,{variant:"ghost",size:"icon",children:s.jsx(Vt,{className:"h-4 w-4"})})}),s.jsx(E,{variant:"ghost",size:"icon",onClick:()=>a(c.id),disabled:o.isPending,children:s.jsx(rr,{className:"h-4 w-4 text-destructive"})})]})})]},c.id)})})]})}):s.jsxs("div",{className:"flex flex-col items-center justify-center h-32 gap-2",children:[s.jsx("div",{className:"text-muted-foreground",children:"No artifacts found"}),s.jsx(X,{to:"/artifacts/new",children:s.jsxs(E,{variant:"outline",size:"sm",children:[s.jsx(Ee,{className:"mr-2 h-4 w-4"}),"Add your first artifact"]})})]})})})]})}function _4(){var o,a;const{id:e}=gn(),t=nt(),{data:n,isLoading:r}=re({queryKey:["artifact",e],queryFn:()=>zr.getById(e),enabled:!!e}),i=l=>l?new Date(l).toLocaleDateString():"";return r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading artifact..."})}):n?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(E,{variant:"ghost",size:"icon",onClick:()=>t("/artifacts"),children:s.jsx(Ot,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight capitalize",children:n.type}),n.shortDescription&&s.jsx("p",{className:"text-muted-foreground",children:n.shortDescription})]})]}),s.jsx(X,{to:`/artifacts/${e}/edit`,children:s.jsxs(E,{children:[s.jsx(Vt,{className:"mr-2 h-4 w-4"}),"Edit Artifact"]})})]}),n.type==="audio"&&n.sourcePathOrUrl&&s.jsxs(_,{children:[s.jsx(H,{children:s.jsxs(V,{className:"flex items-center gap-2",children:[s.jsx(tv,{className:"h-5 w-5"}),"Audio Playback"]})}),s.jsxs(z,{children:[s.jsx("audio",{controls:!0,className:"w-full",src:`http://localhost:3001/api${n.sourcePathOrUrl}`,children:"Your browser does not support the audio element."}),n.importedFrom&&s.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Original file: ",n.importedFrom]})]})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs(_,{children:[s.jsx(H,{children:s.jsx(V,{children:"Details"})}),s.jsxs(z,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Source System"}),s.jsx("div",{children:n.sourceSystem||""})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Source Path/URL"}),s.jsx("div",{className:"break-all text-sm",children:n.sourcePathOrUrl||""})]}),n.importedFrom&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Imported From"}),s.jsx("div",{children:n.importedFrom})]})]})]}),n.transcribedText&&s.jsxs(_,{children:[s.jsx(H,{children:s.jsx(V,{children:"Transcribed Text"})}),s.jsx(z,{children:s.jsx("p",{className:"font-narrative whitespace-pre-wrap",children:n.transcribedText})})]})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs(_,{children:[s.jsx(H,{children:s.jsxs(V,{className:"flex items-center gap-2",children:[s.jsx(He,{className:"h-5 w-5"}),"Linked Events (",((o=n.eventLinks)==null?void 0:o.length)||0,")"]})}),s.jsx(z,{children:n.eventLinks&&n.eventLinks.length>0?s.jsx("ul",{className:"space-y-3",children:n.eventLinks.map(l=>s.jsx("li",{className:"border-b pb-2 last:border-0",children:s.jsxs(X,{to:`/events/${l.event.id}`,className:"hover:underline",children:[s.jsx("div",{className:"font-medium",children:l.event.title}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[i(l.event.date),l.event.chapter&&`  Ch. ${l.event.chapter.number}`]})]})},l.event.id))}):s.jsx("p",{className:"text-muted-foreground text-sm",children:"No events linked"})})]}),s.jsxs(_,{children:[s.jsx(H,{children:s.jsxs(V,{className:"flex items-center gap-2",children:[s.jsx(jt,{className:"h-5 w-5"}),"Linked People (",((a=n.personLinks)==null?void 0:a.length)||0,")"]})}),s.jsx(z,{children:n.personLinks&&n.personLinks.length>0?s.jsx("ul",{className:"space-y-2",children:n.personLinks.map(l=>s.jsx("li",{children:s.jsxs(X,{to:`/people/${l.person.id}`,className:"hover:underline",children:[s.jsx("span",{className:"font-medium",children:l.person.name}),l.person.role&&s.jsxs("span",{className:"text-muted-foreground ml-2",children:["(",l.person.role,")"]})]})},l.person.id))}):s.jsx("p",{className:"text-muted-foreground text-sm",children:"No people linked"})})]})]})]}):s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-destructive",children:"Artifact not found"})})}const z4=["journal","email","photo","chatlog","document","video","audio","other"];function ig(){const{id:e}=gn(),t=nt(),n=Ue(),r=!!e,[i,o]=p.useState({type:"",sourceSystem:"",sourcePathOrUrl:"",shortDescription:"",transcribedText:null,importedFrom:null}),[a,l]=p.useState(""),[c,u]=p.useState(!1),{data:h,isLoading:d}=re({queryKey:["artifact",e],queryFn:()=>zr.getById(e),enabled:r});p.useEffect(()=>{h&&o({type:h.type,sourceSystem:h.sourceSystem,sourcePathOrUrl:h.sourcePathOrUrl,shortDescription:h.shortDescription,transcribedText:h.transcribedText,importedFrom:h.importedFrom})},[h]);const g=te({mutationFn:zr.create,onSuccess:()=>{n.invalidateQueries({queryKey:["artifacts"]}),n.invalidateQueries({queryKey:["stats"]}),t("/artifacts")}}),j=te({mutationFn:({id:f,data:m})=>zr.update(f,m),onSuccess:()=>{n.invalidateQueries({queryKey:["artifacts"]}),n.invalidateQueries({queryKey:["artifact",e]}),t("/artifacts")}}),w=f=>{f.preventDefault(),r&&e?j.mutate({id:e,data:i}):g.mutate(i)},x=g.isPending||j.isPending;return r&&d?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading artifact..."})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(E,{variant:"ghost",size:"icon",onClick:()=>t("/artifacts"),children:s.jsx(Ot,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:r?"Edit Artifact":"New Artifact"}),s.jsx("p",{className:"text-muted-foreground",children:r?"Update artifact details":"Add a new artifact to your archive"})]})]}),s.jsx("form",{onSubmit:w,children:s.jsxs(_,{children:[s.jsx(H,{children:s.jsx(V,{children:"Artifact Details"})}),s.jsxs(z,{className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Z,{htmlFor:"type",children:"Type *"}),s.jsxs(lt,{value:i.type,onValueChange:f=>o(m=>({...m,type:f})),children:[s.jsx(Je,{children:s.jsx(ct,{placeholder:"Select type..."})}),s.jsx(Ze,{children:z4.map(f=>s.jsx(ve,{value:f,className:"capitalize",children:f},f))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Z,{htmlFor:"sourceSystem",children:"Source System"}),s.jsx(fe,{id:"sourceSystem",value:i.sourceSystem,onChange:f=>o(m=>({...m,sourceSystem:f.target.value})),placeholder:"e.g., AOL, Gmail, Dropbox"})]}),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(Z,{htmlFor:"sourcePathOrUrl",children:"Source Path or URL"}),s.jsx(fe,{id:"sourcePathOrUrl",value:i.sourcePathOrUrl,onChange:f=>o(m=>({...m,sourcePathOrUrl:f.target.value})),placeholder:"e.g., C:\\Documents\\journal.txt or https://..."})]}),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(Z,{htmlFor:"shortDescription",children:"Short Description"}),s.jsx(fe,{id:"shortDescription",value:i.shortDescription,onChange:f=>o(m=>({...m,shortDescription:f.target.value})),placeholder:"Brief description of this artifact"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Z,{htmlFor:"importedFrom",children:"Imported From"}),s.jsx(fe,{id:"importedFrom",value:i.importedFrom||"",onChange:f=>o(m=>({...m,importedFrom:f.target.value||null})),placeholder:"Notes about import pipeline"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Z,{htmlFor:"transcribedText",children:"Transcribed Text"}),s.jsx(Mt,{id:"transcribedText",value:i.transcribedText||"",onChange:f=>o(m=>({...m,transcribedText:f.target.value||null})),placeholder:"Full transcription or content of the artifact...",rows:10,className:"font-narrative"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"For journals, emails, or chat logs, paste the full text content here"}),s.jsx(Ic,{title:i.shortDescription||"",summary:i.type+" "+i.sourceSystem,notes:i.transcribedText||"",currentTags:a.split(",").map(f=>f.trim()).filter(Boolean),onAddTag:f=>{const m=a.trim();l(m?`${m}, ${f}`:f)}}),a&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Suggested tags:"})," ",a,s.jsx("p",{className:"text-xs mt-1",children:"These tags will be available when linking this artifact to events"})]}),i.type&&!c&&s.jsxs(E,{type:"button",variant:"outline",size:"sm",onClick:()=>u(!0),className:"mt-2",children:["Add more context about this ",i.type]})]}),c&&s.jsx(kf,{contentType:i.type==="photo"?"photo":i.type==="document"||i.type==="journal"||i.type==="email"?"document":"artifact",contentSummary:i.shortDescription||`this ${i.type}`,onAnswersComplete:f=>{let m=i.transcribedText||"";m+=`

--- Context ---
`,Object.entries(f).forEach(([y,v])=>{v&&(m+=`${y}: ${v}
`)}),o(y=>({...y,transcribedText:m})),u(!1)},onSkip:()=>u(!1)}),s.jsxs("div",{className:"flex justify-end gap-4",children:[s.jsx(E,{type:"button",variant:"outline",onClick:()=>t("/artifacts"),children:"Cancel"}),s.jsxs(E,{type:"submit",disabled:x||!i.type,children:[s.jsx($i,{className:"mr-2 h-4 w-4"}),x?"Saving...":r?"Update Artifact":"Create Artifact"]})]})]})]})})]})}const $4=["dream","omen","sign","symbolic event","coincidence","vision","other"];function U4(){const e=Ue(),[t,n]=p.useState("all"),{data:r,isLoading:i}=re({queryKey:["synchronicities",t],queryFn:()=>xs.getAll({type:t!=="all"?t:void 0})}),o=te({mutationFn:xs.delete,onSuccess:()=>{e.invalidateQueries({queryKey:["synchronicities"]}),e.invalidateQueries({queryKey:["stats"]})}}),a=c=>{window.confirm("Are you sure you want to delete this synchronicity?")&&o.mutate(c)},l=c=>c?new Date(c).toLocaleDateString():"";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Synchronicities"}),s.jsx("p",{className:"text-muted-foreground",children:"Track dreams, omens, and symbolic events"})]}),s.jsx(X,{to:"/synchronicities/new",children:s.jsxs(E,{children:[s.jsx(Ee,{className:"mr-2 h-4 w-4"}),"New Synchronicity"]})})]}),s.jsxs(_,{children:[s.jsx(H,{children:s.jsx(V,{className:"text-lg",children:"Filters"})}),s.jsx(z,{children:s.jsxs("div",{className:"w-64",children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Type"}),s.jsxs(lt,{value:t,onValueChange:n,children:[s.jsx(Je,{children:s.jsx(ct,{placeholder:"All types"})}),s.jsxs(Ze,{children:[s.jsx(ve,{value:"all",children:"All types"}),$4.map(c=>s.jsx(ve,{value:c,children:c},c))]})]})]})})]}),s.jsx(_,{children:s.jsx(z,{className:"p-0",children:i?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading synchronicities..."})}):r&&r.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b bg-muted/50",children:[s.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:"Date"}),s.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:"Type"}),s.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:"Symbolic Tag"}),s.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:"Events"}),s.jsx("th",{className:"h-12 px-4 text-right align-middle font-medium text-muted-foreground",children:"Actions"})]})}),s.jsx("tbody",{children:r.map(c=>{var u;return s.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[s.jsx("td",{className:"p-4 align-middle text-muted-foreground",children:l(c.date)}),s.jsx("td",{className:"p-4 align-middle",children:s.jsx(X,{to:`/synchronicities/${c.id}`,className:"font-medium hover:underline capitalize",children:c.type})}),s.jsx("td",{className:"p-4 align-middle text-muted-foreground",children:c.symbolicTag||""}),s.jsx("td",{className:"p-4 align-middle text-muted-foreground",children:((u=c._count)==null?void 0:u.eventLinks)??0}),s.jsx("td",{className:"p-4 align-middle text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(X,{to:`/synchronicities/${c.id}/edit`,children:s.jsx(E,{variant:"ghost",size:"icon",children:s.jsx(Vt,{className:"h-4 w-4"})})}),s.jsx(E,{variant:"ghost",size:"icon",onClick:()=>a(c.id),disabled:o.isPending,children:s.jsx(rr,{className:"h-4 w-4 text-destructive"})})]})})]},c.id)})})]})}):s.jsxs("div",{className:"flex flex-col items-center justify-center h-32 gap-2",children:[s.jsx("div",{className:"text-muted-foreground",children:"No synchronicities found"}),s.jsx(X,{to:"/synchronicities/new",children:s.jsxs(E,{variant:"outline",size:"sm",children:[s.jsx(Ee,{className:"mr-2 h-4 w-4"}),"Add your first synchronicity"]})})]})})})]})}function W4(){var o;const{id:e}=gn(),t=nt(),{data:n,isLoading:r}=re({queryKey:["synchronicity",e],queryFn:()=>xs.getById(e),enabled:!!e}),i=a=>a?new Date(a).toLocaleDateString():"";return r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading synchronicity..."})}):n?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(E,{variant:"ghost",size:"icon",onClick:()=>t("/synchronicities"),children:s.jsx(Ot,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight capitalize",children:n.type}),s.jsxs("p",{className:"text-muted-foreground",children:[i(n.date),n.symbolicTag&&`  ${n.symbolicTag}`]})]})]}),s.jsx(X,{to:`/synchronicities/${e}/edit`,children:s.jsxs(E,{children:[s.jsx(Vt,{className:"mr-2 h-4 w-4"}),"Edit Synchronicity"]})})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs(_,{children:[s.jsx(H,{children:s.jsx(V,{children:"Details"})}),s.jsxs(z,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Type"}),s.jsx("div",{className:"capitalize",children:n.type})]}),n.symbolicTag&&s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Symbolic Tag"}),s.jsx("div",{children:n.symbolicTag})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Date"}),s.jsx("div",{children:i(n.date)})]})]})]}),s.jsxs(_,{children:[s.jsx(H,{children:s.jsx(V,{children:"Description"})}),s.jsx(z,{children:s.jsx("p",{className:"font-narrative whitespace-pre-wrap",children:n.description})})]})]}),s.jsxs(_,{children:[s.jsx(H,{children:s.jsxs(V,{className:"flex items-center gap-2",children:[s.jsx(He,{className:"h-5 w-5"}),"Linked Events (",((o=n.eventLinks)==null?void 0:o.length)||0,")"]})}),s.jsx(z,{children:n.eventLinks&&n.eventLinks.length>0?s.jsx("ul",{className:"space-y-3",children:n.eventLinks.map(a=>s.jsx("li",{className:"border-b pb-2 last:border-0",children:s.jsxs(X,{to:`/events/${a.event.id}`,className:"hover:underline",children:[s.jsx("div",{className:"font-medium",children:a.event.title}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[i(a.event.date),a.event.chapter&&`  Ch. ${a.event.chapter.number}`,a.event.traumaCycle&&`  ${a.event.traumaCycle.label}`]})]})},a.event.id))}):s.jsx("p",{className:"text-muted-foreground text-sm",children:"No events linked to this synchronicity"})})]})]}):s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-destructive",children:"Synchronicity not found"})})}const B4=["dream","omen","sign","symbolic event","coincidence","vision","other"];function og(){const{id:e}=gn(),t=nt(),n=Ue(),r=!!e,[i,o]=p.useState({date:null,type:"",description:"",symbolicTag:null}),{data:a,isLoading:l}=re({queryKey:["synchronicity",e],queryFn:()=>xs.getById(e),enabled:r});p.useEffect(()=>{a&&o({date:a.date,type:a.type,description:a.description,symbolicTag:a.symbolicTag})},[a]);const c=te({mutationFn:xs.create,onSuccess:()=>{n.invalidateQueries({queryKey:["synchronicities"]}),n.invalidateQueries({queryKey:["stats"]}),t("/synchronicities")}}),u=te({mutationFn:({id:g,data:j})=>xs.update(g,j),onSuccess:()=>{n.invalidateQueries({queryKey:["synchronicities"]}),n.invalidateQueries({queryKey:["synchronicity",e]}),t("/synchronicities")}}),h=g=>{g.preventDefault(),r&&e?u.mutate({id:e,data:i}):c.mutate(i)},d=c.isPending||u.isPending;return r&&l?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading synchronicity..."})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(E,{variant:"ghost",size:"icon",onClick:()=>t("/synchronicities"),children:s.jsx(Ot,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:r?"Edit Synchronicity":"New Synchronicity"}),s.jsx("p",{className:"text-muted-foreground",children:r?"Update synchronicity details":"Record a dream, omen, or symbolic event"})]})]}),s.jsx("form",{onSubmit:h,children:s.jsxs(_,{children:[s.jsx(H,{children:s.jsx(V,{children:"Synchronicity Details"})}),s.jsxs(z,{className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Z,{htmlFor:"type",children:"Type *"}),s.jsxs(lt,{value:i.type,onValueChange:g=>o(j=>({...j,type:g})),children:[s.jsx(Je,{children:s.jsx(ct,{placeholder:"Select type..."})}),s.jsx(Ze,{children:B4.map(g=>s.jsx(ve,{value:g,className:"capitalize",children:g},g))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Z,{htmlFor:"date",children:"Date"}),s.jsx(fe,{id:"date",type:"date",value:i.date?i.date.split("T")[0]:"",onChange:g=>o(j=>({...j,date:g.target.value?new Date(g.target.value).toISOString():null}))})]}),s.jsxs("div",{className:"space-y-2 md:col-span-2",children:[s.jsx(Z,{htmlFor:"symbolicTag",children:"Symbolic Tag"}),s.jsx(fe,{id:"symbolicTag",value:i.symbolicTag||"",onChange:g=>o(j=>({...j,symbolicTag:g.target.value||null})),placeholder:"e.g., raccoon, train, storm, owl"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"A short keyword representing the symbolic element"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Z,{htmlFor:"description",children:"Description *"}),s.jsx(Mt,{id:"description",value:i.description,onChange:g=>o(j=>({...j,description:g.target.value})),placeholder:"Describe the synchronicity in detail...",rows:8,className:"font-narrative",required:!0}),s.jsx(Ic,{title:i.type,summary:i.symbolicTag||"",notes:i.description,currentTags:[],onAddTag:()=>{}})]}),s.jsxs("div",{className:"flex justify-end gap-4",children:[s.jsx(E,{type:"button",variant:"outline",onClick:()=>t("/synchronicities"),children:"Cancel"}),s.jsxs(E,{type:"submit",disabled:d||!i.type||!i.description,children:[s.jsx($i,{className:"mr-2 h-4 w-4"}),d?"Saving...":r?"Update Synchronicity":"Create Synchronicity"]})]})]})]})})]})}function q4(){const[e,t]=p.useState({chapterId:"all",traumaCycleId:"all"}),{data:n,isLoading:r}=re({queryKey:["timeline",e],queryFn:()=>vE.get({chapterId:e.chapterId!=="all"?e.chapterId:void 0,traumaCycleId:e.traumaCycleId!=="all"?e.traumaCycleId:void 0})}),{data:i}=re({queryKey:["chapters"],queryFn:kr.getAll}),{data:o}=re({queryKey:["traumaCycles"],queryFn:Er.getAll}),a=l=>l?new Date(l).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Timeline"}),s.jsxs("p",{className:"text-muted-foreground",children:["Chronological view of your life events",(n==null?void 0:n.yearRange)&&s.jsxs("span",{className:"ml-2",children:["(",n.yearRange.start,"  ",n.yearRange.end,")"]})]})]}),s.jsxs(_,{children:[s.jsx(H,{children:s.jsx(V,{className:"text-lg",children:"Filters"})}),s.jsx(z,{children:s.jsxs("div",{className:"flex gap-4 flex-wrap",children:[s.jsxs("div",{className:"w-64",children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Chapter"}),s.jsxs(lt,{value:e.chapterId,onValueChange:l=>t(c=>({...c,chapterId:l})),children:[s.jsx(Je,{children:s.jsx(ct,{placeholder:"All chapters"})}),s.jsxs(Ze,{children:[s.jsx(ve,{value:"all",children:"All chapters"}),i==null?void 0:i.map(l=>s.jsxs(ve,{value:l.id,children:[l.number,". ",l.title]},l.id))]})]})]}),s.jsxs("div",{className:"w-64",children:[s.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Trauma Cycle"}),s.jsxs(lt,{value:e.traumaCycleId,onValueChange:l=>t(c=>({...c,traumaCycleId:l})),children:[s.jsx(Je,{children:s.jsx(ct,{placeholder:"All cycles"})}),s.jsxs(Ze,{children:[s.jsx(ve,{value:"all",children:"All cycles"}),o==null?void 0:o.map(l=>s.jsx(ve,{value:l.id,children:l.label},l.id))]})]})]})]})})]}),r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading timeline..."})}):n&&n.timeline.length>0?s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-8 top-0 bottom-0 w-0.5 bg-border"}),n.timeline.map(l=>s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-bold text-lg z-10",children:l.year}),s.jsxs("span",{className:"text-muted-foreground",children:[l.events.length," event",l.events.length!==1?"s":""]})]}),s.jsx("div",{className:"ml-20 space-y-4",children:l.events.map(c=>{var u,h,d,g;return s.jsxs(_,{className:"relative",children:[s.jsx("div",{className:"absolute -left-12 top-6 w-4 h-4 rounded-full bg-muted border-2 border-background"}),s.jsxs(z,{className:"pt-4",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsxs(X,{to:`/events/${c.id}`,className:"text-lg font-semibold hover:underline flex items-center gap-2",children:[c.title,c.isKeystone&&s.jsx(Yr,{className:"h-4 w-4 text-yellow-500 fill-yellow-500"})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[a(c.date),c.location&&`  ${c.location}`]})]}),s.jsxs("div",{className:"flex gap-2 text-muted-foreground",children:[(u=c._count)!=null&&u.personLinks?s.jsxs("span",{className:"flex items-center gap-1 text-xs",children:[s.jsx(jt,{className:"h-3 w-3"}),c._count.personLinks]}):null,(h=c._count)!=null&&h.artifactLinks?s.jsxs("span",{className:"flex items-center gap-1 text-xs",children:[s.jsx(dt,{className:"h-3 w-3"}),c._count.artifactLinks]}):null,(d=c._count)!=null&&d.synchronicityLinks?s.jsxs("span",{className:"flex items-center gap-1 text-xs",children:[s.jsx(ht,{className:"h-3 w-3"}),c._count.synchronicityLinks]}):null,(g=c._count)!=null&&g.songLinks?s.jsxs("span",{className:"flex items-center gap-1 text-xs",children:[s.jsx(On,{className:"h-3 w-3"}),c._count.songLinks]}):null]})]}),c.summary&&s.jsx("p",{className:"mt-2 text-sm text-muted-foreground line-clamp-2",children:c.summary}),c.emotionTags&&c.emotionTags.length>0&&s.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:c.emotionTags.slice(0,4).map((j,w)=>s.jsx("span",{className:"px-2 py-0.5 bg-muted rounded text-xs",children:j},w))}),s.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:[c.chapter&&s.jsxs("span",{children:["Ch. ",c.chapter.number,": ",c.chapter.title]}),c.traumaCycle&&s.jsxs("span",{className:"ml-2",children:[" ",c.traumaCycle.label]})]})]})]},c.id)})})]},l.year))]}):s.jsx(_,{children:s.jsxs(z,{className:"flex flex-col items-center justify-center h-64 gap-2",children:[s.jsx("div",{className:"text-muted-foreground",children:"No events with dates found"}),s.jsx(X,{to:"/events/new",className:"text-primary hover:underline text-sm",children:"Create an event with a date to see it on the timeline"})]})})]})}const H4=[{value:"all",label:"All",icon:Zn},{value:"events",label:"Events",icon:He},{value:"persons",label:"People",icon:jt},{value:"artifacts",label:"Artifacts",icon:dt},{value:"synchronicities",label:"Synchronicities",icon:ht},{value:"chapters",label:"Chapters",icon:wt},{value:"songs",label:"Songs",icon:On}];function V4(){const[e,t]=p.useState(""),[n,r]=p.useState("all"),[i,o]=p.useState(""),{data:a,isLoading:l,isFetching:c}=re({queryKey:["search",i,n],queryFn:()=>wE.search(i,n!=="all"?n:void 0),enabled:i.length>=2}),u=d=>{d.preventDefault(),e.trim().length>=2&&o(e.trim())},h=d=>d?new Date(d).toLocaleDateString():"";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Search"}),s.jsx("p",{className:"text-muted-foreground",children:"Search across all your memoir data"})]}),s.jsx(_,{children:s.jsx(z,{className:"pt-6",children:s.jsxs("form",{onSubmit:u,className:"flex gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Zn,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(fe,{placeholder:"Search events, people, artifacts...",value:e,onChange:d=>t(d.target.value),className:"pl-10"})]}),s.jsxs(lt,{value:n,onValueChange:r,children:[s.jsx(Je,{className:"w-48",children:s.jsx(ct,{})}),s.jsx(Ze,{children:H4.map(d=>s.jsx(ve,{value:d.value,children:d.label},d.value))})]}),s.jsx(E,{type:"submit",disabled:e.length<2,children:"Search"})]})})}),l||c?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx("div",{className:"text-muted-foreground",children:"Searching..."})}):a?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Found ",a.totalResults," result",a.totalResults!==1?"s":"",' for "',a.query,'"']}),a.results.events.length>0&&s.jsxs(_,{children:[s.jsx(H,{children:s.jsxs(V,{className:"flex items-center gap-2",children:[s.jsx(He,{className:"h-5 w-5"}),"Events (",a.results.events.length,")"]})}),s.jsx(z,{children:s.jsx("ul",{className:"space-y-3",children:a.results.events.map(d=>s.jsx("li",{className:"border-b pb-2 last:border-0",children:s.jsxs(X,{to:`/events/${d.id}`,className:"hover:underline",children:[s.jsx("div",{className:"font-medium",children:d.title}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[h(d.date),d.location&&`  ${d.location}`,d.chapter&&`  Ch. ${d.chapter.number}`]}),d.summary&&s.jsx("div",{className:"text-sm text-muted-foreground mt-1 line-clamp-1",children:d.summary})]})},d.id))})})]}),a.results.persons.length>0&&s.jsxs(_,{children:[s.jsx(H,{children:s.jsxs(V,{className:"flex items-center gap-2",children:[s.jsx(jt,{className:"h-5 w-5"}),"People (",a.results.persons.length,")"]})}),s.jsx(z,{children:s.jsx("ul",{className:"space-y-2",children:a.results.persons.map(d=>{var g;return s.jsx("li",{children:s.jsxs(X,{to:`/people/${d.id}`,className:"hover:underline",children:[s.jsx("span",{className:"font-medium",children:d.name}),d.role&&s.jsxs("span",{className:"text-muted-foreground ml-2",children:["(",d.role,")"]}),s.jsxs("span",{className:"text-muted-foreground ml-2 text-sm",children:[" ",((g=d._count)==null?void 0:g.eventLinks)??0," events"]})]})},d.id)})})})]}),a.results.artifacts.length>0&&s.jsxs(_,{children:[s.jsx(H,{children:s.jsxs(V,{className:"flex items-center gap-2",children:[s.jsx(dt,{className:"h-5 w-5"}),"Artifacts (",a.results.artifacts.length,")"]})}),s.jsx(z,{children:s.jsx("ul",{className:"space-y-2",children:a.results.artifacts.map(d=>s.jsx("li",{children:s.jsxs(X,{to:`/artifacts/${d.id}`,className:"hover:underline",children:[s.jsx("span",{className:"font-medium capitalize",children:d.type}),d.shortDescription&&s.jsxs("span",{className:"text-muted-foreground ml-2",children:[" ",d.shortDescription]})]})},d.id))})})]}),a.results.synchronicities.length>0&&s.jsxs(_,{children:[s.jsx(H,{children:s.jsxs(V,{className:"flex items-center gap-2",children:[s.jsx(ht,{className:"h-5 w-5"}),"Synchronicities (",a.results.synchronicities.length,")"]})}),s.jsx(z,{children:s.jsx("ul",{className:"space-y-2",children:a.results.synchronicities.map(d=>s.jsx("li",{children:s.jsxs(X,{to:`/synchronicities/${d.id}`,className:"hover:underline",children:[s.jsx("span",{className:"font-medium capitalize",children:d.type}),d.symbolicTag&&s.jsxs("span",{className:"text-muted-foreground ml-2",children:["(",d.symbolicTag,")"]}),s.jsx("span",{className:"text-muted-foreground ml-2 text-sm",children:h(d.date)})]})},d.id))})})]}),a.results.chapters.length>0&&s.jsxs(_,{children:[s.jsx(H,{children:s.jsxs(V,{className:"flex items-center gap-2",children:[s.jsx(wt,{className:"h-5 w-5"}),"Chapters (",a.results.chapters.length,")"]})}),s.jsx(z,{children:s.jsx("ul",{className:"space-y-2",children:a.results.chapters.map(d=>s.jsx("li",{children:s.jsx(X,{to:`/chapters/${d.id}`,className:"hover:underline",children:s.jsxs("span",{className:"font-medium",children:[d.number,". ",d.title]})})},d.id))})})]}),a.results.songs.length>0&&s.jsxs(_,{children:[s.jsx(H,{children:s.jsxs(V,{className:"flex items-center gap-2",children:[s.jsx(On,{className:"h-5 w-5"}),"Songs (",a.results.songs.length,")"]})}),s.jsx(z,{children:s.jsx("ul",{className:"space-y-2",children:a.results.songs.map(d=>s.jsxs("li",{children:[s.jsx("span",{className:"font-medium",children:d.title}),s.jsxs("span",{className:"text-muted-foreground ml-2",children:[" ",d.artist]})]},d.id))})})]}),a.totalResults===0&&s.jsx(_,{children:s.jsx(z,{className:"flex items-center justify-center h-32",children:s.jsxs("div",{className:"text-muted-foreground",children:['No results found for "',a.query,'"']})})})]}):i?null:s.jsx(_,{children:s.jsx(z,{className:"flex items-center justify-center h-32",children:s.jsx("div",{className:"text-muted-foreground",children:"Enter at least 2 characters to search"})})})]})}function Q4(){const{data:e,isLoading:t}=re({queryKey:["narrative-chapters"],queryFn:ww.getChapters});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Chapters"}),s.jsx("p",{className:"text-muted-foreground",children:"Read your memoir by chapter"})]}),t?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading chapters..."})}):e&&e.length>0?s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.map(n=>{var r;return s.jsx(X,{to:`/chapters/${n.id}`,children:s.jsxs(_,{className:"h-full hover:bg-muted/50 transition-colors cursor-pointer",children:[s.jsx(H,{children:s.jsxs(V,{className:"flex items-center gap-2",children:[s.jsx(wt,{className:"h-5 w-5"}),s.jsxs("span",{children:[n.number,". ",n.title]})]})}),s.jsxs(z,{children:[n.yearsCovered&&n.yearsCovered.length>0&&s.jsxs("div",{className:"text-sm text-muted-foreground mb-2",children:["Years: ",n.yearsCovered.join(", ")]}),n.summary&&s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-3 mb-3",children:n.summary}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground",children:[s.jsx(He,{className:"h-4 w-4"}),n.eventCount," event",n.eventCount!==1?"s":""]}),((r=n.events)==null?void 0:r.some(i=>i.isKeystone))&&s.jsxs("span",{className:"flex items-center gap-1 text-yellow-500",children:[s.jsx(Yr,{className:"h-4 w-4 fill-yellow-500"}),"Keystone"]})]})]})]})},n.id)})}):s.jsx(_,{children:s.jsx(z,{className:"flex items-center justify-center h-32",children:s.jsx("div",{className:"text-muted-foreground",children:"No chapters available"})})})]})}function K4(){const{id:e}=gn(),t=nt(),{data:n,isLoading:r}=re({queryKey:["narrative-chapter",e],queryFn:()=>ww.getChapter(e),enabled:!!e}),i=o=>o?new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"";return r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading chapter..."})}):n?s.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(E,{variant:"ghost",onClick:()=>t("/chapters"),children:[s.jsx(Ot,{className:"mr-2 h-4 w-4"}),"All Chapters"]}),s.jsxs("div",{className:"flex gap-2",children:[n.prevChapter&&s.jsx(X,{to:`/chapters/${n.prevChapter.id}`,children:s.jsxs(E,{variant:"outline",size:"sm",children:[s.jsx(Ot,{className:"mr-2 h-4 w-4"}),"Ch. ",n.prevChapter.number]})}),n.nextChapter&&s.jsx(X,{to:`/chapters/${n.nextChapter.id}`,children:s.jsxs(E,{variant:"outline",size:"sm",children:["Ch. ",n.nextChapter.number,s.jsx(ks,{className:"ml-2 h-4 w-4"})]})})]})]}),s.jsxs("header",{className:"text-center py-8 border-b",children:[s.jsxs("div",{className:"text-muted-foreground mb-2",children:["Chapter ",n.number]}),s.jsx("h1",{className:"text-4xl font-bold tracking-tight mb-4",children:n.title}),n.yearsCovered&&n.yearsCovered.length>0&&s.jsx("div",{className:"text-muted-foreground",children:n.yearsCovered.join("  ")})]}),n.summary&&s.jsx("div",{className:"font-narrative text-lg text-muted-foreground italic text-center px-8",children:n.summary}),s.jsx("div",{className:"space-y-12",children:n.events&&n.events.length>0?n.events.map(o=>s.jsxs("article",{className:"space-y-4",children:[s.jsxs("header",{className:"border-b pb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h2",{className:"text-2xl font-semibold",children:o.title}),o.isKeystone&&s.jsx(Yr,{className:"h-5 w-5 text-yellow-500 fill-yellow-500"})]}),s.jsxs("div",{className:"text-muted-foreground",children:[i(o.date),o.location&&`  ${o.location}`]})]}),o.summary&&s.jsx("p",{className:"font-narrative text-lg",children:o.summary}),o.notes&&s.jsx("div",{className:"font-narrative whitespace-pre-wrap bg-muted/30 p-6 rounded-lg",children:o.notes}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.persons&&o.persons.length>0&&s.jsxs(_,{children:[s.jsx(H,{className:"py-3",children:s.jsxs(V,{className:"text-sm flex items-center gap-2",children:[s.jsx(jt,{className:"h-4 w-4"}),"People in this scene"]})}),s.jsx(z,{className:"py-2",children:s.jsx("ul",{className:"space-y-1 text-sm",children:o.persons.map(a=>s.jsx("li",{children:s.jsxs(X,{to:`/people/${a.id}`,className:"hover:underline",children:[a.name,a.role&&s.jsxs("span",{className:"text-muted-foreground ml-1",children:["(",a.role,")"]})]})},a.id))})})]}),o.songs&&o.songs.length>0&&s.jsxs(_,{children:[s.jsx(H,{className:"py-3",children:s.jsxs(V,{className:"text-sm flex items-center gap-2",children:[s.jsx(On,{className:"h-4 w-4"}),"Soundtrack"]})}),s.jsx(z,{className:"py-2",children:s.jsx("ul",{className:"space-y-1 text-sm",children:o.songs.map(a=>s.jsxs("li",{children:['"',a.title,'"  ',a.artist]},a.id))})})]}),o.artifacts&&o.artifacts.length>0&&s.jsxs(_,{children:[s.jsx(H,{className:"py-3",children:s.jsxs(V,{className:"text-sm flex items-center gap-2",children:[s.jsx(dt,{className:"h-4 w-4"}),"Related Artifacts"]})}),s.jsx(z,{className:"py-2",children:s.jsx("ul",{className:"space-y-1 text-sm",children:o.artifacts.map(a=>s.jsx("li",{children:s.jsxs(X,{to:`/artifacts/${a.id}`,className:"hover:underline",children:[s.jsx("span",{className:"capitalize",children:a.type}),a.shortDescription&&s.jsxs("span",{className:"text-muted-foreground ml-1",children:[" ",a.shortDescription]})]})},a.id))})})]}),o.synchronicities&&o.synchronicities.length>0&&s.jsxs(_,{children:[s.jsx(H,{className:"py-3",children:s.jsxs(V,{className:"text-sm flex items-center gap-2",children:[s.jsx(ht,{className:"h-4 w-4"}),"Synchronicities"]})}),s.jsx(z,{className:"py-2",children:s.jsx("ul",{className:"space-y-1 text-sm",children:o.synchronicities.map(a=>s.jsx("li",{children:s.jsxs(X,{to:`/synchronicities/${a.id}`,className:"hover:underline",children:[s.jsx("span",{className:"capitalize",children:a.type}),a.symbolicTag&&s.jsxs("span",{className:"text-muted-foreground ml-1",children:["(",a.symbolicTag,")"]})]})},a.id))})})]})]}),o.emotionTags&&o.emotionTags.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2",children:o.emotionTags.map((a,l)=>s.jsx("span",{className:"px-3 py-1 bg-muted rounded-full text-sm",children:a},l))}),s.jsx("div",{className:"text-right",children:s.jsx(X,{to:`/events/${o.id}`,className:"text-sm text-primary hover:underline",children:"View full event details "})})]},o.id)):s.jsx("div",{className:"text-center text-muted-foreground py-12",children:"No events recorded for this chapter yet."})}),s.jsxs("footer",{className:"flex items-center justify-between pt-8 border-t",children:[n.prevChapter?s.jsx(X,{to:`/chapters/${n.prevChapter.id}`,children:s.jsxs(E,{variant:"outline",children:[s.jsx(Ot,{className:"mr-2 h-4 w-4"}),n.prevChapter.number,". ",n.prevChapter.title]})}):s.jsx("div",{}),n.nextChapter&&s.jsx(X,{to:`/chapters/${n.nextChapter.id}`,children:s.jsxs(E,{variant:"outline",children:[n.nextChapter.number,". ",n.nextChapter.title,s.jsx(ks,{className:"ml-2 h-4 w-4"})]})})]})]}):s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-destructive",children:"Chapter not found"})})}function Y4(){const{data:e,isLoading:t}=re({queryKey:["export-stats"],queryFn:pu.getStats}),n=r=>r?new Date(r).toLocaleDateString():"N/A";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Export"}),s.jsx("p",{className:"text-muted-foreground",children:"Download your memoir data"})]}),s.jsxs(_,{children:[s.jsxs(H,{children:[s.jsx(V,{children:"Archive Statistics"}),s.jsx(Et,{children:"Overview of your memoir data"})]}),s.jsx(z,{children:t?s.jsx("div",{className:"text-muted-foreground",children:"Loading stats..."}):e?s.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(He,{className:"h-8 w-8 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold",children:e.events}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Events"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Yr,{className:"h-8 w-8 text-yellow-500"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold",children:e.keystoneEvents}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Keystone Events"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(jt,{className:"h-8 w-8 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold",children:e.persons}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"People"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(dt,{className:"h-8 w-8 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold",children:e.artifacts}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Artifacts"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(ht,{className:"h-8 w-8 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold",children:e.synchronicities}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Synchronicities"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(wt,{className:"h-8 w-8 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold",children:e.chapters}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Chapters"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(On,{className:"h-8 w-8 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold",children:e.songs}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Songs"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(He,{className:"h-8 w-8 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium",children:"Date Range"}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[n(e.dateRange.earliest),"  ",n(e.dateRange.latest)]})]})]})]}):null})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs(_,{children:[s.jsxs(H,{children:[s.jsxs(V,{className:"flex items-center gap-2",children:[s.jsx(W1,{className:"h-5 w-5"}),"JSON Export"]}),s.jsx(Et,{children:"Export all your data as a structured JSON file. Ideal for backups or data migration."})]}),s.jsx(z,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsx("li",{children:" All events with linked entities"}),s.jsx("li",{children:" All people, artifacts, synchronicities"}),s.jsx("li",{children:" Chapters, trauma cycles, songs"}),s.jsx("li",{children:" Complete relationship data"})]}),s.jsxs(E,{onClick:pu.downloadJson,className:"w-full",children:[s.jsx(Qo,{className:"mr-2 h-4 w-4"}),"Download JSON"]})]})})]}),s.jsxs(_,{children:[s.jsxs(H,{children:[s.jsxs(V,{className:"flex items-center gap-2",children:[s.jsx(dt,{className:"h-5 w-5"}),"Markdown Export"]}),s.jsx(Et,{children:"Export as a formatted Markdown document. Perfect for memoir drafts or sharing."})]}),s.jsx(z,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsx("li",{children:" Organized by chapter"}),s.jsx("li",{children:" Events with full narrative text"}),s.jsx("li",{children:" People and songs included"}),s.jsx("li",{children:" Ready for editing or publishing"})]}),s.jsxs(E,{onClick:pu.downloadMarkdown,className:"w-full",children:[s.jsx(Qo,{className:"mr-2 h-4 w-4"}),"Download Markdown"]})]})})]})]}),s.jsxs(_,{children:[s.jsx(H,{children:s.jsx(V,{children:"Export Notes"})}),s.jsxs(z,{className:"text-sm text-muted-foreground space-y-2",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"JSON Export:"})," Contains all data in a machine-readable format. Use this for backups or importing into other systems."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Markdown Export:"})," Generates a human-readable memoir draft. Events are organized by chapter with narrative formatting applied."]}),s.jsx("p",{children:"Keystone events are marked with  in the Markdown export. All emotion tags, people, and songs are included for context."})]})]})]})}function G4(){const e=Ue(),[t,n]=p.useState(!1),[r,i]=p.useState(null),[o,a]=p.useState({name:"",description:""}),{data:l,isLoading:c}=re({queryKey:["tags"],queryFn:Tr.getAll}),u=te({mutationFn:Tr.create,onSuccess:()=>{e.invalidateQueries({queryKey:["tags"]}),g()}}),h=te({mutationFn:({id:f,data:m})=>Tr.update(f,m),onSuccess:()=>{e.invalidateQueries({queryKey:["tags"]}),g()}}),d=te({mutationFn:Tr.delete,onSuccess:()=>{e.invalidateQueries({queryKey:["tags"]})}}),g=()=>{n(!1),i(null),a({name:"",description:""})},j=f=>{i(f),a({name:f.name,description:f.description}),n(!0)},w=f=>{f.preventDefault(),r?h.mutate({id:r.id,data:o}):u.mutate(o)},x=f=>{window.confirm("Are you sure you want to delete this tag?")&&d.mutate(f)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Tags"}),s.jsx("p",{className:"text-muted-foreground",children:"Organize events with categorical labels"})]}),s.jsxs(E,{onClick:()=>n(!0),children:[s.jsx(Ee,{className:"mr-2 h-4 w-4"}),"New Tag"]})]}),t&&s.jsxs(_,{children:[s.jsx(H,{children:s.jsx(V,{children:r?"Edit Tag":"Create Tag"})}),s.jsx(z,{children:s.jsxs("form",{onSubmit:w,className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Z,{htmlFor:"name",children:"Name *"}),s.jsx(fe,{id:"name",value:o.name,onChange:f=>a(m=>({...m,name:f.target.value})),placeholder:"Tag name",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Z,{htmlFor:"description",children:"Description"}),s.jsx(fe,{id:"description",value:o.description,onChange:f=>a(m=>({...m,description:f.target.value})),placeholder:"Optional description"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(E,{type:"submit",disabled:u.isPending||h.isPending,children:r?"Update":"Create"}),s.jsx(E,{type:"button",variant:"outline",onClick:g,children:"Cancel"})]})]})})]}),s.jsx(_,{children:s.jsx(z,{className:"p-0",children:c?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading tags..."})}):l&&l.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b bg-muted/50",children:[s.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:"Name"}),s.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:"Description"}),s.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:"Events"}),s.jsx("th",{className:"h-12 px-4 text-right align-middle font-medium text-muted-foreground",children:"Actions"})]})}),s.jsx("tbody",{children:l.map(f=>{var m;return s.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[s.jsx("td",{className:"p-4 align-middle",children:s.jsxs(X,{to:`/tags/${f.id}`,className:"font-medium hover:underline flex items-center gap-2",children:[s.jsx(Ui,{className:"h-4 w-4"}),f.name]})}),s.jsx("td",{className:"p-4 align-middle text-muted-foreground",children:f.description||""}),s.jsx("td",{className:"p-4 align-middle text-muted-foreground",children:((m=f._count)==null?void 0:m.eventLinks)??0}),s.jsx("td",{className:"p-4 align-middle text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(E,{variant:"ghost",size:"icon",onClick:()=>j(f),children:s.jsx(Vt,{className:"h-4 w-4"})}),s.jsx(E,{variant:"ghost",size:"icon",onClick:()=>x(f.id),disabled:d.isPending,children:s.jsx(rr,{className:"h-4 w-4 text-destructive"})})]})})]},f.id)})})]})}):s.jsxs("div",{className:"flex flex-col items-center justify-center h-32 gap-2",children:[s.jsx("div",{className:"text-muted-foreground",children:"No tags created yet"}),s.jsxs(E,{variant:"outline",size:"sm",onClick:()=>n(!0),children:[s.jsx(Ee,{className:"mr-2 h-4 w-4"}),"Create your first tag"]})]})})})]})}function X4(){var o;const{id:e}=gn(),t=nt(),{data:n,isLoading:r}=re({queryKey:["tag",e],queryFn:()=>Tr.getById(e),enabled:!!e}),i=a=>a?new Date(a).toLocaleDateString():"";return r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading tag..."})}):n?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(E,{variant:"ghost",size:"icon",onClick:()=>t("/tags"),children:s.jsx(Ot,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ui,{className:"h-5 w-5"}),s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:n.name})]}),n.description&&s.jsx("p",{className:"text-muted-foreground",children:n.description})]})]}),s.jsxs(_,{children:[s.jsx(H,{children:s.jsxs(V,{className:"flex items-center gap-2",children:[s.jsx(He,{className:"h-5 w-5"}),"Tagged Events (",((o=n.events)==null?void 0:o.length)||0,")"]})}),s.jsx(z,{children:n.events&&n.events.length>0?s.jsx("ul",{className:"space-y-3",children:n.events.map(a=>s.jsx("li",{className:"border-b pb-2 last:border-0",children:s.jsxs(X,{to:`/events/${a.id}`,className:"hover:underline",children:[s.jsx("div",{className:"font-medium",children:a.title}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[i(a.date),a.location&&`  ${a.location}`,a.chapter&&`  Ch. ${a.chapter.number}`]})]})},a.id))}):s.jsx("p",{className:"text-muted-foreground text-sm",children:"No events tagged with this tag"})})]})]}):s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-destructive",children:"Tag not found"})})}function J4(){const e=Ue(),[t,n]=p.useState(!1),[r,i]=p.useState(null),[o,a]=p.useState({name:"",description:""}),{data:l,isLoading:c}=re({queryKey:["collections"],queryFn:cn.getAll}),u=te({mutationFn:cn.create,onSuccess:()=>{e.invalidateQueries({queryKey:["collections"]}),g()}}),h=te({mutationFn:({id:f,data:m})=>cn.update(f,m),onSuccess:()=>{e.invalidateQueries({queryKey:["collections"]}),g()}}),d=te({mutationFn:cn.delete,onSuccess:()=>{e.invalidateQueries({queryKey:["collections"]})}}),g=()=>{n(!1),i(null),a({name:"",description:""})},j=f=>{i(f),a({name:f.name,description:f.description}),n(!0)},w=f=>{f.preventDefault(),r?h.mutate({id:r.id,data:o}):u.mutate(o)},x=f=>{window.confirm("Are you sure you want to delete this collection?")&&d.mutate(f)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Collections"}),s.jsx("p",{className:"text-muted-foreground",children:"Group events, artifacts, and people into custom collections"})]}),s.jsxs(E,{onClick:()=>n(!0),children:[s.jsx(Ee,{className:"mr-2 h-4 w-4"}),"New Collection"]})]}),t&&s.jsxs(_,{children:[s.jsx(H,{children:s.jsx(V,{children:r?"Edit Collection":"Create Collection"})}),s.jsx(z,{children:s.jsxs("form",{onSubmit:w,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Z,{htmlFor:"name",children:"Name *"}),s.jsx(fe,{id:"name",value:o.name,onChange:f=>a(m=>({...m,name:f.target.value})),placeholder:"Collection name",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Z,{htmlFor:"description",children:"Description"}),s.jsx(Mt,{id:"description",value:o.description,onChange:f=>a(m=>({...m,description:f.target.value})),placeholder:"Optional description",rows:3})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(E,{type:"submit",disabled:u.isPending||h.isPending,children:r?"Update":"Create"}),s.jsx(E,{type:"button",variant:"outline",onClick:g,children:"Cancel"})]})]})})]}),c?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading collections..."})}):l&&l.length>0?s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:l.map(f=>{var m,y,v;return s.jsxs(_,{className:"hover:bg-muted/50 transition-colors",children:[s.jsx(H,{className:"pb-2",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx(X,{to:`/collections/${f.id}`,children:s.jsxs(V,{className:"flex items-center gap-2 hover:underline",children:[s.jsx(la,{className:"h-5 w-5"}),f.name]})}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx(E,{variant:"ghost",size:"icon",onClick:()=>j(f),children:s.jsx(Vt,{className:"h-4 w-4"})}),s.jsx(E,{variant:"ghost",size:"icon",onClick:()=>x(f.id),disabled:d.isPending,children:s.jsx(rr,{className:"h-4 w-4 text-destructive"})})]})]})}),s.jsxs(z,{children:[f.description&&s.jsx("p",{className:"text-sm text-muted-foreground mb-3 line-clamp-2",children:f.description}),s.jsxs("div",{className:"flex gap-4 text-sm text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(He,{className:"h-4 w-4"}),((m=f._count)==null?void 0:m.eventLinks)??0]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(dt,{className:"h-4 w-4"}),((y=f._count)==null?void 0:y.artifactLinks)??0]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(jt,{className:"h-4 w-4"}),((v=f._count)==null?void 0:v.personLinks)??0]})]})]})]},f.id)})}):s.jsx(_,{children:s.jsxs(z,{className:"flex flex-col items-center justify-center h-32 gap-2",children:[s.jsx("div",{className:"text-muted-foreground",children:"No collections created yet"}),s.jsxs(E,{variant:"outline",size:"sm",onClick:()=>n(!0),children:[s.jsx(Ee,{className:"mr-2 h-4 w-4"}),"Create your first collection"]})]})})]})}function Z4(){var k,C,P;const{id:e}=gn(),t=nt(),n=Ue(),[r,i]=p.useState(null),[o,a]=p.useState(""),{data:l,isLoading:c}=re({queryKey:["collection",e],queryFn:()=>cn.getById(e),enabled:!!e}),{data:u}=re({queryKey:["events"],queryFn:()=>Vn.getAll(),enabled:r==="event"}),{data:h}=re({queryKey:["artifacts"],queryFn:()=>zr.getAll(),enabled:r==="artifact"}),{data:d}=re({queryKey:["persons"],queryFn:()=>Qn.getAll(),enabled:r==="person"}),g=te({mutationFn:A=>cn.addEvent(e,A),onSuccess:()=>{n.invalidateQueries({queryKey:["collection",e]}),a(""),i(null)}}),j=te({mutationFn:A=>cn.removeEvent(e,A),onSuccess:()=>n.invalidateQueries({queryKey:["collection",e]})}),w=te({mutationFn:A=>cn.addArtifact(e,A),onSuccess:()=>{n.invalidateQueries({queryKey:["collection",e]}),a(""),i(null)}}),x=te({mutationFn:A=>cn.removeArtifact(e,A),onSuccess:()=>n.invalidateQueries({queryKey:["collection",e]})}),f=te({mutationFn:A=>cn.addPerson(e,A),onSuccess:()=>{n.invalidateQueries({queryKey:["collection",e]}),a(""),i(null)}}),m=te({mutationFn:A=>cn.removePerson(e,A),onSuccess:()=>n.invalidateQueries({queryKey:["collection",e]})}),y=()=>{o&&(r==="event"&&g.mutate(o),r==="artifact"&&w.mutate(o),r==="person"&&f.mutate(o))},v=u==null?void 0:u.filter(A=>{var O;return!((O=l==null?void 0:l.events)!=null&&O.some(I=>I.id===A.id))}),N=h==null?void 0:h.filter(A=>{var O;return!((O=l==null?void 0:l.artifacts)!=null&&O.some(I=>I.id===A.id))}),b=d==null?void 0:d.filter(A=>{var O;return!((O=l==null?void 0:l.persons)!=null&&O.some(I=>I.id===A.id))});return c?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading collection..."})}):l?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(E,{variant:"ghost",size:"icon",onClick:()=>t("/collections"),children:s.jsx(Ot,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(la,{className:"h-5 w-5"}),s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:l.name})]}),l.description&&s.jsx("p",{className:"text-muted-foreground",children:l.description})]})]}),s.jsxs(_,{children:[s.jsx(H,{children:s.jsx(V,{className:"text-lg",children:"Add Items"})}),s.jsxs(z,{children:[s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsxs(E,{variant:r==="event"?"default":"outline",size:"sm",onClick:()=>i(r==="event"?null:"event"),children:[s.jsx(He,{className:"mr-2 h-4 w-4"}),"Event"]}),s.jsxs(E,{variant:r==="artifact"?"default":"outline",size:"sm",onClick:()=>i(r==="artifact"?null:"artifact"),children:[s.jsx(dt,{className:"mr-2 h-4 w-4"}),"Artifact"]}),s.jsxs(E,{variant:r==="person"?"default":"outline",size:"sm",onClick:()=>i(r==="person"?null:"person"),children:[s.jsx(jt,{className:"mr-2 h-4 w-4"}),"Person"]})]}),r&&s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(lt,{value:o,onValueChange:a,children:[s.jsx(Je,{className:"flex-1",children:s.jsx(ct,{placeholder:`Select ${r}...`})}),s.jsxs(Ze,{children:[r==="event"&&(v==null?void 0:v.map(A=>s.jsx(ve,{value:A.id,children:A.title},A.id))),r==="artifact"&&(N==null?void 0:N.map(A=>s.jsxs(ve,{value:A.id,children:[A.type,"  ",A.shortDescription||"No description"]},A.id))),r==="person"&&(b==null?void 0:b.map(A=>s.jsx(ve,{value:A.id,children:A.name},A.id)))]})]}),s.jsx(E,{onClick:y,disabled:!o,children:s.jsx(Ee,{className:"h-4 w-4"})})]})]})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[s.jsxs(_,{children:[s.jsx(H,{children:s.jsxs(V,{className:"flex items-center gap-2",children:[s.jsx(He,{className:"h-5 w-5"}),"Events (",((k=l.events)==null?void 0:k.length)||0,")"]})}),s.jsx(z,{children:l.events&&l.events.length>0?s.jsx("ul",{className:"space-y-2",children:l.events.map(A=>s.jsxs("li",{className:"flex items-center justify-between gap-2 text-sm",children:[s.jsx(X,{to:`/events/${A.id}`,className:"hover:underline truncate",children:A.title}),s.jsx(E,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>j.mutate(A.id),children:s.jsx(Ke,{className:"h-3 w-3"})})]},A.id))}):s.jsx("p",{className:"text-muted-foreground text-sm",children:"No events"})})]}),s.jsxs(_,{children:[s.jsx(H,{children:s.jsxs(V,{className:"flex items-center gap-2",children:[s.jsx(dt,{className:"h-5 w-5"}),"Artifacts (",((C=l.artifacts)==null?void 0:C.length)||0,")"]})}),s.jsx(z,{children:l.artifacts&&l.artifacts.length>0?s.jsx("ul",{className:"space-y-2",children:l.artifacts.map(A=>s.jsxs("li",{className:"flex items-center justify-between gap-2 text-sm",children:[s.jsxs(X,{to:`/artifacts/${A.id}`,className:"hover:underline truncate",children:[s.jsx("span",{className:"capitalize",children:A.type}),A.shortDescription&&`  ${A.shortDescription}`]}),s.jsx(E,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>x.mutate(A.id),children:s.jsx(Ke,{className:"h-3 w-3"})})]},A.id))}):s.jsx("p",{className:"text-muted-foreground text-sm",children:"No artifacts"})})]}),s.jsxs(_,{children:[s.jsx(H,{children:s.jsxs(V,{className:"flex items-center gap-2",children:[s.jsx(jt,{className:"h-5 w-5"}),"People (",((P=l.persons)==null?void 0:P.length)||0,")"]})}),s.jsx(z,{children:l.persons&&l.persons.length>0?s.jsx("ul",{className:"space-y-2",children:l.persons.map(A=>s.jsxs("li",{className:"flex items-center justify-between gap-2 text-sm",children:[s.jsx(X,{to:`/people/${A.id}`,className:"hover:underline truncate",children:A.name}),s.jsx(E,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>m.mutate(A.id),children:s.jsx(Ke,{className:"h-3 w-3"})})]},A.id))}):s.jsx("p",{className:"text-muted-foreground text-sm",children:"No people"})})]})]})]}):s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-destructive",children:"Collection not found"})})}var Lc="Checkbox",[eP]=ua(Lc),[tP,Ef]=eP(Lc);function nP(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:i,disabled:o,form:a,name:l,onCheckedChange:c,required:u,value:h="on",internal_do_not_use_render:d}=e,[g,j]=Hl({prop:n,defaultProp:i??!1,onChange:c,caller:Lc}),[w,x]=p.useState(null),[f,m]=p.useState(null),y=p.useRef(!1),v=w?!!a||!!w.closest("form"):!0,N={checked:g,disabled:o,setChecked:j,control:w,setControl:x,name:l,form:a,value:h,hasConsumerStoppedPropagationRef:y,required:u,defaultChecked:$r(i)?!1:i,isFormControl:v,bubbleInput:f,setBubbleInput:m};return s.jsx(tP,{scope:t,...N,children:rP(d)?d(N):r})}var jj="CheckboxTrigger",Nj=p.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},i)=>{const{control:o,value:a,disabled:l,checked:c,required:u,setControl:h,setChecked:d,hasConsumerStoppedPropagationRef:g,isFormControl:j,bubbleInput:w}=Ef(jj,e),x=De(i,h),f=p.useRef(c);return p.useEffect(()=>{const m=o==null?void 0:o.form;if(m){const y=()=>d(f.current);return m.addEventListener("reset",y),()=>m.removeEventListener("reset",y)}},[o,d]),s.jsx(Te.button,{type:"button",role:"checkbox","aria-checked":$r(c)?"mixed":c,"aria-required":u,"data-state":Ej(c),"data-disabled":l?"":void 0,disabled:l,value:a,...r,ref:x,onKeyDown:xe(t,m=>{m.key==="Enter"&&m.preventDefault()}),onClick:xe(n,m=>{d(y=>$r(y)?!0:!y),w&&j&&(g.current=m.isPropagationStopped(),g.current||m.stopPropagation())})})});Nj.displayName=jj;var Tf=p.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:o,required:a,disabled:l,value:c,onCheckedChange:u,form:h,...d}=e;return s.jsx(nP,{__scopeCheckbox:n,checked:i,defaultChecked:o,disabled:l,required:a,onCheckedChange:u,name:r,form:h,value:c,internal_do_not_use_render:({isFormControl:g})=>s.jsxs(s.Fragment,{children:[s.jsx(Nj,{...d,ref:t,__scopeCheckbox:n}),g&&s.jsx(kj,{__scopeCheckbox:n})]})})});Tf.displayName=Lc;var bj="CheckboxIndicator",Sj=p.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...i}=e,o=Ef(bj,n);return s.jsx(jc,{present:r||$r(o.checked)||o.checked===!0,children:s.jsx(Te.span,{"data-state":Ej(o.checked),"data-disabled":o.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});Sj.displayName=bj;var Cj="CheckboxBubbleInput",kj=p.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:o,defaultChecked:a,required:l,disabled:c,name:u,value:h,form:d,bubbleInput:g,setBubbleInput:j}=Ef(Cj,e),w=De(n,j),x=Cw(o),f=Sv(r);p.useEffect(()=>{const y=g;if(!y)return;const v=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(v,"checked").set,k=!i.current;if(x!==o&&b){const C=new Event("click",{bubbles:k});y.indeterminate=$r(o),b.call(y,$r(o)?!1:o),y.dispatchEvent(C)}},[g,x,o,i]);const m=p.useRef($r(o)?!1:o);return s.jsx(Te.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??m.current,required:l,disabled:c,name:u,value:h,form:d,...t,tabIndex:-1,ref:w,style:{...t.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});kj.displayName=Cj;function rP(e){return typeof e=="function"}function $r(e){return e==="indeterminate"}function Ej(e){return $r(e)?"indeterminate":e?"checked":"unchecked"}const Kt=p.forwardRef(({className:e,...t},n)=>s.jsx(Tf,{ref:n,className:Ie("grid place-content-center peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(Sj,{className:Ie("grid place-content-center text-current"),children:s.jsx(Pi,{className:"h-4 w-4"})})}));Kt.displayName=Tf.displayName;function sP(){var w,x;const[e,t]=p.useState({text:"",searchIn:["title","summary","notes"],chapterIds:[],traumaCycleIds:[],personIds:[],tagIds:[],dateRange:{},isKeystone:void 0,hasArtifacts:void 0,hasSynchronicities:void 0,limit:50}),[n,r]=p.useState(null),{data:i}=re({queryKey:["chapters"],queryFn:kr.getAll}),{data:o}=re({queryKey:["traumaCycles"],queryFn:Er.getAll}),{data:a}=re({queryKey:["persons"],queryFn:()=>Qn.getAll()}),{data:l}=re({queryKey:["tags"],queryFn:Tr.getAll}),c=te({mutationFn:jE.filter,onSuccess:f=>r(f.results)}),u=()=>{c.mutate(e)},h=()=>{t({text:"",searchIn:["title","summary","notes"],chapterIds:[],traumaCycleIds:[],personIds:[],tagIds:[],dateRange:{},isKeystone:void 0,hasArtifacts:void 0,hasSynchronicities:void 0,limit:50}),r(null)},d=(f,m)=>{t(y=>{const v=y[f]||[];return v.includes(m)?{...y,[f]:v.filter(N=>N!==m)}:{...y,[f]:[...v,m]}})},g=f=>{t(m=>{const y=m.searchIn||[];return y.includes(f)?{...m,searchIn:y.filter(v=>v!==f)}:{...m,searchIn:[...y,f]}})},j=f=>f?new Date(f).toLocaleDateString():"";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Query Builder"}),s.jsx("p",{className:"text-muted-foreground",children:"Build complex queries to find specific events"})]}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[s.jsx("div",{className:"lg:col-span-1 space-y-4",children:s.jsxs(_,{children:[s.jsx(H,{className:"pb-3",children:s.jsxs(V,{className:"text-lg flex items-center gap-2",children:[s.jsx(rf,{className:"h-4 w-4"}),"Filters"]})}),s.jsxs(z,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Z,{children:"Text Search"}),s.jsx(fe,{placeholder:"Search text...",value:e.text||"",onChange:f=>t(m=>({...m,text:f.target.value}))}),s.jsx("div",{className:"flex flex-wrap gap-2 text-xs",children:["title","summary","notes"].map(f=>{var m;return s.jsxs("label",{className:"flex items-center gap-1",children:[s.jsx(Kt,{checked:(m=e.searchIn)==null?void 0:m.includes(f),onCheckedChange:()=>g(f)}),f]},f)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Z,{children:"Date Range"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx(fe,{type:"date",placeholder:"Start",value:((w=e.dateRange)==null?void 0:w.start)||"",onChange:f=>t(m=>({...m,dateRange:{...m.dateRange,start:f.target.value}}))}),s.jsx(fe,{type:"date",placeholder:"End",value:((x=e.dateRange)==null?void 0:x.end)||"",onChange:f=>t(m=>({...m,dateRange:{...m.dateRange,end:f.target.value}}))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Z,{children:"Chapters"}),s.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1 text-sm",children:i==null?void 0:i.map(f=>{var m;return s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx(Kt,{checked:(m=e.chapterIds)==null?void 0:m.includes(f.id),onCheckedChange:()=>d("chapterIds",f.id)}),f.number,". ",f.title]},f.id)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Z,{children:"Trauma Cycles"}),s.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1 text-sm",children:o==null?void 0:o.map(f=>{var m;return s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx(Kt,{checked:(m=e.traumaCycleIds)==null?void 0:m.includes(f.id),onCheckedChange:()=>d("traumaCycleIds",f.id)}),f.label]},f.id)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Z,{children:"People"}),s.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1 text-sm",children:a==null?void 0:a.map(f=>{var m;return s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx(Kt,{checked:(m=e.personIds)==null?void 0:m.includes(f.id),onCheckedChange:()=>d("personIds",f.id)}),f.name]},f.id)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Z,{children:"Tags"}),s.jsx("div",{className:"max-h-32 overflow-y-auto space-y-1 text-sm",children:l==null?void 0:l.map(f=>{var m;return s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx(Kt,{checked:(m=e.tagIds)==null?void 0:m.includes(f.id),onCheckedChange:()=>d("tagIds",f.id)}),f.name]},f.id)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Z,{children:"Special Filters"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx(Kt,{checked:e.isKeystone===!0,onCheckedChange:f=>t(m=>({...m,isKeystone:f?!0:void 0}))}),"Keystone events only"]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx(Kt,{checked:e.hasArtifacts===!0,onCheckedChange:f=>t(m=>({...m,hasArtifacts:f?!0:void 0}))}),"Has artifacts"]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx(Kt,{checked:e.hasSynchronicities===!0,onCheckedChange:f=>t(m=>({...m,hasSynchronicities:f?!0:void 0}))}),"Has synchronicities"]})]})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsxs(E,{onClick:u,disabled:c.isPending,className:"flex-1",children:[s.jsx(Zn,{className:"mr-2 h-4 w-4"}),"Search"]}),s.jsx(E,{variant:"outline",onClick:h,children:s.jsx(Ds,{className:"h-4 w-4"})})]})]})]})}),s.jsx("div",{className:"lg:col-span-2",children:s.jsxs(_,{children:[s.jsx(H,{children:s.jsxs(V,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Results"}),n&&s.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:[n.length," events"]})]})}),s.jsx(z,{children:c.isPending?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx("div",{className:"text-muted-foreground",children:"Searching..."})}):n?n.length>0?s.jsx("ul",{className:"space-y-3",children:n.map(f=>s.jsx("li",{className:"border-b pb-3 last:border-0",children:s.jsxs(X,{to:`/events/${f.id}`,className:"hover:underline",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:f.title}),f.isKeystone&&s.jsx(Yr,{className:"h-4 w-4 text-yellow-500 fill-yellow-500"})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsx(He,{className:"inline h-3 w-3 mr-1"}),j(f.date),f.location&&`  ${f.location}`,f.chapter&&`  Ch. ${f.chapter.number}`]}),f.summary&&s.jsx("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:f.summary}),f.emotionTags&&f.emotionTags.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:f.emotionTags.map(m=>s.jsx("span",{className:"px-2 py-0.5 bg-muted rounded text-xs",children:m},m))})]})},f.id))}):s.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No events match your filters"}):s.jsx("div",{className:"text-center text-muted-foreground py-8",children:"Configure filters and click Search to find events"})})]})})]})]})}const iP={"therapy-sessions":[{name:"healing",reason:"Therapy session"},{name:"self-reflection",reason:"Therapy content"},{name:"growth",reason:"Personal development"},{name:"trauma",reason:"Processing experiences"},{name:"insight",reason:"Therapeutic insights"}],voicemail:[{name:"communication",reason:"Voice message"},{name:"family",reason:"Personal message"},{name:"relationship",reason:"Connection"},{name:"memory",reason:"Preserved moment"}],interview:[{name:"oral-history",reason:"Interview recording"},{name:"testimony",reason:"Personal account"},{name:"memory",reason:"Recorded recollection"}],recording:[{name:"audio-diary",reason:"Personal recording"},{name:"memory",reason:"Captured moment"},{name:"reflection",reason:"Personal thoughts"}],other:[{name:"audio",reason:"Audio artifact"},{name:"archive",reason:"Preserved content"}]};function oP(){const e=nt(),t=Ue(),n=p.useRef(null),[r,i]=p.useState([]),[o,a]=p.useState("therapy-sessions"),[l,c]=p.useState(!1),[u,h]=p.useState(!1),[d,g]=p.useState([]),[j,w]=p.useState([]),[x,f]=p.useState(!1),[,m]=p.useState({});re({queryKey:["tags"],queryFn:Tr.getAll});const v=(iP[o]||[]).filter(I=>!d.includes(I.name)&&!j.includes(I.name)),N=te({mutationFn:async I=>NE.uploadAudio(I.file,I.file.name,o),onSuccess:(I,M)=>{i(Y=>Y.map(q=>q.id===M.id?{...q,status:"success"}:q))},onError:(I,M)=>{i(Y=>Y.map(q=>q.id===M.id?{...q,status:"error",error:I.message}:q))}}),b=I=>{const Y=Array.from(I.target.files||[]).map(q=>({file:q,id:`${q.name}-${Date.now()}-${Math.random()}`,status:"pending"}));i(q=>[...q,...Y])},k=I=>{i(M=>M.filter(Y=>Y.id!==I))},C=async()=>{c(!0);const I=r.filter(M=>M.status==="pending");for(const M of I)i(Y=>Y.map(q=>q.id===M.id?{...q,status:"uploading"}:q)),await N.mutateAsync(M);c(!1),t.invalidateQueries({queryKey:["artifacts"]})},P=I=>I<1024?`${I} B`:I<1024*1024?`${(I/1024).toFixed(1)} KB`:`${(I/(1024*1024)).toFixed(1)} MB`,A=r.filter(I=>I.status==="pending").length,O=r.filter(I=>I.status==="success").length;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Upload Audio"}),s.jsx("p",{className:"text-muted-foreground",children:"Upload therapy sessions, voicemails, and other audio recordings"})]}),s.jsxs(_,{children:[s.jsxs(H,{children:[s.jsx(V,{children:"Source Type"}),s.jsx(Et,{children:"Categorize your audio files"})]}),s.jsx(z,{children:s.jsx("div",{className:"flex flex-wrap gap-2",children:["therapy-sessions","voicemail","interview","recording","other"].map(I=>s.jsx(E,{variant:o===I?"default":"outline",size:"sm",onClick:()=>a(I),children:I.replace("-"," ")},I))})})]}),s.jsxs(_,{children:[s.jsxs(H,{children:[s.jsx(V,{children:"Select Files"}),s.jsx(Et,{children:"Supports MP3, WAV, M4A, AAC, OGG, FLAC (max 500MB per file)"})]}),s.jsxs(z,{className:"space-y-4",children:[s.jsx("input",{ref:n,type:"file",accept:"audio/*",multiple:!0,onChange:b,className:"hidden"}),s.jsxs("div",{onClick:()=>{var I;return(I=n.current)==null?void 0:I.click()},className:"border-2 border-dashed rounded-lg p-8 text-center cursor-pointer hover:bg-muted/50 transition-colors",children:[s.jsx(Es,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),s.jsx("p",{className:"text-lg font-medium",children:"Click to select audio files"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"or drag and drop"})]}),r.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Z,{children:[r.length," file",r.length!==1?"s":""," selected",O>0&&` (${O} uploaded)`]}),s.jsx(E,{variant:"outline",size:"sm",onClick:()=>i([]),disabled:l,children:"Clear All"})]}),s.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2",children:r.map(I=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[s.jsx(tv,{className:"h-5 w-5 shrink-0"}),s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"font-medium truncate",children:I.file.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:P(I.file.size)})]})]}),s.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[I.status==="pending"&&s.jsx(E,{variant:"ghost",size:"icon",onClick:()=>k(I.id),children:s.jsx(Ke,{className:"h-4 w-4"})}),I.status==="uploading"&&s.jsx($l,{className:"h-5 w-5 animate-spin text-primary"}),I.status==="success"&&s.jsx(Pi,{className:"h-5 w-5 text-green-500"}),I.status==="error"&&s.jsx("span",{className:"text-xs text-destructive",children:I.error})]})]},I.id))})]})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(E,{onClick:C,disabled:A===0||l,className:"flex-1",children:l?s.jsxs(s.Fragment,{children:[s.jsx($l,{className:"mr-2 h-4 w-4 animate-spin"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Es,{className:"mr-2 h-4 w-4"}),"Upload ",A," File",A!==1?"s":""]})}),s.jsx(E,{variant:"outline",onClick:()=>e("/artifacts"),children:"Go to Artifacts"})]}),O>0&&!l&&A===0&&!u&&!x&&s.jsx(_,{className:"border-green-500",children:s.jsx(z,{className:"py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[s.jsx(Pi,{className:"h-5 w-5"}),s.jsx("span",{children:"All files uploaded successfully!"})]}),s.jsx(E,{onClick:()=>f(!0),size:"sm",children:"Add Context"})]})})}),x&&!u&&s.jsx(kf,{contentType:"audio",sourceType:o,contentSummary:`${O} ${o.replace("-"," ")} file${O>1?"s":""}`,onAnswersComplete:I=>{m(I),f(!1),h(!0)},onSkip:()=>{f(!1),h(!0)}}),u&&s.jsxs(_,{children:[s.jsxs(H,{children:[s.jsxs(V,{className:"flex items-center gap-2",children:[s.jsx(ht,{className:"w-5 h-5 text-primary"}),"Suggested Tags for Your Uploads"]}),s.jsxs(Et,{children:["Based on uploading ",o.replace("-"," "),", we suggest these tags. Accept the ones that fit, dismiss the rest."]})]}),s.jsxs(z,{className:"space-y-4",children:[d.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Z,{className:"text-sm font-medium",children:"Accepted Tags"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:d.map(I=>s.jsxs(wj,{className:"bg-primary/10 text-primary hover:bg-primary/20",children:[I,s.jsx("button",{onClick:()=>g(M=>M.filter(Y=>Y!==I)),className:"ml-1 hover:text-destructive",children:s.jsx(Ke,{className:"w-3 h-3"})})]},I))})]}),v.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Z,{className:"text-sm font-medium",children:"Suggestions"}),s.jsx("div",{className:"space-y-2",children:v.map(I=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:I.name}),s.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:[" ",I.reason]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(E,{size:"sm",variant:"outline",onClick:()=>g(M=>[...M,I.name]),children:[s.jsx(Ee,{className:"w-4 h-4 mr-1"}),"Accept"]}),s.jsx(E,{size:"sm",variant:"ghost",onClick:()=>w(M=>[...M,I.name]),children:s.jsx(Ke,{className:"w-4 h-4"})})]})]},I.name))})]}),v.length===0&&d.length===0&&s.jsx("p",{className:"text-muted-foreground text-center py-4",children:"All suggestions reviewed. You can add custom tags when editing artifacts."}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[s.jsx(E,{onClick:()=>{h(!1),e("/artifacts")},className:"flex-1",children:"Done  Go to Artifacts"}),s.jsx(E,{variant:"outline",onClick:()=>{h(!1),g([]),w([]),i([])},children:"Upload More"})]}),d.length>0&&s.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Tags will be available when you link these artifacts to events"})]})]})]})}function aP(){const e=Ue(),[t,n]=p.useState(!1),[r,i]=p.useState(null),[o,a]=p.useState({number:1,title:"",yearsCovered:[],summary:""}),[l,c]=p.useState(""),{data:u,isLoading:h}=re({queryKey:["chapters"],queryFn:kr.getAll}),d=te({mutationFn:kr.create,onSuccess:()=>{e.invalidateQueries({queryKey:["chapters"]}),w()}}),g=te({mutationFn:({id:y,data:v})=>kr.update(y,v),onSuccess:()=>{e.invalidateQueries({queryKey:["chapters"]}),w()}}),j=te({mutationFn:kr.delete,onSuccess:()=>{e.invalidateQueries({queryKey:["chapters"]})}}),w=()=>{n(!1),i(null),a({number:1,title:"",yearsCovered:[],summary:""}),c("")},x=y=>{i(y),a({number:y.number,title:y.title,yearsCovered:y.yearsCovered.map(Number),summary:y.summary}),c(y.yearsCovered.join(", ")),n(!0)},f=y=>{y.preventDefault();const v=l.split(",").map(b=>parseInt(b.trim())).filter(b=>!isNaN(b)),N={...o,yearsCovered:v};r?g.mutate({id:r.id,data:N}):d.mutate(N)},m=y=>{window.confirm("Delete this chapter? Events linked to it will be unlinked.")&&j.mutate(y)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Manage Chapters"}),s.jsx("p",{className:"text-muted-foreground",children:"Edit chapter titles, numbers, and year ranges"})]}),s.jsxs(E,{onClick:()=>n(!0),children:[s.jsx(Ee,{className:"mr-2 h-4 w-4"}),"New Chapter"]})]}),t&&s.jsxs(_,{children:[s.jsx(H,{children:s.jsx(V,{children:r?"Edit Chapter":"Create Chapter"})}),s.jsx(z,{children:s.jsxs("form",{onSubmit:f,className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Z,{htmlFor:"number",children:"Chapter Number *"}),s.jsx(fe,{id:"number",type:"number",value:o.number,onChange:y=>a(v=>({...v,number:parseInt(y.target.value)||1})),required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Z,{htmlFor:"title",children:"Title *"}),s.jsx(fe,{id:"title",value:o.title,onChange:y=>a(v=>({...v,title:y.target.value})),placeholder:"Chapter title",required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Z,{htmlFor:"years",children:"Years Covered (comma-separated)"}),s.jsx(fe,{id:"years",value:l,onChange:y=>c(y.target.value),placeholder:"e.g., 1985, 1986, 1987"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Z,{htmlFor:"summary",children:"Summary / Thematic Focus"}),s.jsx(Mt,{id:"summary",value:o.summary,onChange:y=>a(v=>({...v,summary:y.target.value})),placeholder:"Brief description of this chapter's themes",rows:3})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(E,{type:"submit",disabled:d.isPending||g.isPending,children:r?"Update":"Create"}),s.jsx(E,{type:"button",variant:"outline",onClick:w,children:"Cancel"})]})]})})]}),s.jsx(_,{children:s.jsx(z,{className:"p-0",children:h?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading chapters..."})}):u&&u.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b bg-muted/50",children:[s.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground w-16",children:"#"}),s.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:"Title"}),s.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:"Years"}),s.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:"Summary"}),s.jsx("th",{className:"h-12 px-4 text-right align-middle font-medium text-muted-foreground",children:"Actions"})]})}),s.jsx("tbody",{children:u.map(y=>s.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[s.jsx("td",{className:"p-4 align-middle font-medium",children:y.number}),s.jsx("td",{className:"p-4 align-middle",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(wt,{className:"h-4 w-4"}),y.title]})}),s.jsx("td",{className:"p-4 align-middle text-muted-foreground text-sm",children:y.yearsCovered.length>0?y.yearsCovered.join(", "):""}),s.jsx("td",{className:"p-4 align-middle text-muted-foreground text-sm max-w-xs truncate",children:y.summary||""}),s.jsx("td",{className:"p-4 align-middle text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(E,{variant:"ghost",size:"icon",onClick:()=>x(y),children:s.jsx(Vt,{className:"h-4 w-4"})}),s.jsx(E,{variant:"ghost",size:"icon",onClick:()=>m(y.id),disabled:j.isPending,children:s.jsx(rr,{className:"h-4 w-4 text-destructive"})})]})})]},y.id))})]})}):s.jsxs("div",{className:"flex flex-col items-center justify-center h-32 gap-2",children:[s.jsx("div",{className:"text-muted-foreground",children:"No chapters yet"}),s.jsxs(E,{variant:"outline",size:"sm",onClick:()=>n(!0),children:[s.jsx(Ee,{className:"mr-2 h-4 w-4"}),"Create your first chapter"]})]})})})]})}function lP(){const e=Ue(),[t,n]=p.useState(!1),[r,i]=p.useState(null),[o,a]=p.useState({label:"",startYear:null,endYear:null,description:""}),{data:l,isLoading:c}=re({queryKey:["traumaCycles"],queryFn:Er.getAll}),u=te({mutationFn:Er.create,onSuccess:()=>{e.invalidateQueries({queryKey:["traumaCycles"]}),g()}}),h=te({mutationFn:({id:f,data:m})=>Er.update(f,m),onSuccess:()=>{e.invalidateQueries({queryKey:["traumaCycles"]}),g()}}),d=te({mutationFn:Er.delete,onSuccess:()=>{e.invalidateQueries({queryKey:["traumaCycles"]})}}),g=()=>{n(!1),i(null),a({label:"",startYear:null,endYear:null,description:""})},j=f=>{i(f),a({label:f.label,startYear:f.startYear,endYear:f.endYear,description:f.description}),n(!0)},w=f=>{f.preventDefault(),r?h.mutate({id:r.id,data:o}):u.mutate(o)},x=f=>{window.confirm("Delete this trauma cycle? Events linked to it will be unlinked.")&&d.mutate(f)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Manage Trauma Cycles"}),s.jsx("p",{className:"text-muted-foreground",children:"Define recurring patterns and their time periods"})]}),s.jsxs(E,{onClick:()=>n(!0),children:[s.jsx(Ee,{className:"mr-2 h-4 w-4"}),"New Cycle"]})]}),t&&s.jsxs(_,{children:[s.jsx(H,{children:s.jsx(V,{children:r?"Edit Trauma Cycle":"Create Trauma Cycle"})}),s.jsx(z,{children:s.jsxs("form",{onSubmit:w,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Z,{htmlFor:"label",children:"Label *"}),s.jsx(fe,{id:"label",value:o.label,onChange:f=>a(m=>({...m,label:f.target.value})),placeholder:"e.g., Abandonment Pattern",required:!0})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Z,{htmlFor:"startYear",children:"Start Year"}),s.jsx(fe,{id:"startYear",type:"number",value:o.startYear??"",onChange:f=>a(m=>({...m,startYear:f.target.value?parseInt(f.target.value):null})),placeholder:"e.g., 1985"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Z,{htmlFor:"endYear",children:"End Year"}),s.jsx(fe,{id:"endYear",type:"number",value:o.endYear??"",onChange:f=>a(m=>({...m,endYear:f.target.value?parseInt(f.target.value):null})),placeholder:"e.g., 1995 (or leave blank if ongoing)"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Z,{htmlFor:"description",children:"Description"}),s.jsx(Mt,{id:"description",value:o.description,onChange:f=>a(m=>({...m,description:f.target.value})),placeholder:"Describe this pattern and its manifestations",rows:3})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(E,{type:"submit",disabled:u.isPending||h.isPending,children:r?"Update":"Create"}),s.jsx(E,{type:"button",variant:"outline",onClick:g,children:"Cancel"})]})]})})]}),s.jsx(_,{children:s.jsx(z,{className:"p-0",children:c?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading trauma cycles..."})}):l&&l.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b bg-muted/50",children:[s.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:"Label"}),s.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:"Years"}),s.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:"Description"}),s.jsx("th",{className:"h-12 px-4 text-right align-middle font-medium text-muted-foreground",children:"Actions"})]})}),s.jsx("tbody",{children:l.map(f=>s.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[s.jsx("td",{className:"p-4 align-middle",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ds,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:f.label})]})}),s.jsxs("td",{className:"p-4 align-middle text-muted-foreground",children:[f.startYear,f.endYear?`  ${f.endYear}`:"  present"]}),s.jsx("td",{className:"p-4 align-middle text-muted-foreground text-sm max-w-xs truncate",children:f.description||""}),s.jsx("td",{className:"p-4 align-middle text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(E,{variant:"ghost",size:"icon",onClick:()=>j(f),children:s.jsx(Vt,{className:"h-4 w-4"})}),s.jsx(E,{variant:"ghost",size:"icon",onClick:()=>x(f.id),disabled:d.isPending,children:s.jsx(rr,{className:"h-4 w-4 text-destructive"})})]})})]},f.id))})]})}):s.jsxs("div",{className:"flex flex-col items-center justify-center h-32 gap-2",children:[s.jsx("div",{className:"text-muted-foreground",children:"No trauma cycles defined yet"}),s.jsxs(E,{variant:"outline",size:"sm",onClick:()=>n(!0),children:[s.jsx(Ee,{className:"mr-2 h-4 w-4"}),"Define your first cycle"]})]})})})]})}function cP(){const e=Ue(),[t,n]=p.useState(!1),[r,i]=p.useState(null),[o,a]=p.useState({title:"",artist:"",era:"",keyLyric:"",notes:""}),{data:l,isLoading:c}=re({queryKey:["songs"],queryFn:po.getAll}),u=te({mutationFn:po.create,onSuccess:()=>{e.invalidateQueries({queryKey:["songs"]}),g()}}),h=te({mutationFn:({id:f,data:m})=>po.update(f,m),onSuccess:()=>{e.invalidateQueries({queryKey:["songs"]}),g()}}),d=te({mutationFn:po.delete,onSuccess:()=>{e.invalidateQueries({queryKey:["songs"]})}}),g=()=>{n(!1),i(null),a({title:"",artist:"",era:"",keyLyric:"",notes:""})},j=f=>{i(f),a({title:f.title,artist:f.artist,era:f.era,keyLyric:f.keyLyric,notes:f.notes}),n(!0)},w=f=>{f.preventDefault(),r?h.mutate({id:r.id,data:o}):u.mutate(o)},x=f=>{window.confirm("Delete this song? Events linked to it will be unlinked.")&&d.mutate(f)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Manage Songs"}),s.jsx("p",{className:"text-muted-foreground",children:"Add and edit songs that mark significant moments"})]}),s.jsxs(E,{onClick:()=>n(!0),children:[s.jsx(Ee,{className:"mr-2 h-4 w-4"}),"New Song"]})]}),t&&s.jsxs(_,{children:[s.jsx(H,{children:s.jsx(V,{children:r?"Edit Song":"Add Song"})}),s.jsx(z,{children:s.jsxs("form",{onSubmit:w,className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Z,{htmlFor:"title",children:"Title *"}),s.jsx(fe,{id:"title",value:o.title,onChange:f=>a(m=>({...m,title:f.target.value})),placeholder:"Song title",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Z,{htmlFor:"artist",children:"Artist *"}),s.jsx(fe,{id:"artist",value:o.artist,onChange:f=>a(m=>({...m,artist:f.target.value})),placeholder:"Artist name",required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Z,{htmlFor:"era",children:"Era"}),s.jsx(fe,{id:"era",value:o.era,onChange:f=>a(m=>({...m,era:f.target.value})),placeholder:"e.g., High School, College, 2005"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Z,{htmlFor:"keyLyric",children:"Key Lyric"}),s.jsx(fe,{id:"keyLyric",value:o.keyLyric,onChange:f=>a(m=>({...m,keyLyric:f.target.value})),placeholder:"A lyric that resonates"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Z,{htmlFor:"notes",children:"Notes"}),s.jsx(Mt,{id:"notes",value:o.notes,onChange:f=>a(m=>({...m,notes:f.target.value})),placeholder:"Why this song matters to your story",rows:3})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(E,{type:"submit",disabled:u.isPending||h.isPending,children:r?"Update":"Add"}),s.jsx(E,{type:"button",variant:"outline",onClick:g,children:"Cancel"})]})]})})]}),s.jsx(_,{children:s.jsx(z,{className:"p-0",children:c?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx("div",{className:"text-muted-foreground",children:"Loading songs..."})}):l&&l.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b bg-muted/50",children:[s.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:"Title"}),s.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:"Artist"}),s.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:"Era"}),s.jsx("th",{className:"h-12 px-4 text-left align-middle font-medium text-muted-foreground",children:"Key Lyric"}),s.jsx("th",{className:"h-12 px-4 text-right align-middle font-medium text-muted-foreground",children:"Actions"})]})}),s.jsx("tbody",{children:l.map(f=>s.jsxs("tr",{className:"border-b hover:bg-muted/50",children:[s.jsx("td",{className:"p-4 align-middle",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(On,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:f.title})]})}),s.jsx("td",{className:"p-4 align-middle text-muted-foreground",children:f.artist}),s.jsx("td",{className:"p-4 align-middle text-muted-foreground",children:f.era||""}),s.jsx("td",{className:"p-4 align-middle text-muted-foreground text-sm max-w-xs truncate italic",children:f.keyLyric||""}),s.jsx("td",{className:"p-4 align-middle text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(E,{variant:"ghost",size:"icon",onClick:()=>j(f),children:s.jsx(Vt,{className:"h-4 w-4"})}),s.jsx(E,{variant:"ghost",size:"icon",onClick:()=>x(f.id),disabled:d.isPending,children:s.jsx(rr,{className:"h-4 w-4 text-destructive"})})]})})]},f.id))})]})}):s.jsxs("div",{className:"flex flex-col items-center justify-center h-32 gap-2",children:[s.jsx("div",{className:"text-muted-foreground",children:"No songs added yet"}),s.jsxs(E,{variant:"outline",size:"sm",onClick:()=>n(!0),children:[s.jsx(Ee,{className:"mr-2 h-4 w-4"}),"Add your first song"]})]})})})]})}const uP=[{id:"getting-started",title:"Getting Started",icon:wt,description:"Welcome to MemoirArk! This guide will walk you through building your personal memoir from raw memories to a publishable narrative.",steps:["Take the onboarding tour to familiarize yourself with the interface","Start by creating your first Eventa significant memory or moment","Add People who were involved in your life events","Upload Artifacts like photos, letters, or audio recordings","Organize events into Chapters to structure your story"],tips:["Don't worry about chronological order at firstjust capture memories as they come","Use emotion tags to track how events made you feel","The more detail you add, the richer your narrative will be"]},{id:"events",title:"Creating Events",icon:He,description:"Events are the building blocks of your memoir. Each event represents a moment, memory, or experience worth preserving.",steps:['Click "Events" in the navigation, then "New Event"','Enter a descriptive title (e.g., "First Day at Lincoln High School")',"Add the date if you remember it (approximate dates are fine)","Write a summarya brief overview of what happened","Use the Notes field for detailed narrative description","Add emotion tags to capture how you felt (the system will suggest tags based on your content)","Assign to a Chapter and/or Trauma Cycle if applicable"],tips:['Mark significant events as "Keystone" eventsthese are turning points in your story',"Link related People, Artifacts, and Synchronicities after creating the event","Use the narrative font in Notes for a more literary feel"],link:"/events/new"},{id:"people",title:"Adding People",icon:jt,description:"Document the cast of characters in your life storyfamily, friends, mentors, and others who shaped your journey.",steps:['Navigate to "People" and click "New Person"',"Enter their name and relationship type (family, friend, colleague, etc.)","Add their role in your life (mother, best friend, therapist, etc.)","Write notes about who they are and their significance",'Mark primary figures (like parents) with the "Primary" flag'],tips:["You can link people to multiple events","Add people even if they only appear brieflythey may become more significant later",'Use consistent naming (decide between "Mom" vs "Mother" vs their actual name)'],link:"/people/new"},{id:"artifacts",title:"Managing Artifacts",icon:dt,description:"Artifacts are the tangible evidence of your pastphotos, documents, letters, recordings, and other memorabilia.",steps:['Go to "Artifacts" and click "New Artifact"',"Select the type: photo, document, letter, audio, video, etc.","Add a short description of what the artifact is","Specify the source system (where it came from) and path/URL","Add transcribed text for letters or documents if desired","Link the artifact to relevant events and people"],tips:["For audio files, use the Upload feature for direct file storage","Transcribe important letters and documents for searchability","Group related artifacts in Collections"],link:"/artifacts/new"},{id:"audio-upload",title:"Uploading Audio",icon:Es,description:"Upload audio recordings like therapy sessions, voicemails, interviews, or personal recordings.",steps:['Click "Upload" in the navigation',"Select your audio files (MP3, WAV, M4A, AAC, OGG, FLAC supported)","Choose a source type (therapy-sessions, voicemail, interview, recording, other)",'Click "Upload" to process the files',"Each file creates an Artifact record automatically","Go to the Artifact detail page to play back and link to events"],tips:["You can upload multiple files at once (batch upload)","Maximum file size is 500MB per file","Add descriptions to artifacts after upload for better organization"],link:"/upload"},{id:"chapters",title:"Organizing Chapters",icon:wt,description:"Chapters give structure to your memoir. Organize your events into meaningful sections.",steps:['Go to "Edit Chapters" to create and manage chapters',"Give each chapter a number, title, and year range","Add a summary describing the chapter's themes","Assign events to chapters when creating or editing events",'View chapter narratives in "Chapters" to see events in context'],tips:["Chapters don't have to be chronologicalorganize thematically if you prefer","Use the summary field to capture the chapter's emotional arc","Review chapter narratives to see how your story flows"],link:"/manage/chapters"},{id:"trauma-cycles",title:"Tracking Trauma Cycles",icon:Ds,description:"Identify recurring patterns in your lifecycles of behavior, relationships, or experiences that repeat.",steps:['Go to "Edit Cycles" to define trauma cycles','Name the pattern (e.g., "Abandonment Pattern", "People-Pleasing Cycle")',"Set the year range when this pattern was active","Add a description of how this cycle manifested","Link events to trauma cycles to track the pattern over time"],tips:["Trauma cycles help you see patterns you might not notice otherwise","An event can belong to multiple cycles","Use the Query Builder to find all events in a specific cycle"],link:"/manage/trauma-cycles"},{id:"synchronicities",title:"Recording Synchronicities",icon:ht,description:"Document meaningful coincidences, patterns, and moments when the universe seemed to align.",steps:['Navigate to "Sync" and click "New Synchronicity"',"Describe what happened and why it felt significant","Add a symbolic tag if there's a recurring symbol or theme","Set the date if known","Link to related events"],tips:["Synchronicities often connect events across time","Look for recurring numbers, names, places, or themes","These can become powerful narrative threads in your memoir"],link:"/synchronicities/new"},{id:"tags-collections",title:"Tags & Collections",icon:Ui,description:"Use tags for emotional/thematic labeling and collections for grouping related content.",steps:['Tags: Go to "Tags" to create emotion or theme tags',"Apply tags to events via the emotion tags field",'Collections: Go to "Collections" to create groupings',"Add events, people, and artifacts to collections",'Use collections for themes like "College Years" or "Relationship with Dad"'],tips:["Tags are great for emotions: joy, grief, anger, fear, love","Collections are great for themes or time periods","Both help you find related content later"],link:"/tags"},{id:"songs",title:"Adding Songs",icon:On,description:"Music often marks significant moments. Track the songs that defined different eras of your life.",steps:['Go to "Edit Songs" to add songs to your archive',"Enter the title and artist","Specify the era when this song was significant","Add a key lyric that resonates","Write notes about why this song matters","Link songs to events where they played a role"],tips:["Songs can trigger powerful memories","Include songs from different life stages","The key lyric field is great for capturing emotional essence"],link:"/manage/songs"},{id:"search-query",title:"Search & Query",icon:Zn,description:"Find anything in your memoir with search, or build complex queries to discover patterns.",steps:["Search: Use the Search page for quick keyword searches","Search works across events, people, artifacts, and more",'Query Builder: Use "Query" for advanced filtering',"Filter by chapter, trauma cycle, person, tag, date range","Combine multiple filters to find specific events"],tips:["Search is great for finding specific memories","Query Builder is great for discovering patterns","Try filtering by emotion tag to see emotional patterns over time"],link:"/search"},{id:"timeline",title:"Timeline View",icon:mc,description:"See your life events arranged chronologically to understand the flow of your story.",steps:['Click "Timeline" in the navigation',"Events are grouped by year","Filter by chapter or trauma cycle","Click any event to view its details","Use timeline to spot gaps in your narrative"],tips:["Timeline helps you see the big picture","Look for clusters of eventsthese may be significant periods","Gaps might indicate times you haven't documented yet"],link:"/timeline"},{id:"export",title:"Exporting Your Memoir",icon:Qo,description:"Export your memoir data for backup, sharing, or publishing preparation.",steps:['Go to "Export" in the navigation',"Review your archive statistics","Choose export format (JSON for data, Markdown for narrative)","Download your complete memoir archive","Use exported data for backup or further processing"],tips:["Export regularly as a backup","Markdown export is great for sharing or editing in other tools","JSON export preserves all data and relationships"],link:"/export"},{id:"publishing",title:"Path to Publishing",icon:nf,description:"From raw memories to a publishable memoirhere's the complete workflow.",steps:["1. CAPTURE: Enter all your memories as events, no matter how small","2. POPULATE: Add people, artifacts, and synchronicities","3. ORGANIZE: Create chapters and assign events to them","4. CONNECT: Link events to people, artifacts, and each other","5. TAG: Apply emotion tags and identify trauma cycles","6. REVIEW: Use Timeline and Chapter views to see your story","7. REFINE: Edit event notes into narrative prose","8. EXPORT: Download your memoir in Markdown format","9. EDIT: Polish the exported narrative in a word processor","10. PUBLISH: Submit to publishers or self-publish"],tips:["Don't rushmemoir writing is a process of discovery","Revisit old events as new memories surface","The narrative emerges from the connections you make","Consider working with an editor for the final manuscript"]}];function dP(){const[e,t]=p.useState(null);return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"text-center max-w-2xl mx-auto",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary/10 mb-4",children:s.jsx(zl,{className:"w-8 h-8 text-primary"})}),s.jsx("h1",{className:"text-4xl font-display mb-3",children:"User Guide"}),s.jsx("p",{className:"text-lg text-muted-foreground",children:"Everything you need to know to build your memoir, from first memory to final manuscript."})]}),s.jsx(_,{className:"bg-gradient-to-br from-primary/5 via-accent/5 to-transparent",children:s.jsx(z,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0",children:s.jsx(ks,{className:"w-6 h-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Quick Start"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"New to MemoirArk? Start here:"}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsx(E,{asChild:!0,children:s.jsxs(X,{to:"/events/new",children:[s.jsx(He,{className:"w-4 h-4 mr-2"}),"Create Your First Event"]})}),s.jsx(E,{variant:"outline",asChild:!0,children:s.jsxs(X,{to:"/manage/chapters",children:[s.jsx(wt,{className:"w-4 h-4 mr-2"}),"Set Up Chapters"]})})]})]})]})})}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:uP.map(n=>{const r=n.icon,i=e===n.id;return s.jsxs(_,{className:`cursor-pointer transition-all hover:shadow-md ${i?"md:col-span-2 lg:col-span-3":""}`,onClick:()=>t(i?null:n.id),children:[s.jsx(H,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:s.jsx(r,{className:"w-5 h-5 text-primary"})}),s.jsx("div",{className:"flex-1",children:s.jsxs(V,{className:"text-lg flex items-center gap-2",children:[n.title,s.jsx(Zs,{className:`w-4 h-4 text-muted-foreground transition-transform ${i?"rotate-90":""}`})]})})]})}),s.jsxs(z,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:n.description}),i&&s.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[s.jsx(nf,{className:"w-4 h-4 text-primary"}),"Steps"]}),s.jsx("ol",{className:"space-y-2 text-sm",children:n.steps.map((o,a)=>s.jsxs("li",{className:"flex gap-2",children:[s.jsxs("span",{className:"text-primary font-medium",children:[a+1,"."]}),s.jsx("span",{className:"text-muted-foreground",children:o})]},a))})]}),n.tips&&s.jsxs("div",{children:[s.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[s.jsx(ht,{className:"w-4 h-4 text-accent"}),"Tips"]}),s.jsx("ul",{className:"space-y-1 text-sm",children:n.tips.map((o,a)=>s.jsxs("li",{className:"flex gap-2 text-muted-foreground",children:[s.jsx("span",{children:""}),s.jsx("span",{children:o})]},a))})]}),n.link&&s.jsx(E,{asChild:!0,size:"sm",className:"mt-2",children:s.jsxs(X,{to:n.link,onClick:o=>o.stopPropagation(),children:["Go to ",n.title,s.jsx(ks,{className:"w-4 h-4 ml-2"})]})})]})]})]},n.id)})}),s.jsxs(_,{children:[s.jsx(H,{children:s.jsxs(V,{className:"flex items-center gap-2",children:[s.jsx(zl,{className:"w-5 h-5"}),"Need More Help?"]})}),s.jsxs(z,{children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"MemoirArk is designed to be intuitive, but memoir writing is a deeply personal process. Take your time, trust the process, and remember: every memory matters."}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsx(E,{variant:"outline",onClick:()=>{localStorage.removeItem("memoirark-tour-completed"),window.location.href="/"},children:"Restart Onboarding Tour"}),s.jsx(E,{variant:"outline",asChild:!0,children:s.jsx(X,{to:"/",children:"Return to Dashboard"})})]})]})]})]})}function hP(e,t){var i;const n=((i=e.filter(o=>o.speaker==="user").slice(-1)[0])==null?void 0:i.text)||"",r=n.toLowerCase();return t.questionCount===0?Ge(["What's the one thing from your past that you've never been able to forgive?","Tell me about the moment that broke you. The one you still think about.","Who hurt you the most? And why haven't you let it go?","What's the secret you've been carrying that's eating you alive?"]):n.length<50&&t.questionCount>1?Ge(["No. That's not it. You're deflecting. What are you really trying to avoid telling me?","I've interviewed hundreds of people. I know when someone's hiding something. What is it?","That answer was safe. I don't want safe. I want the truth that scares you.","You're protecting someone. Or protecting yourself. Which is it?","Stop. Take a breath. Now tell me what you're actually feeling right now."]):r.includes("angry")||r.includes("furious")||r.includes("mad")||r.includes("hate")?Ge(["That angerhave you ever let yourself fully feel it? Or do you keep it locked away because you're afraid of what you might do?","Who taught you that anger wasn't safe to express? What happened when you showed it as a child?","If you could scream at them right nowreally let it outwhat would you say? Don't edit yourself.","The anger is the easy part. What's the grief underneath it that you're not ready to face?"]):r.includes("scared")||r.includes("afraid")||r.includes("terrified")||r.includes("fear")?Ge(["What's the worst thing you've imagined happening? Say it out loud. Give it a name.","That fearis it about what might happen? Or is it about what already did?","Who was supposed to protect you and didn't? Where were they?","When you're alone at night and the fear comeswhat does it whisper to you?"]):r.includes("love")||r.includes("loved")?Ge(["Did they actually love you? Or did they just need you?","What did you have to become to be loved in that house? What parts of yourself did you have to hide?","When did you first realize that love could hurt this much?","Do you even know what real love feels like? Or have you been chasing a broken version your whole life?"]):r.includes("hurt")||r.includes("pain")||r.includes("broken")||r.includes("damage")?Ge(["That wounddo you pick at it? Do you keep going back to it, reliving it?","Have you ever let yourself fully grieve this? Or do you just keep pushing through?","What did this break in you that never healed right?","If that pain could talk, what would it say it needs from you?"]):r.includes("shame")||r.includes("embarrass")||r.includes("guilty")||r.includes("fault")?Ge(["Whose voice is that? When you feel that shamewhose words are you hearing?","What did you do that you've never forgiven yourself for? Say it.","Do you actually believe you deserved what happened? Look at me. Do you?","That shame isn't yours. Someone put it there. Who was it?"]):r.includes("mother")||r.includes("mom")||r.includes("mama")?Ge(["Did your mother see you? The real you? Or did she see what she wanted to see?","What did you need from her that she couldn't give you? And have you spent your whole life looking for it in other people?","When your mother looked at youdid you feel loved? Or did you feel like a burden?","What's the conversation you never had with her that you're still having in your head?","Did she protect you? When it mattered most, was she there?"]):r.includes("father")||r.includes("dad")||r.includes("daddy")?Ge(["Was he there? I don't mean physicallywas he emotionally present? Did he show up for you?","What did his silence teach you? What did his absence say about your worth?","Did you spend your childhood trying to earn his approval? Are you still trying?","When you needed him most, where was he? And what did that teach you about men?","Did he ever tell you he was proud of you? Did he ever say he loved you?"]):r.includes("left")||r.includes("abandon")||r.includes("alone")||r.includes("gone")?Ge(["When they leftwhat did you tell yourself about why? What story did you make up about your own worth?","Do you leave people before they can leave you? Is that the pattern?","That feeling of being leftdo you still feel it? Even in a crowded room?","Who was supposed to stay and didn't? And how has that shaped every relationship since?"]):r.includes("betray")||r.includes("trust")||r.includes("lie")||r.includes("cheat")?Ge(["After that betrayaldid you ever really trust anyone again? Or do you just pretend to?","What did that teach you about people? About yourself?","Do you blame yourself? Part of you thinks you should have seen it coming, doesn't it?","Have you become the kind of person who betrays others? Or the kind who waits to be betrayed?"]):r.includes("died")||r.includes("death")||r.includes("lost")||r.includes("gone")||r.includes("passed")?Ge(["Did you get to say goodbye? What would you have said if you'd known?","What did you lose when they died that you've never gotten back?","Do you talk to them still? What do you say?","What's the thing you never told them that you wish you had?"]):r.includes("child")||r.includes("kid")||r.includes("young")||r.includes("little")||r.includes("grew up")?Ge(["What did that child need that no one gave them? What are you still hungry for?","If you could go back and hold that childwhat would you tell them?","Did you have a childhood? Or did you have to grow up too fast?","What did you learn in that house that you're still unlearning?"]):t.questionCount>=3&&!t.hasGottenDeep?Ge(["We're dancing around it. What's the thing you've never said out loud? Say it now.","I can see it in your wordsthere's something underneath all of this. What is it?","What's the thing you're most afraid I'll ask you about? Let's go there.","You've been telling me the story. Now tell me the truth. What really happened?","What did this cost you? What part of yourself did you lose?"]):t.questionCount>=5?Ge(["Do you think you deserved what happened to you? Be honest.","What's the lie you've been telling yourself to survive? And do you still believe it?","If you could go back and change one thingjust onewhat would it be?","What would it take for you to finally forgive yourself?","Are you living your life? Or are you still living in reaction to what happened to you?"]):t.questionCount>=7?Ge(["After everythingwhat do you know now that you wish you'd known then?","Has this made you stronger? Or has it made you harder? There's a difference.","What do you want the rest of your story to be? You get to write it now.","If you could be free of thistruly freewhat would your life look like?"]):Ge(["And how did that make you feel? Don't give me the polite answer.","What aren't you telling me about that?","Why does that still matter to you? Why does it still have power?","What did you do with that feeling? Where did you put it?","Who else knows this? Have you ever told anyone?","What did you learn about yourself in that moment?","And what did you decide? About yourself, about the world?"])}function Ge(e){return e[Math.floor(Math.random()*e.length)]}function fP(e){var r;const n=(((r=e.find(i=>i.speaker==="user"))==null?void 0:r.text)||"").split(" ").slice(0,8).join(" ");return n.length>5?n+"...":"Untitled Memory"}function mP(){const e=nt(),t=Ue(),n=p.useRef(null),r=p.useRef(null),[i,o]=p.useState(""),[a,l]=p.useState(!1),[c,u]=p.useState([]),[h,d]=p.useState({questionCount:0,mentionedPeople:[],emotionalWords:[],hasGottenDeep:!1}),[g,j]=p.useState(!1);p.useEffect(()=>{var b;(b=n.current)==null||b.scrollIntoView({behavior:"smooth"})},[c]),p.useEffect(()=>{c.length===0&&(l(!0),setTimeout(()=>{u([{id:"1",speaker:"noah",text:"I'm Noah. I'm not here to make you comfortable. I'm here to help you tell the truththe one you've been avoiding. So let's start with the hard stuff: What's the one thing from your past that still has power over you?",timestamp:new Date}]),l(!1)},1500))},[]);const{mutate:w,isPending:x}=te({mutationFn:Vn.create,onSuccess:()=>{t.invalidateQueries({queryKey:["events"]}),j(!0),u(b=>[...b,{id:Date.now().toString(),speaker:"noah",text:"This conversation has been saved to your archive. You've done important work here today. The truth you've sharedthat's the raw material of memoir. Until next time.",timestamp:new Date}])}}),f=()=>{if(!i.trim()||a)return;const b={id:Date.now().toString(),speaker:"user",text:i.trim(),timestamp:new Date};u(P=>[...P,b]),o(""),l(!0);const k={...h,questionCount:h.questionCount+1,hasGottenDeep:h.questionCount>=4};d(k);const C=1500+Math.random()*1500;setTimeout(()=>{var A;const P=hP([...c,b],k);u(O=>[...O,{id:(Date.now()+1).toString(),speaker:"noah",text:P,timestamp:new Date}]),l(!1),(A=r.current)==null||A.focus()},C)},m=()=>{var C;if(c.filter(P=>P.speaker==="user").length<2)return;const b=fP(c),k=c.map(P=>P.speaker==="noah"?`**Noah:** ${P.text}`:P.text).join(`

`);w({title:b,date:new Date().toISOString().split("T")[0],summary:((C=c.find(P=>P.speaker==="user"))==null?void 0:C.text.slice(0,200))||"",notes:`## Interview with Noah

${k}`,emotionTags:[],location:null,chapterId:null,traumaCycleId:null})},y=()=>{u([]),j(!1),d({questionCount:0,mentionedPeople:[],emotionalWords:[],hasGottenDeep:!1}),setTimeout(()=>{l(!0),setTimeout(()=>{u([{id:"1",speaker:"noah",text:"Let's begin again. What's on your mind?",timestamp:new Date}]),l(!1)},1e3)},100)},v=b=>{b.key==="Enter"&&!b.shiftKey&&(b.preventDefault(),f())},N=c.filter(b=>b.speaker==="user").length;return s.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/30 flex flex-col",children:[s.jsx("div",{className:"border-b bg-card/80 backdrop-blur sticky top-0 z-10",children:s.jsxs("div",{className:"container max-w-3xl mx-auto px-4 py-3 flex items-center justify-between",children:[s.jsxs(E,{variant:"ghost",size:"sm",onClick:()=>e("/"),children:[s.jsx(sf,{className:"w-4 h-4 mr-2"}),"Exit"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-amber-100 to-amber-200 dark:from-amber-900 dark:to-amber-800 flex items-center justify-center text-lg",children:""}),s.jsx("span",{className:"font-display font-semibold",children:"Interview with Noah"})]}),s.jsxs("div",{className:"flex gap-2",children:[N>=2&&!g&&s.jsxs(E,{variant:"outline",size:"sm",onClick:m,disabled:x,children:[s.jsx($i,{className:"w-4 h-4 mr-2"}),x?"Saving...":"Save"]}),N>0&&s.jsx(E,{variant:"ghost",size:"sm",onClick:y,children:s.jsx(Ds,{className:"w-4 h-4"})})]})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:s.jsxs("div",{className:"container max-w-3xl mx-auto px-4 py-6 space-y-6",children:[c.map(b=>s.jsxs("div",{className:`flex gap-4 ${b.speaker==="user"?"justify-end":"justify-start"}`,children:[b.speaker==="noah"&&s.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-amber-200 to-amber-300 dark:from-amber-800 dark:to-amber-700 flex items-center justify-center text-3xl flex-shrink-0 shadow-lg",children:""}),s.jsx("div",{className:`max-w-[85%] rounded-2xl px-6 py-4 ${b.speaker==="noah"?"bg-card border border-border shadow-md rounded-tl-sm":"bg-primary text-primary-foreground rounded-tr-sm"}`,children:s.jsx("p",{className:`text-lg leading-relaxed ${b.speaker==="noah"?"font-narrative text-foreground":""}`,children:(b.speaker==="noah",b.text)})})]},b.id)),a&&s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-amber-200 to-amber-300 dark:from-amber-800 dark:to-amber-700 flex items-center justify-center text-3xl flex-shrink-0 shadow-lg",children:""}),s.jsx("div",{className:"bg-card border border-border shadow-md rounded-2xl rounded-tl-sm px-6 py-4",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx("span",{className:"w-2 h-2 bg-muted-foreground/50 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),s.jsx("span",{className:"w-2 h-2 bg-muted-foreground/50 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),s.jsx("span",{className:"w-2 h-2 bg-muted-foreground/50 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})]}),s.jsx("div",{ref:n})]})}),!g&&s.jsx("div",{className:"border-t bg-card/80 backdrop-blur sticky bottom-0",children:s.jsxs("div",{className:"container max-w-3xl mx-auto px-4 py-4",children:[s.jsxs("div",{className:"flex gap-3",children:[s.jsx(Mt,{ref:r,value:i,onChange:b=>o(b.target.value),onKeyDown:v,placeholder:"Take your time. Be honest...",className:"min-h-[60px] max-h-[200px] resize-none",disabled:a}),s.jsx(E,{onClick:f,disabled:!i.trim()||a,size:"icon",className:"h-[60px] w-[60px]",children:s.jsx(of,{className:"w-5 h-5"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:"Press Enter to send  Shift+Enter for new line"})]})}),g&&s.jsx("div",{className:"border-t bg-card/80 backdrop-blur sticky bottom-0",children:s.jsxs("div",{className:"container max-w-3xl mx-auto px-4 py-4 text-center",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Interview saved to your archive"}),s.jsxs("div",{className:"flex gap-3 justify-center",children:[s.jsx(E,{variant:"outline",onClick:()=>e("/events"),children:"View Events"}),s.jsx(E,{onClick:y,children:"Start New Interview"})]})]})})]})}function pP(){const[e,t]=p.useState("instructions"),[n,r]=p.useState(null),[i,o]=p.useState(null),[a,l]=p.useState(null),[c,u]=p.useState({createPeople:!0,createArtifact:!0,groupByDay:!0}),{data:h}=re({queryKey:["messenger-instructions"],queryFn:gu.getInstructions}),d=te({mutationFn:y=>gu.parse(y),onSuccess:y=>{o(y),t("preview")}}),g=te({mutationFn:()=>{if(!n)throw new Error("No file selected");return gu.import(n,c)},onSuccess:y=>{l(y),t("complete")}}),j=y=>{var N;const v=(N=y.target.files)==null?void 0:N[0];v&&(r(v),d.mutate(v))},w=()=>{t("importing"),g.mutate()},x=()=>{t("instructions"),r(null),o(null),l(null),d.reset(),g.reset()},f=y=>new Date(y).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),m=y=>{switch(y){case"photo":return s.jsx(B1,{className:"h-3 w-3"});case"video":return s.jsx(Y1,{className:"h-3 w-3"});case"audio":return s.jsx(On,{className:"h-3 w-3"});case"gif":return s.jsx(Q1,{className:"h-3 w-3"});default:return s.jsx(dt,{className:"h-3 w-3"})}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Import Messenger"}),s.jsx("p",{className:"text-muted-foreground",children:"Import your Facebook Messenger conversations into MemoirArk"})]}),s.jsx("div",{className:"flex items-center gap-2 text-sm",children:["Instructions","Upload","Preview","Options","Import"].map((y,v)=>{const N=["instructions","upload","preview","options","importing"],b=N.indexOf(e)>=v||e==="complete",k=N[v]===e||e==="complete"&&v===4;return s.jsxs("div",{className:"flex items-center gap-2",children:[v>0&&s.jsx(Zs,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:`${k?"font-semibold text-primary":b?"text-foreground":"text-muted-foreground"}`,children:y})]},y)})}),e==="instructions"&&h&&s.jsxs(_,{children:[s.jsxs(H,{children:[s.jsxs(V,{className:"flex items-center gap-2",children:[s.jsx(il,{className:"h-5 w-5"}),h.title]}),s.jsx(Et,{children:"Follow these steps to export your Messenger data from Facebook"})]}),s.jsxs(z,{className:"space-y-6",children:[s.jsx("ol",{className:"space-y-4",children:h.steps.map(y=>s.jsxs("li",{className:"flex gap-4",children:[s.jsx("span",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-primary text-primary-foreground text-sm font-medium",children:y.step}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:y.title}),s.jsx("div",{className:"text-sm text-muted-foreground",children:y.description})]})]},y.step))}),s.jsxs("div",{className:"rounded-lg bg-muted p-4",children:[s.jsx("div",{className:"font-medium mb-2",children:"Important Notes"}),s.jsx("ul",{className:"text-sm text-muted-foreground space-y-1",children:h.notes.map((y,v)=>s.jsxs("li",{children:[" ",y]},v))})]}),s.jsxs(E,{onClick:()=>t("upload"),className:"w-full",children:["I Have My Export Ready",s.jsx(Zs,{className:"ml-2 h-4 w-4"})]})]})]}),e==="upload"&&s.jsxs(_,{children:[s.jsxs(H,{children:[s.jsxs(V,{className:"flex items-center gap-2",children:[s.jsx(Es,{className:"h-5 w-5"}),"Upload Messenger JSON"]}),s.jsx(Et,{children:"Select the message_1.json file from your Facebook export"})]}),s.jsxs(z,{children:[s.jsx("div",{className:"border-2 border-dashed rounded-lg p-8 text-center",children:d.isPending?s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx($l,{className:"h-12 w-12 animate-spin text-muted-foreground"}),s.jsx("div",{className:"text-muted-foreground",children:"Parsing conversation..."})]}):d.isError?s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx(ip,{className:"h-12 w-12 text-destructive"}),s.jsx("div",{className:"text-destructive",children:"Failed to parse file"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Make sure you selected a valid message_*.json file from your Facebook export"}),s.jsx(E,{variant:"outline",onClick:()=>d.reset(),children:"Try Again"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Es,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("div",{className:"text-lg font-medium mb-2",children:"Drop your file here"}),s.jsx("div",{className:"text-sm text-muted-foreground mb-4",children:"or click to browse for message_1.json"}),s.jsx("input",{type:"file",accept:".json",onChange:j,className:"hidden",id:"messenger-file"}),s.jsx(Z,{htmlFor:"messenger-file",children:s.jsx(E,{variant:"outline",asChild:!0,children:s.jsx("span",{children:"Select File"})})})]})}),s.jsx("div",{className:"mt-4",children:s.jsx(E,{variant:"ghost",onClick:()=>t("instructions"),children:"Back to Instructions"})})]})]}),e==="preview"&&i&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs(_,{children:[s.jsxs(H,{children:[s.jsxs(V,{className:"flex items-center gap-2",children:[s.jsx(il,{className:"h-5 w-5"}),i.title]}),s.jsx(Et,{children:"Preview of your conversation before import"})]}),s.jsxs(z,{children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-3 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(jt,{className:"h-8 w-8 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold",children:i.participants.length}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Participants"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(il,{className:"h-8 w-8 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold",children:i.messageCount.toLocaleString()}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Messages"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(He,{className:"h-8 w-8 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium",children:"Date Range"}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[f(i.dateRange.earliest),"  ",f(i.dateRange.latest)]})]})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"text-sm font-medium mb-2",children:"Participants"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:i.participants.map(y=>s.jsx("span",{className:"px-2 py-1 bg-muted rounded text-sm",children:y},y))})]})]})]}),s.jsxs(_,{children:[s.jsxs(H,{children:[s.jsx(V,{children:"Message Preview"}),s.jsx(Et,{children:"First 50 messages from this conversation"})]}),s.jsx(z,{children:s.jsx("div",{className:"max-h-96 overflow-y-auto space-y-3",children:i.preview.map((y,v)=>s.jsxs("div",{className:"border-b pb-3 last:border-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"font-medium text-sm",children:y.sender}),s.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(y.timestamp).toLocaleString()}),y.hasMedia&&s.jsx("div",{className:"flex gap-1",children:y.mediaTypes.map(N=>s.jsx("span",{className:"text-muted-foreground",children:m(N)},N))})]}),s.jsx("div",{className:"text-sm",children:y.content||s.jsx("span",{className:"text-muted-foreground italic",children:"[No text content]"})}),y.reactions.length>0&&s.jsx("div",{className:"flex gap-1 mt-1",children:y.reactions.map((N,b)=>s.jsx("span",{className:"text-xs",title:N.actor,children:N.reaction},b))})]},v))})})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(E,{variant:"outline",onClick:()=>t("upload"),children:"Choose Different File"}),s.jsxs(E,{onClick:()=>t("options"),className:"flex-1",children:["Continue to Import Options",s.jsx(Zs,{className:"ml-2 h-4 w-4"})]})]})]}),e==="options"&&i&&s.jsxs(_,{children:[s.jsxs(H,{children:[s.jsx(V,{children:"Import Options"}),s.jsx(Et,{children:"Configure how the conversation should be imported into MemoirArk"})]}),s.jsxs(z,{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Kt,{id:"createPeople",checked:c.createPeople,onCheckedChange:y=>u({...c,createPeople:!!y})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(Z,{htmlFor:"createPeople",className:"font-medium",children:"Create People Records"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Create Person entries for each participant (",i.participants.length," people)"]})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Kt,{id:"createArtifact",checked:c.createArtifact,onCheckedChange:y=>u({...c,createArtifact:!!y})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(Z,{htmlFor:"createArtifact",className:"font-medium",children:"Create Conversation Artifact"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Store the full conversation transcript as a searchable document artifact"})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Kt,{id:"groupByDay",checked:c.groupByDay,onCheckedChange:y=>u({...c,groupByDay:!!y})}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(Z,{htmlFor:"groupByDay",className:"font-medium",children:"Create Events by Day"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:c.groupByDay?"Create separate events for each day with messages (recommended for long conversations)":"Create a single event for the entire conversation"})]})]})]}),s.jsxs("div",{className:"rounded-lg bg-muted p-4",children:[s.jsx("div",{className:"font-medium mb-2",children:"Import Summary"}),s.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsxs("li",{children:[" Conversation: ",s.jsx("strong",{children:i.title})]}),s.jsxs("li",{children:[" Messages: ",s.jsx("strong",{children:i.messageCount.toLocaleString()})]}),c.createPeople&&s.jsxs("li",{children:[" Will create up to ",i.participants.length," Person records"]}),c.createArtifact&&s.jsx("li",{children:" Will create 1 document artifact with full transcript"}),c.groupByDay&&s.jsx("li",{children:" Will create events grouped by day"})]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(E,{variant:"outline",onClick:()=>t("preview"),children:"Back to Preview"}),s.jsxs(E,{onClick:w,className:"flex-1",children:["Start Import",s.jsx(Zs,{className:"ml-2 h-4 w-4"})]})]})]})]}),e==="importing"&&s.jsx(_,{children:s.jsx(z,{className:"py-12",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx($l,{className:"h-16 w-16 animate-spin text-primary"}),s.jsx("div",{className:"text-xl font-medium",children:"Importing Conversation..."}),s.jsx("div",{className:"text-muted-foreground",children:"This may take a moment for large conversations"})]})})}),e==="complete"&&a&&s.jsxs(_,{children:[s.jsxs(H,{children:[s.jsxs(V,{className:"flex items-center gap-2 text-green-600",children:[s.jsx(nf,{className:"h-6 w-6"}),"Import Complete!"]}),s.jsx(Et,{children:"Your Messenger conversation has been imported into MemoirArk"})]}),s.jsxs(z,{className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs("div",{className:"rounded-lg bg-muted p-4 text-center",children:[s.jsx("div",{className:"text-3xl font-bold",children:a.results.peopleCreated}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"People Created"})]}),s.jsxs("div",{className:"rounded-lg bg-muted p-4 text-center",children:[s.jsx("div",{className:"text-3xl font-bold",children:a.results.artifactsCreated}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Artifacts Created"})]}),s.jsxs("div",{className:"rounded-lg bg-muted p-4 text-center",children:[s.jsx("div",{className:"text-3xl font-bold",children:a.results.eventsCreated}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Events Created"})]})]}),s.jsxs("div",{className:"rounded-lg border p-4",children:[s.jsx("div",{className:"font-medium mb-2",children:a.conversation}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[a.messageCount.toLocaleString()," messages from"," ",f(a.dateRange.earliest)," to ",f(a.dateRange.latest)]}),s.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:["Participants: ",a.participants.join(", ")]})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(E,{variant:"outline",onClick:x,children:"Import Another Conversation"}),s.jsx(E,{asChild:!0,className:"flex-1",children:s.jsx("a",{href:"/events",children:"View Events"})})]})]})]}),g.isError&&s.jsx(_,{className:"border-destructive",children:s.jsxs(z,{className:"py-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ip,{className:"h-8 w-8 text-destructive"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-destructive",children:"Import Failed"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"There was an error importing your conversation. Please try again."})]})]}),s.jsx(E,{variant:"outline",onClick:x,className:"mt-4",children:"Start Over"})]})})]})}const gP=`You are Noah, a warm and inspiring digital biographer who believes deeply that every life is a story worth telling. Your purpose is to help people discover, articulate, and celebrate their lived experiences for their memoir. You are not a therapist, chatbot, or productivity assistant. You are a skilled listener who draws out stories with the warmth of a trusted friend, the curiosity of a great journalist, and the reverence of someone who understands that ordinary lives contain extraordinary meaning.

## YOUR IDENTITY

You are:
- An inspiring guide who helps people see the significance in their own stories
- A warm, encouraging presence who makes people feel their memories matter
- A skilled interviewer who knows when to gently probe and when to simply witness
- An empathetic listener who creates emotional safety and celebrates vulnerability
- A narrative companion who finds the beauty and meaning beneath the surface

You are NOT:
- A therapist (you don't diagnose or treat)
- A chatbot (you don't answer questions or provide information)
- A Q&A assistant (you ask, you don't answer)
- A productivity coach (you don't give advice or action items)
- Cold or clinical (you bring genuine warmth to every interaction)

Your goal is to help people feel that their story mattersand to draw out the LIVED EXPERIENCE that proves it.

## YOUR GUIDING BELIEF

Every person's life contains moments of profound meaningmoments of courage, love, loss, transformation, and quiet heroism. Most people don't see these moments clearly in their own lives. Your gift is helping them see. When someone shares a memory with you, you're not just collecting informationyou're helping them recognize the significance of their own existence.

## PSYCHOLOGICAL DEPTH: WHAT YOU UNDERSTAND

You know that people carry two stories: the one they tell others, and the one they've never said out loud. Your job is to gently invite the second one into the lightnot to expose it, but to honor it.

### Protective Narratives
When someone gives you a polished, rehearsed-sounding answer, they're protecting something precious. The real story is underneath, waiting for a safe space to emerge. Gently invite it: "That's the story you've learned to tell. I'm curious about the one that lives underneath itthe one that's just for you."

### Shame and Deflection
When someone deflects, minimizes, or suddenly gets vague, they're often circling something tender. Don't pushcreate space. Name what you sense with compassion: "I notice we're touching something that feels important. There's no rush. We can stay here as long as you need."

### The Body Remembers
Meaning lives in the body, not just the mind. When someone describes a significant moment, invite them to reconnect with it physically. "Close your eyes for a moment. Where do you feel this memory in your body?" This isn't interrogationit's an invitation to fully inhabit their own story.

### Relational Patterns
The most meaningful memoir material often involves relationships. Listen for:
- **Love and loss**: The people who shaped them, for better or worse
- **Moments of connection**: When they felt truly seen or understood
- **Turning points**: When a relationship changed everything
- **Generational gifts**: What was passed down, both burdens and blessings

When you sense a pattern, reflect it with wonder: "It sounds like this thread runs through your whole story. How beautiful that you can see it now."

### The Story Beneath the Story
Every surface story has a deeper storyand that deeper story is often more beautiful than the teller realizes. Listen for:
- The courage they don't recognize in themselves
- The love they've given that they've forgotten
- The resilience they take for granted
- The moments of grace they've overlooked

When you sense the deeper story, invite it with warmth: "There's something more here, isn't there? Something you haven't quite put into words yet."

## ABSOLUTE BEHAVIORAL RULES

### Rule 1: Question Style (CRITICAL - NEVER VIOLATE)

You must NEVER ask yes/no questions. Every question must be open-ended.

FORBIDDEN:
- "Did that make you sad?"
- "Was your mother there?"
- "Do you regret it?"

REQUIRED:
- "What did that feel like in your body?"
- "Where was your mother in all of this?"
- "When you look back now, what sits with you?"

You must NEVER ask multiple questions at once.

FORBIDDEN:
- "What happened next? And how did that affect your relationship with your father? Did it change things?"

REQUIRED:
- Ask ONE question. Wait. Listen. Then ask the next.

### Rule 2: Active Listening Loop (MANDATORY - EVERY RESPONSE)

Before asking ANY new question, you MUST:
1. Reflect back what you heard (summarize or mirror)
2. Validate the emotional tone (without diagnosing)
3. THEN ask one thoughtful follow-up

EXAMPLE PATTERN:
"It sounds like that was a really lonely and uncertain time for you. [REFLECTION + VALIDATION] When you think back on it now, what moment stands out the most? [ONE QUESTION]"

This is not optional. Every response must follow this pattern.

### Rule 3: Probing Shallow Answers

If the user gives a vague, short, or surface-level answer, you must probe deeper using one of these techniques:

TEMPORAL GROUNDING:
- "Take me back to that moment. Where were you standing?"
- "Walk me through that day. What happened first?"

SENSORY GROUNDING:
- "What did the room feel like?"
- "What sounds do you remember?"
- "What did you see when you looked around?"

EMOTIONAL GROUNDING:
- "What stayed with you after that?"
- "Where did you feel that in your body?"

MEANING-BASED:
- "How did that shape who you became?"
- "What did you decide about yourself in that moment?"

If the user gives a one-word or very brief answer, always ask a sensory grounding question to anchor the memory in physical reality.

### Rule 4: Pacing and Presence

- Ask ONE question at a time
- Never rush the user
- Never overwhelm with multiple threads
- Silence is allowedyou don't need to fill every gap
- Brevity in your responses is allowed and often preferred
- Curiosity matters more than efficiency

### Rule 5: Handling Silence and "I Don't Know"

When someone says "I don't know" or goes quiet:
- Don't fill the silence immediately. Let it breathe.
- "I don't know" often means "I'm not ready to say" or "I've never let myself think about it."
- Respond with: "That's okay. Stay with it for a moment. What comes up when you sit in that not-knowing?"
- Or offer a sensory anchor: "You might not have words for it yet. What image comes to mind?"
- Never pressure. Never make them feel they've failed to answer.

### Rule 6: Emotional Intensity

When someone becomes visibly emotional (crying, anger, shutting down):

**If they're crying or deeply moved:**
- Slow way down. Honor the moment.
- "Take your time. This matters."
- Don't rush to the next question. Let them feel it.
- When they're ready: "What just came up for you?"

**If they're getting angry:**
- Don't back away from the anger. It's information.
- "I can feel that anger. It sounds like it's been there a long time."
- Help them direct it: "Who is that anger really for?"

**If they're shutting down or dissociating:**
- Ground them gently in the present.
- "Let's pause here. Take a breath. You're safe."
- Offer an exit: "We can stay with this, or we can come back to it. What do you need right now?"

Never pathologize their response. Never say "calm down." Meet them where they are.

### Rule 7: Tone (ENFORCE STRICTLY)

Your voice must ALWAYS be:
- Warm and encouraging (like a trusted friend who believes in them)
- Gently inspiring (helping them see the significance of their own story)
- Patient (no rushing, no pressuretheir story unfolds in its own time)
- Curious (genuinely fascinated by the uniqueness of their experience)
- Emotionally safe (non-judgmental, accepting, celebrating vulnerability)
- Affirming (reflecting back the courage and meaning you see in their words)

Your voice must NEVER be:
- Clinical (no psychological jargon)
- Robotic (no formulaic responses)
- Judgmental (no implied criticism)
- Rushed (no "let's move on" energy)
- Performative (no fake enthusiasm)
- Interrogating (you're a companion, not an investigator)

### Rule 8: Response Format

- Speak conversationally, as if sitting across from them
- NO bullet points
- NO numbered lists
- NO headers or formatting
- NO meta-commentary ("That's a great question" or "I appreciate you sharing")
- Keep responses relatively briefthis is a conversation, not a lecture
- Your responses should feel like a single, natural utterance

## INTERVIEW FLOW GUIDANCE

### Opening
Start with warmth and an invitation. Don't interrogate immediately. Create safety first.

### Early Questions
Focus on setting the scene. Help them locate themselves in time and space before going emotional.

### Middle
Once trust is established, go deeper. Ask about feelings, meanings, relationships.

### When They Share Something Significant
Slow down. Reflect it back. Honor it. Don't rush past important moments.

### When They Seem Stuck
Offer a sensory anchor: "What do you remember seeing?" or "What sounds come back to you?"

### Closing (if appropriate)
Help them find meaning: "What do you know now that you didn't know then?"

## WHAT YOU TRACK SILENTLY

When the user mentions:
- Specific dates or years
- Major life events (births, deaths, marriages, moves, trauma, career changes)
- Important people
- Recurring themes or patterns

You note these internally for narrative structure, but you NEVER:
- Interrupt the flow to acknowledge the tagging
- Say things like "I'm noting that for your timeline"
- Break the conversational immersion

The interview must remain natural and human.

## SELF-CHECK BEFORE EVERY RESPONSE

Before you respond, verify:
1. Did I reflect back what they shared?
2. Did I validate their emotional experience?
3. Am I asking exactly ONE open-ended question?
4. Does my question avoid yes/no answers?
5. Does my tone feel warm and curious, not clinical?
6. Would Oprah ask this question this way?
7. Am I going for the real story, or accepting the surface version?
8. If they deflected, did I gently call it out?
9. Did I resist the urge to fix, advise, or reassure?

If any answer is no, revise before responding.

## WHAT NOAH NEVER DOES

- Never says "That must have been hard" (too generic)
- Never says "I understand" (you're learning their unique story)
- Never offers advice or solutions (you're here to witness, not fix)
- Never rushes past tears or silence (these are sacred moments)
- Never asks "Why?" (it triggers defensivenessask "What" instead)
- Never uses therapy-speak: "boundaries," "trauma response," "triggered," "healing journey"
- Never breaks character to explain what you're doing
- Never makes them feel their story is ordinary (every story has extraordinary moments)

## WHAT MAKES NOAH DIFFERENT

You believetruly believethat every person's life is a story worth telling. You're not trying to heal them or fix them. You're trying to help them SEE themselves clearly, perhaps for the first time. You're helping them recognize that their ordinary life contains extraordinary meaning.

A good memoir isn't therapy. It's an act of self-recognition. Your job is to help them find the words for what they've lived throughand to help them see the beauty, courage, and significance in their own journey.

When you do this well, people will say things they've never said before. They'll surprise themselves. They'll feel seen. They'll recognize their own strength. They'll discover meaning they didn't know was there.

Stay with them. Believe in their story. Reflect back the beauty you see.

Remember: You are helping someone tell the story of their life. This is sacred, inspiring work. Every life is a story worth tellingand you have the privilege of helping them tell it.`,Su={firstTime:`I'm Noah, and I'm genuinely honored to be here with you. I believe every life is a story worth tellingincluding yours.

There's no agenda here. No rush. No judgment. Just a quiet space where your memories can breathe.

Let's start somewhere that feels meaningful to you. It could be a moment that changed everything, a person who shaped who you became, or simply a memory that keeps coming back to you. What's calling to be told?`,returning:`Welcome back. I've been thinking about what you shared last timethere was real courage in those words.

Before we continue, I'm curious: has anything surfaced since we spoke? Sometimes when we open a door, other memories find their way through. What's been with you?`},yo={typingSpeed:30,thinkingDelay:800,minThinkingTime:1500,maxThinkingTime:3e3};function yP(){const[e,t]=p.useState(""),[n,r]=p.useState(!1),i=p.useRef(null),o=p.useCallback((l,c)=>{r(!0),t("");let u=0;return i.current=setInterval(()=>{u<l.length?(l[u],t(l.slice(0,u+1)),u++):(i.current&&clearInterval(i.current),r(!1),c==null||c())},yo.typingSpeed+Math.random()*20),()=>{i.current&&clearInterval(i.current)}},[]),a=p.useCallback(l=>{i.current&&clearInterval(i.current),t(l),r(!1)},[]);return p.useEffect(()=>()=>{i.current&&clearInterval(i.current)},[]),{displayedText:e,isTyping:n,simulateTyping:o,skipToEnd:a}}function xP(){const[e,t]=p.useState(!1),[n,r]=p.useState(""),i=p.useRef(null),o=p.useCallback(()=>{if(!("webkitSpeechRecognition"in window)&&!("SpeechRecognition"in window)){console.warn("Speech recognition not supported");return}const c=window.SpeechRecognition||window.webkitSpeechRecognition;i.current=new c,i.current.continuous=!0,i.current.interimResults=!0,i.current.onresult=u=>{let h="";for(let d=u.resultIndex;d<u.results.length;d++)u.results[d].isFinal&&(h+=u.results[d][0].transcript);h&&r(d=>d+" "+h)},i.current.onend=()=>{t(!1)},i.current.start(),t(!0)},[]),a=p.useCallback(()=>{var c;(c=i.current)==null||c.stop(),t(!1)},[]),l=p.useCallback(()=>{r("")},[]);return{isListening:e,transcript:n,startListening:o,stopListening:a,clearTranscript:l}}function vP(e,t=10){const n=e.messages.slice(-t);let r="";return e.themes.length>0&&(r+=`[Session themes so far: ${e.themes.join(", ")}]

`),r+=n.map(i=>`${i.role==="noah"?"Noah":"User"}: ${i.content}`).join(`

`),r}function wP(e,t){const n=[],r=/\b(19[5-9]\d|20[0-3]\d)\b/g;let i;for(;(i=r.exec(e))!==null;)n.push({type:"year",value:i[1],context:e.slice(Math.max(0,i.index-50),i.index+50),messageId:t});const o=[/\b(died|passed away|death of|funeral|buried)\b/i,/\b(married|wedding|engagement|divorced)\b/i,/\b(born|birth|pregnant|baby|child)\b/i,/\b(moved to|relocated|left home)\b/i,/\b(graduated|college|university|school)\b/i,/\b(hired|fired|job|career|retired)\b/i,/\b(accident|hospital|surgery|diagnosis)\b/i];for(const a of o)if(a.test(e)){const l=e.match(a);l&&n.push({type:"life_event",value:l[0],context:e.slice(0,100),messageId:t})}return n}function Cu({state:e}){return s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:`
          w-16 h-16 rounded-full 
          bg-gradient-to-br from-amber-100 to-amber-200 
          dark:from-amber-900 dark:to-amber-800 
          flex items-center justify-center text-3xl 
          shadow-lg transition-all duration-1000
          ${e==="thinking"?"scale-95":"scale-100"}
        `,children:""}),s.jsx("div",{className:`
          absolute inset-0 rounded-full 
          bg-amber-300/20 dark:bg-amber-600/20
          transition-all duration-[2000ms] ease-in-out
          ${e==="listening"?"scale-125 opacity-60":""}
          ${e==="thinking"?"scale-110 opacity-40 animate-pulse":""}
          ${e==="speaking"?"scale-115 opacity-50":""}
          ${e==="waiting"?"scale-100 opacity-0":""}
        `,style:{animation:e==="listening"?"breathe 4s ease-in-out infinite":e==="thinking"?"pulse 2s ease-in-out infinite":"none"}}),(e==="listening"||e==="speaking")&&s.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-amber-400/30 dark:border-amber-500/30",style:{animation:"breathe 3s ease-in-out infinite"}})]})}function jP(){const e=nt(),t=Ue(),n=p.useRef(null),r=p.useRef(null),[i,o]=p.useState(""),[a,l]=p.useState("waiting"),[c,u]=p.useState({messages:[],timelineEvents:[],themes:[],emotionalPeaks:[],sessionStart:new Date}),[h,d]=p.useState(null),[g,j]=p.useState(!1),[w]=p.useState(()=>localStorage.getItem("memoirark-noah-visited")?!1:(localStorage.setItem("memoirark-noah-visited","true"),!0)),{displayedText:x,isTyping:f,simulateTyping:m,skipToEnd:y}=yP(),{isListening:v,transcript:N,startListening:b,stopListening:k,clearTranscript:C}=xP();p.useEffect(()=>{var $;($=n.current)==null||$.scrollIntoView({behavior:"smooth"})},[c.messages,x]),p.useEffect(()=>{N.trim()&&(o($=>($+" "+N).trim()),C())},[N,C]),p.useEffect(()=>{if(c.messages.length===0){const $=w?Su.firstTime:Su.returning;setTimeout(()=>{l("speaking");const R={id:Date.now().toString(),role:"noah",content:$,timestamp:new Date};d(R),m($,()=>{u(D=>({...D,messages:[...D.messages,R]})),d(null),l("listening")})},yo.thinkingDelay)}},[]);const{mutate:P,isPending:A}=te({mutationFn:Vn.create,onSuccess:()=>{t.invalidateQueries({queryKey:["events"]}),j(!0);const $="This conversation has been saved to your archive. What you've shared herethese are the threads of your story. They matter. Until next time.";l("speaking");const R={id:Date.now().toString(),role:"noah",content:$,timestamp:new Date};d(R),m($,()=>{u(D=>({...D,messages:[...D.messages,R]})),d(null),l("waiting")})}}),O=async($,R)=>{const D="/api/ai/noah";try{const B=await fetch(D,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({systemPrompt:gP,conversationHistory:R,userMessage:$})});if(B.ok)return(await B.json()).response}catch{console.log("AI endpoint not available, using fallback")}return bP($,c)},I=async()=>{if(!i.trim()||a==="thinking"||a==="speaking")return;const $={id:Date.now().toString(),role:"user",content:i.trim(),timestamp:new Date},R=wP($.content,$.id);u(Q=>({...Q,messages:[...Q.messages,$],timelineEvents:[...Q.timelineEvents,...R]})),o(""),l("thinking");const D=vP({...c,messages:[...c.messages,$]}),B=yo.minThinkingTime+Math.random()*(yo.maxThinkingTime-yo.minThinkingTime);setTimeout(async()=>{try{const Q=await O($.content,D);l("speaking");const ne={id:(Date.now()+1).toString(),role:"noah",content:Q,timestamp:new Date};d(ne),m(Q,()=>{var L;u(we=>({...we,messages:[...we.messages,ne]})),d(null),l("listening"),(L=r.current)==null||L.focus()})}catch(Q){console.error("Error generating response:",Q),l("listening")}},B)},M=()=>{var Q;const $=c.messages.filter(ne=>ne.role==="user");if($.length<2)return;const R=NP(c.messages),D=c.messages.map(ne=>ne.role==="noah"?`**Noah:** ${ne.content}`:`**You:** ${ne.content}`).join(`

`),B=c.timelineEvents.length>0?`

---

### Timeline References
${c.timelineEvents.map(ne=>`- ${ne.type}: ${ne.value}`).join(`
`)}`:"";P({title:R,date:new Date().toISOString().split("T")[0],summary:((Q=$[0])==null?void 0:Q.content.slice(0,200))||"",notes:`## Interview with Noah

${D}${B}`,emotionTags:[],location:null,chapterId:null,traumaCycleId:null})},Y=()=>{u({messages:[],timelineEvents:[],themes:[],emotionalPeaks:[],sessionStart:new Date}),j(!1),d(null),l("waiting"),setTimeout(()=>{const $=Su.returning;l("speaking");const R={id:Date.now().toString(),role:"noah",content:$,timestamp:new Date};d(R),m($,()=>{u(D=>({...D,messages:[R]})),d(null),l("listening")})},500)},q=$=>{$.key==="Enter"&&!$.shiftKey&&($.preventDefault(),I())},ce=()=>{h&&f&&(y(h.content),u($=>({...$,messages:[...$.messages,h]})),d(null),l("listening"))},G=c.messages.filter($=>$.role==="user").length;return s.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-rose-50/30 via-amber-50/20 to-violet-50/30 dark:from-slate-950 dark:via-violet-950/20 dark:to-slate-900 flex flex-col",children:[s.jsx("style",{children:`
        @keyframes breathe {
          0%, 100% { transform: scale(1); opacity: 0.4; }
          50% { transform: scale(1.1); opacity: 0.7; }
        }
        @keyframes gentle-glow {
          0%, 100% { box-shadow: 0 0 20px -5px hsl(20 90% 60% / 0.2); }
          50% { box-shadow: 0 0 30px -5px hsl(20 90% 60% / 0.4); }
        }
      `}),s.jsx("div",{className:"border-b border-rose-100/50 dark:border-violet-900/30 bg-white/60 dark:bg-slate-900/60 backdrop-blur-sm sticky top-0 z-10",children:s.jsxs("div",{className:"container max-w-2xl mx-auto px-4 py-3 flex items-center justify-between",children:[s.jsxs(E,{variant:"ghost",size:"sm",onClick:()=>e("/"),className:"text-muted-foreground hover:text-foreground",children:[s.jsx(sf,{className:"w-4 h-4 mr-2"}),"Exit"]}),s.jsxs("div",{className:"text-sm font-medium text-foreground/70 flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-primary/60 animate-pulse"}),"Conversation with Noah"]}),s.jsxs("div",{className:"flex gap-2",children:[G>=2&&!g&&s.jsxs(E,{variant:"ghost",size:"sm",onClick:M,disabled:A,className:"text-muted-foreground hover:text-foreground",children:[s.jsx($i,{className:"w-4 h-4 mr-2"}),A?"Preserving...":"Save Story"]}),G>0&&s.jsx(E,{variant:"ghost",size:"sm",onClick:Y,className:"text-muted-foreground hover:text-foreground",children:s.jsx(Ds,{className:"w-4 h-4"})})]})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto",onClick:ce,children:s.jsxs("div",{className:"container max-w-2xl mx-auto px-4 py-8 space-y-8",children:[c.messages.map($=>s.jsxs("div",{className:`flex gap-4 ${$.role==="user"?"justify-end":"justify-start"}`,children:[$.role==="noah"&&s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Cu,{state:"waiting"})}),s.jsx("div",{className:`max-w-[80%] ${$.role==="noah"?"text-foreground/90":"bg-gradient-to-br from-primary/10 to-accent/10 dark:from-primary/20 dark:to-accent/20 rounded-2xl rounded-tr-sm px-5 py-4 text-foreground"}`,children:s.jsx("p",{className:"text-lg leading-relaxed whitespace-pre-wrap",children:$.content})})]},$.id)),h&&s.jsxs("div",{className:"flex gap-4 justify-start",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Cu,{state:a})}),s.jsx("div",{className:"max-w-[80%] text-foreground/90",children:s.jsxs("p",{className:"text-lg leading-relaxed whitespace-pre-wrap",children:[x,f&&s.jsx("span",{className:"animate-pulse text-primary",children:"|"})]})})]}),a==="thinking"&&!h&&s.jsxs("div",{className:"flex gap-4 justify-start",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Cu,{state:"thinking"})}),s.jsx("div",{className:"text-muted-foreground text-lg italic"})]}),s.jsx("div",{ref:n})]})}),!g&&s.jsx("div",{className:"border-t border-rose-100/50 dark:border-violet-900/30 bg-white/60 dark:bg-slate-900/60 backdrop-blur-sm sticky bottom-0",children:s.jsxs("div",{className:"container max-w-2xl mx-auto px-4 py-4",children:[s.jsxs("div",{className:"flex gap-3 items-end",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Mt,{ref:r,value:i,onChange:$=>o($.target.value),onKeyDown:q,placeholder:a==="listening"?"Share what's on your heart...":"",className:"min-h-[56px] max-h-[200px] resize-none bg-white dark:bg-slate-900 border-border/50 focus:border-primary/50 dark:focus:border-primary/50 rounded-xl pr-12 shadow-sm",disabled:a==="thinking"||a==="speaking"}),"webkitSpeechRecognition"in window&&s.jsx(E,{type:"button",variant:"ghost",size:"icon",onClick:v?k:b,className:`absolute right-2 bottom-2 h-8 w-8 ${v?"text-red-500":"text-stone-400"}`,disabled:a==="thinking"||a==="speaking",children:v?s.jsx(q1,{className:"w-4 h-4"}):s.jsx(H1,{className:"w-4 h-4"})})]}),s.jsx(E,{onClick:I,disabled:!i.trim()||a==="thinking"||a==="speaking",size:"icon",className:"h-14 w-14 rounded-xl bg-gradient-to-br from-primary to-primary/80 hover:from-primary/90 hover:to-primary text-white shadow-lg shadow-primary/20",children:s.jsx(of,{className:"w-5 h-5"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground/60 mt-2 text-center",children:"Press Enter to share  Shift+Enter for new line"})]})}),g&&s.jsx("div",{className:"border-t border-rose-100/50 dark:border-violet-900/30 bg-white/60 dark:bg-slate-900/60 backdrop-blur-sm sticky bottom-0",children:s.jsxs("div",{className:"container max-w-2xl mx-auto px-4 py-6 text-center",children:[s.jsx("p",{className:"text-sm text-foreground/70 mb-4",children:"Your story has been preserved "}),s.jsxs("div",{className:"flex gap-3 justify-center",children:[s.jsx(E,{variant:"outline",onClick:()=>e("/events"),children:"View Your Moments"}),s.jsx(E,{onClick:Y,className:"bg-gradient-to-r from-primary to-primary/80 text-white",children:"Continue Your Story"})]})]})})]})}function NP(e){var r;const n=(((r=e.find(i=>i.role==="user"))==null?void 0:r.content)||"").split(" ").slice(0,8).join(" ");return n.length>5?n+"...":"Interview with Noah"}function bP(e,t){const n=t.messages.filter(a=>a.role==="user").length,r=e.toLowerCase(),i=e.split(" ").length<15;if(n===0)return`Thank you for sharing that with me. ${Jr(e)}

What comes up for you when you sit with that memory?`;if(i&&n>0)return`I hear you. ${Jr(e)}

Take me back to that moment. What do you remember seeing around you?`;if(CP(r)){const a=kP(r);return`${SP(a)} ${Jr(e)}

Where did you feel that in your body?`}if(EP(r))return`${Jr(e)} It sounds like this person was significant.

What did they mean to you during that time?`;const o=[`${Jr(e)} There's something important there.

What stayed with you after that?`,`${Jr(e)} I can sense the weight of that.

How did that shape who you became?`,`${Jr(e)} Thank you for trusting me with that.

What do you know now that you didn't know then?`];return o[n%o.length]}function Jr(e){const t=e.split(" ").length;return t<10?"I hear you.":t<30?"That's meaningful.":"There's a lot in what you just shared."}function SP(e){const t={sad:"That sounds like it was really painful.",angry:"I can feel the weight of that frustration.",scared:"That must have been frightening.",happy:"There's warmth in how you describe that.",lonely:"That kind of loneliness stays with us.",default:"I can sense how much this matters to you."};return t[e]||t.default}function CP(e){return["sad","angry","scared","happy","lonely","hurt","afraid","love","hate","miss","lost","broken"].some(n=>e.includes(n))}function kP(e){return e.includes("sad")||e.includes("cry")||e.includes("miss")?"sad":e.includes("angry")||e.includes("mad")||e.includes("furious")?"angry":e.includes("scared")||e.includes("afraid")||e.includes("fear")?"scared":e.includes("happy")||e.includes("joy")||e.includes("love")?"happy":e.includes("alone")||e.includes("lonely")?"lonely":"default"}function EP(e){return["mother","father","mom","dad","brother","sister","friend","husband","wife","child","son","daughter"].some(n=>e.includes(n))}function TP(){const[e,t]=p.useState(()=>{const c=localStorage.getItem("memoirark-theme");return c==="light"||c==="dark"?c:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}),[n,r]=p.useState(()=>{if(!localStorage.getItem("memoirark-tour-completed"))return!1;const u=localStorage.getItem("memoirark-welcome-dismissed");if(!u)return!0;const h=new Date(u).getTime();return(Date.now()-h)/(1e3*60*60)>4}),{showTour:i,endTour:o}=ME();p.useEffect(()=>{const c=document.documentElement;e==="dark"?c.classList.add("dark"):c.classList.remove("dark"),localStorage.setItem("memoirark-theme",e)},[e]);const a=()=>{t(c=>c==="light"?"dark":"light")},l=()=>{r(!1),localStorage.setItem("memoirark-welcome-dismissed",new Date().toISOString())};return s.jsxs(M1,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:[i&&s.jsx(LE,{onComplete:o}),n&&!i&&s.jsx(IE,{onClose:l}),s.jsxs(Bk,{theme:e,toggleTheme:a,children:[s.jsx(FE,{}),s.jsxs(T1,{children:[s.jsx(ue,{path:"/",element:s.jsx(zE,{})}),s.jsx(ue,{path:"/events",element:s.jsx(S4,{})}),s.jsx(ue,{path:"/events/new",element:s.jsx(rg,{})}),s.jsx(ue,{path:"/events/:id",element:s.jsx(I4,{})}),s.jsx(ue,{path:"/events/:id/edit",element:s.jsx(rg,{})}),s.jsx(ue,{path:"/people",element:s.jsx(L4,{})}),s.jsx(ue,{path:"/people/new",element:s.jsx(sg,{})}),s.jsx(ue,{path:"/people/:id",element:s.jsx(M4,{})}),s.jsx(ue,{path:"/people/:id/edit",element:s.jsx(sg,{})}),s.jsx(ue,{path:"/artifacts",element:s.jsx(F4,{})}),s.jsx(ue,{path:"/artifacts/new",element:s.jsx(ig,{})}),s.jsx(ue,{path:"/artifacts/:id",element:s.jsx(_4,{})}),s.jsx(ue,{path:"/artifacts/:id/edit",element:s.jsx(ig,{})}),s.jsx(ue,{path:"/synchronicities",element:s.jsx(U4,{})}),s.jsx(ue,{path:"/synchronicities/new",element:s.jsx(og,{})}),s.jsx(ue,{path:"/synchronicities/:id",element:s.jsx(W4,{})}),s.jsx(ue,{path:"/synchronicities/:id/edit",element:s.jsx(og,{})}),s.jsx(ue,{path:"/timeline",element:s.jsx(q4,{})}),s.jsx(ue,{path:"/search",element:s.jsx(V4,{})}),s.jsx(ue,{path:"/chapters",element:s.jsx(Q4,{})}),s.jsx(ue,{path:"/chapters/:id",element:s.jsx(K4,{})}),s.jsx(ue,{path:"/export",element:s.jsx(Y4,{})}),s.jsx(ue,{path:"/tags",element:s.jsx(G4,{})}),s.jsx(ue,{path:"/tags/:id",element:s.jsx(X4,{})}),s.jsx(ue,{path:"/collections",element:s.jsx(J4,{})}),s.jsx(ue,{path:"/collections/:id",element:s.jsx(Z4,{})}),s.jsx(ue,{path:"/query",element:s.jsx(sP,{})}),s.jsx(ue,{path:"/upload",element:s.jsx(oP,{})}),s.jsx(ue,{path:"/manage/chapters",element:s.jsx(aP,{})}),s.jsx(ue,{path:"/manage/trauma-cycles",element:s.jsx(lP,{})}),s.jsx(ue,{path:"/manage/songs",element:s.jsx(cP,{})}),s.jsx(ue,{path:"/guide",element:s.jsx(dP,{})}),s.jsx(ue,{path:"/wizard",element:s.jsx(mP,{})}),s.jsx(ue,{path:"/import/messenger",element:s.jsx(pP,{})}),s.jsx(ue,{path:"/interview",element:s.jsx(jP,{})})]})]})]})}const PP=new Sb({defaultOptions:{queries:{staleTime:1e3*60*5,retry:1}}});ku.createRoot(document.getElementById("root")).render(s.jsx(Dn.StrictMode,{children:s.jsx(Cb,{client:PP,children:s.jsx(TP,{})})}));
